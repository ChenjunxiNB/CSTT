[Script Info]
; Script generated by Aegisub 3.2.2
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 3
ScaledBorderAndShadow: yes
YCbCr Matrix: TV.601
PlayResX: 1152
PlayResY: 720

[Aegisub Project Garbage]
Export Encoding: Unicode (UTF-8)
Audio File: D:/python_code/video_tool/video_tool/result/Lecture 7 - Lists IV Arrays and Lists.mp4
Video File: D:/python_code/video_tool/video_tool/result/Lecture 7 - Lists IV Arrays and Lists.mp4
Video AR Mode: 4
Video AR Value: 1.600000
Video Zoom Percent: 0.750000
Scroll Position: 1162
Active Line: 1054
Video Position: 12992

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Arial,13,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,90,100,0,0,1,1.33333,1.33333,2,6,6,7,1
Style: 英文,Arial,24,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,-1,0,0,0,90,100,0,0,1,1.33333,1.33333,2,1,1,5,1
Style: 中文,微软雅黑,38,&H0029EEF1,&H000000FF,&H00000000,&H00000000,-1,0,0,0,90,100,0,0,1,1.33333,1.33333,2,2,2,30,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,
Dialogue: 0,0:00:05.17,0:00:06.83,英文,,0,0,0,,Hi.
Dialogue: 0,0:00:05.17,0:00:06.83,中文,,0,0,0,,嗨
Dialogue: 0,0:00:06.83,0:00:09.25,英文,,0,0,0,,Let's talk about arrays and lists.
Dialogue: 0,0:00:06.83,0:00:09.25,中文,,0,0,0,,让我们谈谈数组和列表
Dialogue: 0,0:00:09.25,0:00:17.53,英文,,0,0,0,,So before I talk about array lists, which is our main topic for the day, we should stop and ask, why are we spending a whole lecture on array lists?
Dialogue: 0,0:00:09.25,0:00:17.53,中文,,0,0,0,,在我讲述数组列表之前 这是我们今天的主要话题 我们应该停下来问一下 为什么我们要花整个讲座来讲数组列表
Dialogue: 0,0:00:17.53,0:00:21.96,英文,,0,0,0,,So remember last time, we built this beautiful doubly linked list data structure.
Dialogue: 0,0:00:17.53,0:00:21.96,中文,,0,0,0,,记得上次 我们构建了这个漂亮的双向链表数据结构
Dialogue: 0,0:00:21.96,0:00:23.32,英文,,0,0,0,,I showed it to you in pictures.
Dialogue: 0,0:00:21.96,0:00:23.32,中文,,0,0,0,,我用图片给你们展示了
Dialogue: 0,0:00:23.32,0:00:25.12,英文,,0,0,0,,You're going to build this in Project 1A.
Dialogue: 0,0:00:23.32,0:00:25.12,中文,,0,0,0,,你们将在项目1A中构建它
Dialogue: 0,0:00:25.12,0:00:26.48,英文,,0,0,0,,It's going to look beautiful.
Dialogue: 0,0:00:25.12,0:00:26.48,中文,,0,0,0,,这将会看起来很漂亮
Dialogue: 0,0:00:26.48,0:00:28.28,英文,,0,0,0,,And it's state of the art.
Dialogue: 0,0:00:26.48,0:00:28.28,中文,,0,0,0,,而且它是最先进的
Dialogue: 0,0:00:28.28,0:00:29.24,英文,,0,0,0,,We have this middleman.
Dialogue: 0,0:00:28.28,0:00:29.24,中文,,0,0,0,,我们有这个中间人
Dialogue: 0,0:00:29.24,0:00:31.80,英文,,0,0,0,,We can ask the middleman to,
Dialogue: 0,0:00:29.24,0:00:31.80,中文,,0,0,0,,我们可以请中间人
Dialogue: 0,0:00:31.80,0:00:35.32,英文,,0,0,0,,add things to the list, remove things from the list, get things from the list.
Dialogue: 0,0:00:31.80,0:00:35.32,中文,,0,0,0,,向列表中添加东西 从列表中移除东西 从列表中获取东西
Dialogue: 0,0:00:35.32,0:00:41.43,英文,,0,0,0,,Our list is this beautifully doubly linked structure where I can get pointers to the next item, pointers to the previous item.
Dialogue: 0,0:00:35.32,0:00:41.43,中文,,0,0,0,,我们的列表是这个漂亮的双向链表结构 我可以得到指向下一个项目的指针 指向前一个项目的指针
Dialogue: 0,0:00:41.43,0:00:43.46,英文,,0,0,0,,And all these operations are pretty fast.
Dialogue: 0,0:00:41.43,0:00:43.46,中文,,0,0,0,,而且所有这些操作都相当快
Dialogue: 0,0:00:43.46,0:00:44.18,英文,,0,0,0,,So why?
Dialogue: 0,0:00:43.46,0:00:44.18,中文,,0,0,0,,为什么呢
Dialogue: 0,0:00:44.18,0:00:48.44,英文,,0,0,0,,Why do we have to build another array-based list?
Dialogue: 0,0:00:44.18,0:00:48.44,中文,,0,0,0,,我们为什么要构建另一个基于数组的列表呢
Dialogue: 0,0:00:48.44,0:00:50.78,英文,,0,0,0,,Why couldn't we just use this list all the time?
Dialogue: 0,0:00:48.44,0:00:50.78,中文,,0,0,0,,为什么我们不能一直使用这个列表呢
Dialogue: 0,0:00:50.78,0:00:57.51,英文,,0,0,0,,So turns out, while this list has pretty fast operations for the ones that we built last time, like addLast, getLast, removeLast,
Dialogue: 0,0:00:50.78,0:00:57.51,中文,,0,0,0,,原来 虽然这个列表对于我们上次构建的那些操作非常快 比如addLast、getLast、removeLast
Dialogue: 0,0:00:57.51,0:01:03.51,英文,,0,0,0,,let's think about trying to get an arbitrary item, like any item that you want from the list.
Dialogue: 0,0:00:57.51,0:01:03.51,中文,,0,0,0,,但是 让我们考虑尝试从列表中获取任意项 比如你想要的任何项
Dialogue: 0,0:01:03.51,0:01:06.72,英文,,0,0,0,,So what if I wanted to get, I don't know, the second item of the list?
Dialogue: 0,0:01:03.51,0:01:06.72,中文,,0,0,0,,那么如果我想要获取 我不知道 列表的第二项呢
Dialogue: 0,0:01:06.72,0:01:08.48,英文,,0,0,0,,Well, I'd have to start at the sentinel.
Dialogue: 0,0:01:06.72,0:01:08.48,中文,,0,0,0,,好吧 我得从哨兵开始
Dialogue: 0,0:01:08.48,0:01:11.50,英文,,0,0,0,,I'd have to follow the link to the 5, follow the link to the 17.
Dialogue: 0,0:01:08.48,0:01:11.50,中文,,0,0,0,,我得跟着链接到5 跟着链接到17
Dialogue: 0,0:01:11.50,0:01:13.34,英文,,0,0,0,,There is my item.
Dialogue: 0,0:01:11.50,0:01:13.34,中文,,0,0,0,,这是我的项目
Dialogue: 0,0:01:13.34,0:01:14.98,英文,,0,0,0,,And at first, this seems like,
Dialogue: 0,0:01:13.34,0:01:14.98,中文,,0,0,0,,起初 这似乎是这样的
Dialogue: 0,0:01:14.98,0:01:16.18,英文,,0,0,0,,Well, that's not so bad.
Dialogue: 0,0:01:14.98,0:01:16.18,中文,,0,0,0,,这并不那么糟糕
Dialogue: 0,0:01:16.18,0:01:21.21,英文,,0,0,0,,But what if my list was a million items long and I wanted item number 500,000?
Dialogue: 0,0:01:16.18,0:01:21.21,中文,,0,0,0,,但是如果我的列表有一百万个项目 我想要第 500,000 个项目呢
Dialogue: 0,0:01:21.21,0:01:29.05,英文,,0,0,0,,Then no matter what, you're gonna have to start at the Sentinel and you're gonna have to scan 500,000 items before you find the item that you're looking for.
Dialogue: 0,0:01:21.21,0:01:29.05,中文,,0,0,0,,那么无论如何 你都得从哨兵开始 你都得扫描 500,000 个项目 才能找到你要找的项目
Dialogue: 0,0:01:29.05,0:01:34.05,英文,,0,0,0,,So as your list grows really, really large, this get operation could get slowed.
Dialogue: 0,0:01:29.05,0:01:34.05,中文,,0,0,0,,当你的列表变得非常非常大时 这个获取操作可能会变慢
Dialogue: 0,0:01:34.05,0:01:35.61,英文,,0,0,0,,So how do we fix this?
Dialogue: 0,0:01:34.05,0:01:35.61,中文,,0,0,0,,那么我们该怎么解决这个问题呢
Dialogue: 0,0:01:35.61,0:01:37.77,英文,,0,0,0,,Well,
Dialogue: 0,0:01:35.61,0:01:37.77,中文,,0,0,0,,好吧
Dialogue: 0,0:01:37.77,0:01:38.86,英文,,0,0,0,,There are a couple of approaches.
Dialogue: 0,0:01:37.77,0:01:38.86,中文,,0,0,0,,有几种方法
Dialogue: 0,0:01:38.86,0:01:49.46,英文,,0,0,0,,So later in the class, like after the midterm, we'll talk about maybe there's a way I can change the way that these links are designed to make finding the item that I'm looking for a lot faster.
Dialogue: 0,0:01:38.86,0:01:49.46,中文,,0,0,0,,在课上晚些时候 比如期中考试之后 我们会讨论也许有一种方法可以改变这些链接的设计方式 使得找到我要找的物品更快
Dialogue: 0,0:01:49.46,0:01:51.28,英文,,0,0,0,,That's going to come after the midterm.
Dialogue: 0,0:01:49.46,0:01:51.28,中文,,0,0,0,,那会在期中考试之后进行
Dialogue: 0,0:01:51.28,0:01:54.99,英文,,0,0,0,,But for today, we're going to consider, let's not use these links anymore.
Dialogue: 0,0:01:51.28,0:01:54.99,中文,,0,0,0,,但是今天 我们要考虑的是 我们不再使用这些链接了
Dialogue: 0,0:01:54.99,0:02:00.07,英文,,0,0,0,,In fact, let's store the items of our array or of our list in a backing array.
Dialogue: 0,0:01:54.99,0:02:00.07,中文,,0,0,0,,实际上 让我们把我们数组或列表的项存储在一个后备数组中
Dialogue: 0,0:02:00.07,0:02:04.95,英文,,0,0,0,,Because if we store the list in an array, then there are no more pesky links that we have to follow.
Dialogue: 0,0:02:00.07,0:02:04.95,中文,,0,0,0,,因为如果我们把列表存储在一个数组中 那么我们就不再需要跟随那些讨厌的链接了
Dialogue: 0,0:02:04.95,0:02:12.54,英文,,0,0,0,,And maybe we can get rid of this problem where if I want the 500,000th item, I have to scan through half the list because that's super slow.
Dialogue: 0,0:02:04.95,0:02:12.54,中文,,0,0,0,,也许我们可以解决这个问题 如果我想要第 500,000 个项目 我不必扫描一半的列表 因为那太慢了
Dialogue: 0,0:02:12.54,0:02:14.72,英文,,0,0,0,,OK. So that's linked lists.
Dialogue: 0,0:02:12.54,0:02:14.72,中文,,0,0,0,,好的  那就是链表
Dialogue: 0,0:02:14.72,0:02:15.90,英文,,0,0,0,,Everyone good with that?
Dialogue: 0,0:02:14.72,0:02:15.90,中文,,0,0,0,,大家都同意吗
Dialogue: 0,0:02:15.90,0:02:17.62,英文,,0,0,0,,Say goodbye to linked lists.
Dialogue: 0,0:02:15.90,0:02:17.62,中文,,0,0,0,,告别链表吧
Dialogue: 0,0:02:17.62,0:02:20.34,英文,,0,0,0,,We'll never see it again, except in Project 1A.
Dialogue: 0,0:02:17.62,0:02:20.34,中文,,0,0,0,,我们再也不会见到它了 除非在项目 1A 中
Dialogue: 0,0:02:20.34,0:02:22.22,英文,,0,0,0,,OK. And the exam.
Dialogue: 0,0:02:20.34,0:02:22.22,中文,,0,0,0,,好的  考试时间到了
Dialogue: 0,0:02:22.22,0:02:23.32,英文,,0,0,0,,Oh, OK.
Dialogue: 0,0:02:22.22,0:02:23.32,中文,,0,0,0,,哦 好的
Dialogue: 0,0:02:23.32,0:02:23.70,英文,,0,0,0,,Sorry.
Dialogue: 0,0:02:23.32,0:02:23.70,中文,,0,0,0,,抱歉
Dialogue: 0,0:02:23.70,0:02:30.01,英文,,0,0,0,,OK. I guess it's on the exam, too.
Dialogue: 0,0:02:23.70,0:02:25.26,中文,,0,0,0,,我想考试内容也包括这个
Dialogue: 0,0:02:25.26,0:02:30.01,中文,,0,0,0,,那我们要开始用数组构建列表了
Dialogue: 0,0:02:30.01,0:02:32.07,英文,,0,0,0,,So remember a couple of things about the array.
Dialogue: 0,0:02:30.01,0:02:32.07,中文,,0,0,0,,记住关于数组的几件事
Dialogue: 0,0:02:32.07,0:02:35.75,英文,,0,0,0,,One thing is that in an array, first of all, the array is what?
Dialogue: 0,0:02:32.07,0:02:35.75,中文,,0,0,0,,首先 数组是什么
Dialogue: 0,0:02:35.75,0:02:38.05,英文,,0,0,0,,It's just a bunch of items placed side by side.
Dialogue: 0,0:02:35.75,0:02:38.05,中文,,0,0,0,,它只是一堆项目并排放置
Dialogue: 0,0:02:38.05,0:02:39.95,英文,,0,0,0,,Every item has a unique index.
Dialogue: 0,0:02:38.05,0:02:39.95,中文,,0,0,0,,每个项目都有一个唯一的索引
Dialogue: 0,0:02:39.95,0:02:49.99,英文,,0,0,0,,And one thing that we haven't talked about yet, but we'll briefly touch on, is that if you have an array, no matter how big the array is, if I ask for an item in the array, it's fast.
Dialogue: 0,0:02:39.95,0:02:49.99,中文,,0,0,0,,还有一件事我们还没有讨论 但我们会简要提一下 那就是如果你有一个数组 无论数组有多大 如果我要求数组中的一个项目 它都会很快
Dialogue: 0,0:02:49.99,0:02:51.07,英文,,0,0,0,,It's instant.
Dialogue: 0,0:02:49.99,0:02:51.07,中文,,0,0,0,,它是即时的
Dialogue: 0,0:02:51.07,0:02:58.16,英文,,0,0,0,,Even if my array is a million items long and I say I want item 500,000, Java will get it to you quick, instantly.
Dialogue: 0,0:02:51.07,0:02:58.16,中文,,0,0,0,,即使我的数组有一百万个项目 我说我要第五十万个项目 Java会立即给你带来它
Dialogue: 0,0:02:58.16,0:03:00.16,英文,,0,0,0,,So why is that true?
Dialogue: 0,0:02:58.16,0:03:01.24,中文,,0,0,0,,那为什么是真的呢  61c会告诉你更多关于它的信息
Dialogue: 0,0:03:00.16,0:03:04.68,英文,,0,0,0,,61c will tell you more about it. It has to do with something about how the bits are stored in hardware.
Dialogue: 0,0:03:01.24,0:03:04.68,中文,,0,0,0,,这与硬件中比特存储的方式有关
Dialogue: 0,0:03:04.68,0:03:06.06,英文,,0,0,0,,We're not going to talk about it.
Dialogue: 0,0:03:04.68,0:03:06.06,中文,,0,0,0,,我们不打算讨论这个
Dialogue: 0,0:03:06.06,0:03:12.53,英文,,0,0,0,,But for the purposes of this class, you can assume that if you have an array and I ask for an item in the array, that operation is instant.
Dialogue: 0,0:03:06.06,0:03:12.53,中文,,0,0,0,,但在这门课程中 你可以假设如果你有一个数组 而我要求数组中的某个项目 那个操作是瞬时的
Dialogue: 0,0:03:12.53,0:03:14.09,英文,,0,0,0,,It doesn't matter how big the array is.
Dialogue: 0,0:03:12.53,0:03:14.09,中文,,0,0,0,,数组有多大都没关系
Dialogue: 0,0:03:14.09,0:03:16.31,英文,,0,0,0,,You're going to get that item instantly.
Dialogue: 0,0:03:14.09,0:03:16.31,中文,,0,0,0,,你会立即得到那个项目
Dialogue: 0,0:03:16.31,0:03:18.53,英文,,0,0,0,,Now, in real life, there are a couple of exceptions.
Dialogue: 0,0:03:16.31,0:03:18.53,中文,,0,0,0,,现在 在现实生活中 有一些例外情况
Dialogue: 0,0:03:18.53,0:03:21.45,英文,,0,0,0,,But for this class, that's good enough.
Dialogue: 0,0:03:18.53,0:03:21.45,中文,,0,0,0,,但对于这节课来说 那就够了
Dialogue: 0,0:03:21.45,0:03:36.89,英文,,0,0,0,,OK, so wouldn't fix I. So if I declare I want an array with five items, Java gives you five memory boxes side by side to store the five items.
Dialogue: 0,0:03:21.45,0:03:36.89,中文,,0,0,0,,那么我不修复 I 如果我声明我想要一个包含五个项目的数组 Java 会给你五个相邻的内存盒来存储这五个项目
Dialogue: 0,0:03:36.89,0:03:37.69,英文,,0,0,0,,And that's it.
Dialogue: 0,0:03:36.89,0:03:37.69,中文,,0,0,0,,就是这样
Dialogue: 0,0:03:37.69,0:03:38.77,英文,,0,0,0,,You don't get any more boxes.
Dialogue: 0,0:03:37.69,0:03:38.77,中文,,0,0,0,,你不会得到更多的盒子
Dialogue: 0,0:03:38.77,0:03:40.85,英文,,0,0,0,,You can't say, well, I want more boxes at the end.
Dialogue: 0,0:03:38.77,0:03:40.85,中文,,0,0,0,,你不能说 我想在末尾再要一些盒子
Dialogue: 0,0:03:40.85,0:03:43.73,英文,,0,0,0,,Java's going to say, no, you asked me for five boxes.
Dialogue: 0,0:03:40.85,0:03:43.73,中文,,0,0,0,,Java 会说 不 你要求我给你五个盒子
Dialogue: 0,0:03:43.73,0:03:44.37,英文,,0,0,0,,You get five.
Dialogue: 0,0:03:43.73,0:03:44.37,中文,,0,0,0,,你得到五个
Dialogue: 0,0:03:44.37,0:03:45.55,英文,,0,0,0,,That's it.
Dialogue: 0,0:03:44.37,0:03:45.55,中文,,0,0,0,,就这样
Dialogue: 0,0:03:45.55,0:03:48.64,英文,,0,0,0,,So we're going to have to use the array to design a list.
Dialogue: 0,0:03:45.55,0:03:48.64,中文,,0,0,0,,我们将不得不使用数组来设计一个列表
Dialogue: 0,0:03:48.64,0:03:51.10,英文,,0,0,0,,And remember, lists are infinitely extensible.
Dialogue: 0,0:03:48.64,0:03:51.10,中文,,0,0,0,,记住 列表是无限可扩展的
Dialogue: 0,0:03:51.10,0:03:56.38,英文,,0,0,0,,The user can try to add last to their heart's content, just like in the T list that we built last time.
Dialogue: 0,0:03:51.10,0:03:56.38,中文,,0,0,0,,用户可以尽情尝试添加到最后 就像我们上次构建的 T 列表一样
Dialogue: 0,0:03:56.38,0:04:03.34,英文,,0,0,0,,They can call addLast all they want, and the list should continue working until you run out of memory or the universe ends or something.
Dialogue: 0,0:03:56.38,0:04:03.34,中文,,0,0,0,,他们可以随心所欲地调用 addLast 列表应该继续工作 直到内存耗尽或宇宙终结或其他情况发生
Dialogue: 0,0:04:03.34,0:04:11.56,英文,,0,0,0,,So we want to use the array, which is a fixed-length data structure, to build a list, which is an infinitely extensible data structure.
Dialogue: 0,0:04:03.34,0:04:11.56,中文,,0,0,0,,我们想要使用数组 它是一个固定长度的数据结构 来构建一个列表 它是一个无限可扩展的数据结构
Dialogue: 0,0:04:11.56,0:04:13.67,英文,,0,0,0,,So how will we do that?
Dialogue: 0,0:04:11.56,0:04:13.67,中文,,0,0,0,,那我们要怎么做呢
Dialogue: 0,0:04:13.67,0:04:17.75,英文,,0,0,0,,Well, first we have to think about, what does the list need as public methods?
Dialogue: 0,0:04:13.67,0:04:17.75,中文,,0,0,0,,首先我们得想想 这个列表需要什么公共方法
Dialogue: 0,0:04:17.75,0:04:22.37,英文,,0,0,0,,So remember, last time we talked about, or two lectures ago, we talked about the car.
Dialogue: 0,0:04:17.75,0:04:22.37,中文,,0,0,0,,记得 上次我们谈到 或者两节课前 我们谈到了汽车
Dialogue: 0,0:04:22.37,0:04:25.90,英文,,0,0,0,,And it had the public operations, like the pedals and the steering wheel.
Dialogue: 0,0:04:22.37,0:04:25.90,中文,,0,0,0,,它有像踏板和方向盘这样的公共操作
Dialogue: 0,0:04:25.90,0:04:31.44,英文,,0,0,0,,Then it had all the private stuff, like the fuel lines and the gas tank.
Dialogue: 0,0:04:25.90,0:04:31.44,中文,,0,0,0,,然后它有所有的私人东西 比如燃油管和油箱
Dialogue: 0,0:04:31.44,0:04:35.24,英文,,0,0,0,,What are the public operations that our new A-list structure needs?
Dialogue: 0,0:04:31.44,0:04:35.24,中文,,0,0,0,,我们新的 AList结构需要哪些公共操作
Dialogue: 0,0:04:35.24,0:04:37.45,英文,,0,0,0,,Well, they're kind of the same things as the S-list, right?
Dialogue: 0,0:04:35.24,0:04:37.45,中文,,0,0,0,,它们和 SLList的东西有点相似 对吧
Dialogue: 0,0:04:37.45,0:04:41.07,英文,,0,0,0,,So the S-list was a list, the A-list also a list.
Dialogue: 0,0:04:37.45,0:04:41.07,中文,,0,0,0,,所以SLList是一个列表 AList也是一个列表
Dialogue: 0,0:04:41.07,0:04:45.73,英文,,0,0,0,,So hopefully, my A-list has the same public methods, the things that the user interacts with.
Dialogue: 0,0:04:41.07,0:04:45.73,中文,,0,0,0,,希望我的 AList有相同的公共方法 用户与之交互的那些东西
Dialogue: 0,0:04:45.73,0:04:51.74,英文,,0,0,0,,So I should be able to walk up to my A-list and say, add this item, or give me the last item, or remove the last item.
Dialogue: 0,0:04:45.73,0:04:51.74,中文,,0,0,0,,我应该能够走到我的 AList前 说 添加这个项目 或者给我最后一个项目 或者移除最后一个项目
Dialogue: 0,0:04:51.74,0:04:53.38,英文,,0,0,0,,So we'll implement those.
Dialogue: 0,0:04:51.74,0:04:53.38,中文,,0,0,0,,我们将实现这些
Dialogue: 0,0:04:53.38,0:04:56.72,英文,,0,0,0,,But the thing that's going to be different is the underlying implementation.
Dialogue: 0,0:04:53.38,0:04:56.72,中文,,0,0,0,,但不同的是底层实现
Dialogue: 0,0:04:56.72,0:05:01.98,英文,,0,0,0,,So this is like the mechanic taking your car and ripping up the fuel line and then putting in a battery.
Dialogue: 0,0:04:56.72,0:05:01.98,中文,,0,0,0,,这就像技师拿走你的车并拆掉燃油管线然后装上一个电池
Dialogue: 0,0:05:01.98,0:05:09.49,英文,,0,0,0,,We're going to take the underlying implementation, which used to be this linkless structure, and we're going to replace it with some backing array.
Dialogue: 0,0:05:01.98,0:05:09.49,中文,,0,0,0,,我们将采用曾经是这个无链结构的底层实现 并将其替换为一些支持数组
Dialogue: 0,0:05:09.49,0:05:10.83,英文,,0,0,0,,So that's our goal for today.
Dialogue: 0,0:05:09.49,0:05:10.83,中文,,0,0,0,,今天的目标就是这样
Dialogue: 0,0:05:10.83,0:05:18.60,英文,,0,0,0,,The same operations, but we're going to build it a totally different way, even though the user experience is going to end up more or less the same.
Dialogue: 0,0:05:10.83,0:05:18.60,中文,,0,0,0,,操作相同 但我们会用完全不同的方式构建 尽管用户体验最终会大致相同
Dialogue: 0,0:05:18.60,0:05:21.20,英文,,0,0,0,,OK, so let's build it.
Dialogue: 0,0:05:18.60,0:05:21.20,中文,,0,0,0,,好 我们开始构建
Dialogue: 0,0:05:21.20,0:05:22.82,英文,,0,0,0,,So I'm going to hop into IntelliJ.
Dialogue: 0,0:05:21.20,0:05:22.82,中文,,0,0,0,,我会跳到IntelliJ里
Dialogue: 0,0:05:22.82,0:05:24.64,英文,,0,0,0,,You tell me if anything's not readable.
Dialogue: 0,0:05:22.82,0:05:24.64,中文,,0,0,0,,如果有什么看不清的 告诉我
Dialogue: 0,0:05:24.64,0:05:29.55,英文,,0,0,0,,So this time, just to save a bit of time, we've written the method signatures already.
Dialogue: 0,0:05:24.64,0:05:29.55,中文,,0,0,0,,这次为了节省时间 我们已经写好了方法签名
Dialogue: 0,0:05:29.55,0:05:33.57,英文,,0,0,0,,They're the same ones as last time, so nothing new, but just saves us a bit of time.
Dialogue: 0,0:05:29.55,0:05:33.57,中文,,0,0,0,,和上次一样 没有新内容 但这样可以节省一些时间
Dialogue: 0,0:05:33.57,0:05:35.51,英文,,0,0,0,,So we'll start up here when we're building the AList.
Dialogue: 0,0:05:33.57,0:05:35.51,中文,,0,0,0,,我们在构建AList时会从这里开始
Dialogue: 0,0:05:35.51,0:05:37.64,英文,,0,0,0,,What are the instance variables that I need?
Dialogue: 0,0:05:35.51,0:05:37.64,中文,,0,0,0,,我需要哪些实例变量
Dialogue: 0,0:05:37.64,0:05:43.16,英文,,0,0,0,,So if I'm running a blueprint for how all lists should behave, what do I need in a list?
Dialogue: 0,0:05:37.64,0:05:43.16,中文,,0,0,0,,如果我正在运行一个关于所有列表应该如何行为的蓝图 我需要什么样的列表
Dialogue: 0,0:05:43.16,0:05:47.10,英文,,0,0,0,,I think, well, We already talked about the list being array-based.
Dialogue: 0,0:05:43.16,0:05:47.10,中文,,0,0,0,,我想  我们已经讨论过列表是基于数组的
Dialogue: 0,0:05:47.10,0:05:52.02,英文,,0,0,0,,So probably, I want some sort of integer array to store my items.
Dialogue: 0,0:05:47.10,0:05:52.02,中文,,0,0,0,,我可能想要某种整数数组来存储我的项目
Dialogue: 0,0:05:52.02,0:05:55.95,英文,,0,0,0,,So maybe I'll call it private int items, int array items.
Dialogue: 0,0:05:52.02,0:05:55.95,中文,,0,0,0,,也许我会把它称为私有整数项 整数数组项
Dialogue: 0,0:05:55.95,0:05:56.47,英文,,0,0,0,,OK, great.
Dialogue: 0,0:05:55.95,0:05:56.47,中文,,0,0,0,,太棒了
Dialogue: 0,0:05:56.47,0:06:00.99,英文,,0,0,0,,In case you're wondering why it's private, that's because, remember, this is an implementation detail.
Dialogue: 0,0:05:56.47,0:06:00.99,中文,,0,0,0,,如果你想知道为什么是私有的 那是因为 记住 这是一个实现细节
Dialogue: 0,0:06:00.99,0:06:04.07,英文,,0,0,0,,The user outside does not care that I'm using an array.
Dialogue: 0,0:06:00.99,0:06:04.07,中文,,0,0,0,,外部用户不关心我是否使用数组
Dialogue: 0,0:06:04.07,0:06:06.09,英文,,0,0,0,,For all they care, I could be using links.
Dialogue: 0,0:06:04.07,0:06:06.09,中文,,0,0,0,,对他们来说 我可能在使用链接
Dialogue: 0,0:06:06.09,0:06:07.92,英文,,0,0,0,,I could be using something even weirder.
Dialogue: 0,0:06:06.09,0:06:07.92,中文,,0,0,0,,我甚至可能在使用更奇怪的东西
Dialogue: 0,0:06:07.92,0:06:08.96,英文,,0,0,0,,They don't care.
Dialogue: 0,0:06:07.92,0:06:08.96,中文,,0,0,0,,他们不关心
Dialogue: 0,0:06:08.96,0:06:10.42,英文,,0,0,0,,So it's private.
Dialogue: 0,0:06:08.96,0:06:10.42,中文,,0,0,0,,它是私有的
Dialogue: 0,0:06:10.42,0:06:13.78,英文,,0,0,0,,I guess I could also add the size just to keep track of how big the array is.
Dialogue: 0,0:06:10.42,0:06:13.78,中文,,0,0,0,,我猜我也可以加上大小 只是为了追踪数组有多大
Dialogue: 0,0:06:13.78,0:06:17.83,英文,,0,0,0,,Kind of similar to how we use size in our S list.
Dialogue: 0,0:06:13.78,0:06:17.83,中文,,0,0,0,,有点类似我们在S列表中使用大小的方式
Dialogue: 0,0:06:17.83,0:06:21.93,英文,,0,0,0,,So I declared, for now, maybe I can go back and change later if I change my mind.
Dialogue: 0,0:06:17.83,0:06:21.93,中文,,0,0,0,,我声明了 暂时先这样 如果我改变主意以后可能还可以回来改
Dialogue: 0,0:06:21.93,0:06:24.95,英文,,0,0,0,,I've declared these are the things that all A lists should have.
Dialogue: 0,0:06:21.93,0:06:24.95,中文,,0,0,0,,我已经声明这些是所有A列表应该具备的东西
Dialogue: 0,0:06:24.95,0:06:30.24,英文,,0,0,0,,An A list should have an integer array to store my things and should also keep track of the size.
Dialogue: 0,0:06:24.95,0:06:30.24,中文,,0,0,0,,一个A列表应该有一个整数数组来存储我的东西 并且还应该追踪大小
Dialogue: 0,0:06:30.24,0:06:34.52,英文,,0,0,0,,So now, when I create an empty list, I need to initialize both of these variables.
Dialogue: 0,0:06:30.24,0:06:34.52,中文,,0,0,0,,现在 当我创建一个空列表时 我需要初始化这两个变量
Dialogue: 0,0:06:34.52,0:06:38.51,英文,,0,0,0,,I declare that they exist, but I haven't told you what they're equal to yet.
Dialogue: 0,0:06:34.52,0:06:38.51,中文,,0,0,0,,我声明它们存在 但我还没告诉你它们等于什么
Dialogue: 0,0:06:38.51,0:06:40.51,英文,,0,0,0,,I haven't assigned them to any objects.
Dialogue: 0,0:06:38.51,0:06:40.51,中文,,0,0,0,,我还没有将它们赋给任何对象
Dialogue: 0,0:06:40.51,0:06:41.89,英文,,0,0,0,,So I'm going to do that right here.
Dialogue: 0,0:06:40.51,0:06:41.89,中文,,0,0,0,,我现在要在这里做这件事
Dialogue: 0,0:06:41.89,0:06:43.55,英文,,0,0,0,,What should items be equal to?
Dialogue: 0,0:06:41.89,0:06:43.55,中文,,0,0,0,,items应该等于什么
Dialogue: 0,0:06:43.55,0:06:47.21,英文,,0,0,0,,Well, probably a brand new, fresh integer array.
Dialogue: 0,0:06:43.55,0:06:47.21,中文,,0,0,0,,可能是一个全新的、新鲜的整数数组
Dialogue: 0,0:06:47.21,0:06:49.53,英文,,0,0,0,,So I'll make a brand new, fresh integer array.
Dialogue: 0,0:06:47.21,0:06:49.53,中文,,0,0,0,,我会创建一个全新的、新鲜的整数数组
Dialogue: 0,0:06:49.53,0:06:52.28,英文,,0,0,0,,How big do I want that array to be?
Dialogue: 0,0:06:49.53,0:06:52.28,中文,,0,0,0,,我想让这个数组有多大
Dialogue: 0,0:06:52.28,0:06:54.46,英文,,0,0,0,,For now, I'm going to say 100.
Dialogue: 0,0:06:52.28,0:06:54.46,中文,,0,0,0,,暂时 我会说100
Dialogue: 0,0:06:54.46,0:06:55.50,英文,,0,0,0,,If you don't like that,
Dialogue: 0,0:06:54.46,0:06:55.50,中文,,0,0,0,,如果你不喜欢这样
Dialogue: 0,0:06:55.50,0:06:57.04,英文,,0,0,0,,You're going to have to stay tuned.
Dialogue: 0,0:06:55.50,0:06:57.04,中文,,0,0,0,,你就得继续关注了
Dialogue: 0,0:06:57.04,0:06:58.34,英文,,0,0,0,,But for now, I'll say, you know what?
Dialogue: 0,0:06:57.04,0:06:58.34,中文,,0,0,0,,但是现在 我要说 你知道吗
Dialogue: 0,0:06:58.34,0:07:00.63,英文,,0,0,0,,Items, I think you can be size 100.
Dialogue: 0,0:06:58.34,0:07:00.63,中文,,0,0,0,,项目 我觉得可以是大小100
Dialogue: 0,0:07:00.63,0:07:02.75,英文,,0,0,0,,And what about size?
Dialogue: 0,0:07:00.63,0:07:02.75,中文,,0,0,0,,那么大小呢
Dialogue: 0,0:07:02.75,0:07:06.39,英文,,0,0,0,,If it's an empty list, it should have zero things in it.
Dialogue: 0,0:07:02.75,0:07:06.39,中文,,0,0,0,,如果是空列表 它应该是零
Dialogue: 0,0:07:06.39,0:07:09.00,英文,,0,0,0,,Why is IntelliJ complaining?
Dialogue: 0,0:07:06.39,0:07:09.00,中文,,0,0,0,,为什么IntelliJ在抱怨
Dialogue: 0,0:07:09.00,0:07:10.36,英文,,0,0,0,,We'll make that go away later.
Dialogue: 0,0:07:09.00,0:07:10.36,中文,,0,0,0,,我们稍后会解决这个问题的
Dialogue: 0,0:07:10.36,0:07:11.28,英文,,0,0,0,,Don't you worry.
Dialogue: 0,0:07:10.36,0:07:11.28,中文,,0,0,0,,你别担心
Dialogue: 0,0:07:11.28,0:07:14.02,英文,,0,0,0,,OK, so now I'm going to start writing addLast.
Dialogue: 0,0:07:11.28,0:07:14.02,中文,,0,0,0,,现在我要开始写addLast了
Dialogue: 0,0:07:14.02,0:07:18.06,英文,,0,0,0,,I want to know, how do you add things into this list?
Dialogue: 0,0:07:14.02,0:07:18.06,中文,,0,0,0,,我想知道 你怎么往这个列表里添加东西
Dialogue: 0,0:07:18.06,0:07:23.51,英文,,0,0,0,,And so I look, and I'm already a little scared, because I'm like, wait, what if there's an off by one error?
Dialogue: 0,0:07:18.06,0:07:23.51,中文,,0,0,0,,我看了一下 我已经有点害怕了 因为我在想 如果有一个偏移量错误怎么办
Dialogue: 0,0:07:23.51,0:07:27.67,英文,,0,0,0,,What if I wanted to put it in this place, but I missed it by one?
Dialogue: 0,0:07:23.51,0:07:27.67,中文,,0,0,0,,如果我想把它放在这个地方 但我错过了一个位置 会怎么样
Dialogue: 0,0:07:27.67,0:07:29.33,英文,,0,0,0,,I'm not so sure.
Dialogue: 0,0:07:27.67,0:07:29.33,中文,,0,0,0,,我不太确定
Dialogue: 0,0:07:29.33,0:07:30.65,英文,,0,0,0,,So here's what I'm going to do.
Dialogue: 0,0:07:29.33,0:07:30.65,中文,,0,0,0,,这是我要做的事情
Dialogue: 0,0:07:30.65,0:07:33.93,英文,,0,0,0,,Because I'm not so sure, I'm going to draw a picture.
Dialogue: 0,0:07:30.65,0:07:33.93,中文,,0,0,0,,因为我不太确定 我要画个图
Dialogue: 0,0:07:33.93,0:07:35.67,英文,,0,0,0,,You could draw this on paper.
Dialogue: 0,0:07:33.93,0:07:35.67,中文,,0,0,0,,你可以在纸上画这个
Dialogue: 0,0:07:35.67,0:07:38.67,英文,,0,0,0,,You could type it in IntelliJ like I'm going to do.
Dialogue: 0,0:07:35.67,0:07:38.67,中文,,0,0,0,,你可以像我一样在IntelliJ里输入它
Dialogue: 0,0:07:38.67,0:07:41.45,英文,,0,0,0,,You could write it on chalk on the floor.
Dialogue: 0,0:07:38.67,0:07:41.45,中文,,0,0,0,,你也可以在地板上用粉笔写
Dialogue: 0,0:07:41.45,0:07:42.33,英文,,0,0,0,,It's up to you.
Dialogue: 0,0:07:41.45,0:07:42.33,中文,,0,0,0,,由你决定
Dialogue: 0,0:07:42.33,0:07:47.40,英文,,0,0,0,,But I'm going to draw a little example just to get my mind going and try to think about what's going on.
Dialogue: 0,0:07:42.33,0:07:47.40,中文,,0,0,0,,但我打算画一个小例子 只是为了启动我的思维 试图思考发生了什么
Dialogue: 0,0:07:47.40,0:07:50.54,英文,,0,0,0,,So when I create the A-list, I get this big old array.
Dialogue: 0,0:07:47.40,0:07:50.54,中文,,0,0,0,,当我创建A列表时 我得到了一个大数组
Dialogue: 0,0:07:50.54,0:07:52.54,英文,,0,0,0,,And all of the items are 0.
Dialogue: 0,0:07:50.54,0:07:52.54,中文,,0,0,0,,而且所有的项都是0
Dialogue: 0,0:07:52.54,0:07:54.50,英文,,0,0,0,,That's my new int array, 100.
Dialogue: 0,0:07:52.54,0:07:54.50,中文,,0,0,0,,这是我的新整数数组 有100个
Dialogue: 0,0:07:54.50,0:07:58.11,英文,,0,0,0,,All the items are filled in with the default value 0.
Dialogue: 0,0:07:54.50,0:07:58.11,中文,,0,0,0,,所有的项都填充了默认值0
Dialogue: 0,0:07:58.11,0:07:59.45,英文,,0,0,0,,And each of these items has an index.
Dialogue: 0,0:07:58.11,0:07:59.45,中文,,0,0,0,,而且每个项目都有一个索引
Dialogue: 0,0:07:59.45,0:08:03.08,英文,,0,0,0,,So that's like index 0, index 1.
Dialogue: 0,0:07:59.45,0:08:03.08,中文,,0,0,0,,所以就像是索引0 索引1
Dialogue: 0,0:08:03.08,0:08:03.74,英文,,0,0,0,,Cool.
Dialogue: 0,0:08:03.08,0:08:03.74,中文,,0,0,0,,好的
Dialogue: 0,0:08:03.74,0:08:07.38,英文,,0,0,0,,So at this point, size is equal to 0.
Dialogue: 0,0:08:03.74,0:08:07.38,中文,,0,0,0,,在这一点上 大小等于0
Dialogue: 0,0:08:07.38,0:08:08.76,英文,,0,0,0,,So what happens when I add last?
Dialogue: 0,0:08:07.38,0:08:08.76,中文,,0,0,0,,那么当我添加最后一个元素时会发生什么呢
Dialogue: 0,0:08:08.76,0:08:10.88,英文,,0,0,0,,Well, I should go to the array.
Dialogue: 0,0:08:08.76,0:08:10.88,中文,,0,0,0,,我应该去数组那儿
Dialogue: 0,0:08:10.88,0:08:12.80,英文,,0,0,0,,I should put something in the array.
Dialogue: 0,0:08:10.88,0:08:12.80,中文,,0,0,0,,我应该在数组里放些东西
Dialogue: 0,0:08:12.80,0:08:15.36,英文,,0,0,0,,So let's say I want to add last 5.
Dialogue: 0,0:08:12.80,0:08:15.36,中文,,0,0,0,,假设我想要添加最后5个
Dialogue: 0,0:08:15.36,0:08:16.66,英文,,0,0,0,,Maybe I'll put it there.
Dialogue: 0,0:08:15.36,0:08:16.66,中文,,0,0,0,,也许我会把它放在那里
Dialogue: 0,0:08:16.66,0:08:20.03,英文,,0,0,0,,And then size is now 1, because there's one thing in the array.
Dialogue: 0,0:08:16.66,0:08:20.03,中文,,0,0,0,,然后大小现在是1 因为数组中有一件事情
Dialogue: 0,0:08:20.03,0:08:21.37,英文,,0,0,0,,What if I want to add last again?
Dialogue: 0,0:08:20.03,0:08:21.37,中文,,0,0,0,,如果我再次想要添加最后呢
Dialogue: 0,0:08:21.37,0:08:22.79,英文,,0,0,0,,I want to add last 2.
Dialogue: 0,0:08:21.37,0:08:22.79,中文,,0,0,0,,我想要添加最后2个
Dialogue: 0,0:08:22.79,0:08:23.87,英文,,0,0,0,,What do I do?
Dialogue: 0,0:08:22.79,0:08:23.87,中文,,0,0,0,,我该怎么办
Dialogue: 0,0:08:23.87,0:08:25.13,英文,,0,0,0,,I go into the array.
Dialogue: 0,0:08:23.87,0:08:25.13,中文,,0,0,0,,我进入数组
Dialogue: 0,0:08:25.13,0:08:28.21,英文,,0,0,0,,I should add 2 to the end of the list, which would be right there.
Dialogue: 0,0:08:25.13,0:08:28.21,中文,,0,0,0,,我应该在列表末尾加 2 就在那里
Dialogue: 0,0:08:28.21,0:08:30.14,英文,,0,0,0,,Now size is 2.
Dialogue: 0,0:08:28.21,0:08:30.14,中文,,0,0,0,,现在大小是 2
Dialogue: 0,0:08:30.14,0:08:31.42,英文,,0,0,0,,And then I do it again.
Dialogue: 0,0:08:30.14,0:08:31.42,中文,,0,0,0,,然后我再做一次
Dialogue: 0,0:08:31.42,0:08:33.05,英文,,0,0,0,,OK, what if I want to add 7?
Dialogue: 0,0:08:31.42,0:08:33.05,中文,,0,0,0,,如果我想加 7 呢
Dialogue: 0,0:08:33.05,0:08:33.69,英文,,0,0,0,,I'll put it there.
Dialogue: 0,0:08:33.05,0:08:33.69,中文,,0,0,0,,我会把它放在那里
Dialogue: 0,0:08:33.69,0:08:35.09,英文,,0,0,0,,Size is equal to 3.
Dialogue: 0,0:08:33.69,0:08:35.09,中文,,0,0,0,,大小等于 3
Dialogue: 0,0:08:35.09,0:08:36.33,英文,,0,0,0,,What if I want to add 6?
Dialogue: 0,0:08:35.09,0:08:36.33,中文,,0,0,0,,如果我想加 6 呢
Dialogue: 0,0:08:36.33,0:08:37.19,英文,,0,0,0,,I'll put it there.
Dialogue: 0,0:08:36.33,0:08:37.19,中文,,0,0,0,,我会把它放在那里
Dialogue: 0,0:08:37.19,0:08:38.25,英文,,0,0,0,,Size is equal to 4.
Dialogue: 0,0:08:37.19,0:08:38.25,中文,,0,0,0,,大小等于4
Dialogue: 0,0:08:38.25,0:08:39.67,英文,,0,0,0,,So why am I doing this?
Dialogue: 0,0:08:38.25,0:08:39.67,中文,,0,0,0,,那我为什么要这样做呢
Dialogue: 0,0:08:39.67,0:08:47.50,英文,,0,0,0,,Because as I do this more and more, I'm going to start to spot a pattern, which is every time I want to add last, where am I putting it?
Dialogue: 0,0:08:39.67,0:08:47.50,中文,,0,0,0,,因为我做得越多 我就会开始发现一个模式 那就是每次我想要添加最后一个时 我要把它放在哪里
Dialogue: 0,0:08:47.50,0:08:50.32,英文,,0,0,0,,So for example, I'll do it one more time until you're sick of it.
Dialogue: 0,0:08:47.50,0:08:50.32,中文,,0,0,0,,例如 我会再做一次 直到你受够为止
Dialogue: 0,0:08:50.32,0:08:52.14,英文,,0,0,0,,I'll add, I don't know, 0.
Dialogue: 0,0:08:50.32,0:08:52.14,中文,,0,0,0,,我会添加 我不知道 0
Dialogue: 0,0:08:52.14,0:08:53.74,英文,,0,0,0,,OK, so I added 0.
Dialogue: 0,0:08:52.14,0:08:53.74,中文,,0,0,0,,我添加了0
Dialogue: 0,0:08:53.74,0:08:54.56,英文,,0,0,0,,Size is equal to 5.
Dialogue: 0,0:08:53.74,0:08:54.56,中文,,0,0,0,,大小等于5
Dialogue: 0,0:08:54.56,0:08:56.54,英文,,0,0,0,,I added, I don't know, 2.
Dialogue: 0,0:08:54.56,0:08:56.54,中文,,0,0,0,,我添加了 我不知道 2
Dialogue: 0,0:08:56.54,0:08:57.92,英文,,0,0,0,,Size is equal to 6.
Dialogue: 0,0:08:56.54,0:08:57.92,中文,,0,0,0,,大小等于6
Dialogue: 0,0:08:57.92,0:09:00.99,英文,,0,0,0,,So every time I add an item, I'm putting it right there.
Dialogue: 0,0:08:57.92,0:09:00.99,中文,,0,0,0,,每次我添加一个项目 我都把它放在那里
Dialogue: 0,0:09:00.99,0:09:03.51,英文,,0,0,0,,But what is the index of right there?
Dialogue: 0,0:09:00.99,0:09:03.51,中文,,0,0,0,,但那里的索引是什么
Dialogue: 0,0:09:03.51,0:09:04.65,英文,,0,0,0,,So I look here.
Dialogue: 0,0:09:03.51,0:09:04.65,中文,,0,0,0,,我在这里看
Dialogue: 0,0:09:04.65,0:09:06.11,英文,,0,0,0,,Index is 6.
Dialogue: 0,0:09:04.65,0:09:06.11,中文,,0,0,0,,索引是6
Dialogue: 0,0:09:06.11,0:09:07.45,英文,,0,0,0,,Aha, the size is also 6.
Dialogue: 0,0:09:06.11,0:09:07.45,中文,,0,0,0,,哦 大小也是6
Dialogue: 0,0:09:07.45,0:09:09.25,英文,,0,0,0,,So what have I learned?
Dialogue: 0,0:09:07.45,0:09:09.25,中文,,0,0,0,,那我学到了什么呢
Dialogue: 0,0:09:09.25,0:09:12.65,英文,,0,0,0,,It seems like every time I want to add something, I add 4.
Dialogue: 0,0:09:09.25,0:09:12.65,中文,,0,0,0,,每次我想要添加一些东西的时候 我都会添加4
Dialogue: 0,0:09:12.65,0:09:13.75,英文,,0,0,0,,Size goes up.
Dialogue: 0,0:09:12.65,0:09:13.75,中文,,0,0,0,,大小增加
Dialogue: 0,0:09:13.75,0:09:14.54,英文,,0,0,0,,I add 2.
Dialogue: 0,0:09:13.75,0:09:14.54,中文,,0,0,0,,我加2
Dialogue: 0,0:09:14.54,0:09:15.74,英文,,0,0,0,,And where am I adding 2?
Dialogue: 0,0:09:14.54,0:09:15.74,中文,,0,0,0,,我在哪里加2呢
Dialogue: 0,0:09:15.74,0:09:18.72,英文,,0,0,0,,I'm adding it at position size.
Dialogue: 0,0:09:15.74,0:09:18.72,中文,,0,0,0,,我在位置大小处添加
Dialogue: 0,0:09:18.72,0:09:23.10,英文,,0,0,0,,So it seems like size is always telling me where I need to add the next item.
Dialogue: 0,0:09:18.72,0:09:23.10,中文,,0,0,0,,看起来大小总是在告诉我下一个项目应该加在哪里
Dialogue: 0,0:09:23.10,0:09:26.28,英文,,0,0,0,,So I add 2, and then that goes in position size.
Dialogue: 0,0:09:23.10,0:09:26.28,中文,,0,0,0,,我加了2 然后它就在大小的位置
Dialogue: 0,0:09:26.28,0:09:27.16,英文,,0,0,0,,Size goes up.
Dialogue: 0,0:09:26.28,0:09:27.16,中文,,0,0,0,,大小增加了
Dialogue: 0,0:09:27.16,0:09:31.58,英文,,0,0,0,,And the next time I want to add, I should put it in position size, which is now 8.
Dialogue: 0,0:09:27.16,0:09:31.58,中文,,0,0,0,,下次我想添加时 应该放在大小为8的位置 现在是8
Dialogue: 0,0:09:31.58,0:09:34.19,英文,,0,0,0,,So what this tells me is, aha.
Dialogue: 0,0:09:31.58,0:09:34.19,中文,,0,0,0,,这告诉我什么 啊哈
Dialogue: 0,0:09:34.19,0:09:36.33,英文,,0,0,0,,Well, maybe I can even write down what I learned.
Dialogue: 0,0:09:34.19,0:09:36.33,中文,,0,0,0,,也许我甚至可以把学到的东西写下来
Dialogue: 0,0:09:36.33,0:09:37.79,英文,,0,0,0,,This is so interesting, I want to write it down.
Dialogue: 0,0:09:36.33,0:09:37.79,中文,,0,0,0,,这太有趣了 我想记录下来
Dialogue: 0,0:09:37.79,0:09:46.31,英文,,0,0,0,,So I'm going to write down, the next item we want to add will go in position size.
Dialogue: 0,0:09:37.79,0:09:46.31,中文,,0,0,0,,我要写下来 我们想要添加的下一个项目将放在位置大小
Dialogue: 0,0:09:46.31,0:09:49.81,英文,,0,0,0,,So that tells me that if I want to add something to the end, where do I put it?
Dialogue: 0,0:09:46.31,0:09:49.81,中文,,0,0,0,,那么这告诉我 如果我想要在末尾添加东西 我要把它放在哪里
Dialogue: 0,0:09:49.81,0:09:52.56,英文,,0,0,0,,I put it at position size.
Dialogue: 0,0:09:49.81,0:09:52.56,中文,,0,0,0,,我把它放在位置大小
Dialogue: 0,0:09:52.56,0:09:54.54,英文,,0,0,0,,So I'll put item x there.
Dialogue: 0,0:09:52.56,0:09:54.54,中文,,0,0,0,,我会把项目 x 放在那里
Dialogue: 0,0:09:54.54,0:09:55.80,英文,,0,0,0,,And I think that's good.
Dialogue: 0,0:09:54.54,0:09:55.80,中文,,0,0,0,,我觉得那挺好的
Dialogue: 0,0:09:55.80,0:09:59.54,英文,,0,0,0,,OK. So that's our addLast.
Dialogue: 0,0:09:55.80,0:09:59.54,中文,,0,0,0,,好的  这就是我们的addLast
Dialogue: 0,0:09:59.54,0:10:00.98,英文,,0,0,0,,Now let's do getLast.
Dialogue: 0,0:09:59.54,0:10:00.98,中文,,0,0,0,,现在让我们来做getLast
Dialogue: 0,0:10:00.98,0:10:03.32,英文,,0,0,0,,And again, I think I'm like, should I use size?
Dialogue: 0,0:10:00.98,0:10:03.32,中文,,0,0,0,,再说一次 我在想 我是不是应该用size
Dialogue: 0,0:10:03.32,0:10:05.12,英文,,0,0,0,,Is this size plus 1, size minus 1?
Dialogue: 0,0:10:03.32,0:10:05.12,中文,,0,0,0,,是size加1 还是size减1
Dialogue: 0,0:10:05.12,0:10:07.74,英文,,0,0,0,,Is this something else entirely?
Dialogue: 0,0:10:05.12,0:10:07.74,中文,,0,0,0,,还是完全不同的东西
Dialogue: 0,0:10:07.74,0:10:10.79,英文,,0,0,0,,So I can go back to my picture, and I can look.
Dialogue: 0,0:10:07.74,0:10:10.79,中文,,0,0,0,,我可以回到我的图片 然后我可以查看
Dialogue: 0,0:10:10.79,0:10:13.29,英文,,0,0,0,,So right now, I have eight items.
Dialogue: 0,0:10:10.79,0:10:13.29,中文,,0,0,0,,现在 我有八个项目
Dialogue: 0,0:10:13.29,0:10:14.61,英文,,0,0,0,,There they are.
Dialogue: 0,0:10:13.29,0:10:14.61,中文,,0,0,0,,那里它们
Dialogue: 0,0:10:14.61,0:10:16.45,英文,,0,0,0,,1, 2, 3, 4, 5, 6, 7, 8.
Dialogue: 0,0:10:14.61,0:10:16.45,中文,,0,0,0,,1, 2, 3, 4, 5, 6, 7, 8
Dialogue: 0,0:10:16.45,0:10:17.97,英文,,0,0,0,,And I want to get the last item.
Dialogue: 0,0:10:16.45,0:10:17.97,中文,,0,0,0,,而且我想要获得最后一个项目
Dialogue: 0,0:10:17.97,0:10:19.09,英文,,0,0,0,,Where's the last item?
Dialogue: 0,0:10:17.97,0:10:19.09,中文,,0,0,0,,最后一个项目在哪里
Dialogue: 0,0:10:19.09,0:10:22.19,英文,,0,0,0,,It's right there at index 7.
Dialogue: 0,0:10:19.09,0:10:22.19,中文,,0,0,0,,就在索引7处
Dialogue: 0,0:10:22.19,0:10:26.14,英文,,0,0,0,,So this time, it seems like I don't want to get the thing at index size.
Dialogue: 0,0:10:22.19,0:10:26.14,中文,,0,0,0,,这一次 似乎我不想要获取大小的东西
Dialogue: 0,0:10:26.14,0:10:30.06,英文,,0,0,0,,I want to get the thing at index size minus 1.
Dialogue: 0,0:10:26.14,0:10:30.06,中文,,0,0,0,,我想要获取大小减1的东西
Dialogue: 0,0:10:30.06,0:10:31.16,英文,,0,0,0,,That's also interesting.
Dialogue: 0,0:10:30.06,0:10:31.16,中文,,0,0,0,,这也很有趣
Dialogue: 0,0:10:31.16,0:10:31.84,英文,,0,0,0,,I want to write it down.
Dialogue: 0,0:10:31.16,0:10:31.84,中文,,0,0,0,,我想记下来
Dialogue: 0,0:10:31.84,0:10:41.19,英文,,0,0,0,,So I'm going to say the item we want to return, or I guess I'll say the last item in the list is at position
Dialogue: 0,0:10:31.84,0:10:41.19,中文,,0,0,0,,我要说我们想要返回的项目 或者我猜我会说列表中的最后一个项目在位置
Dialogue: 0,0:10:41.19,0:10:42.81,英文,,0,0,0,,Not size, but size minus 1.
Dialogue: 0,0:10:41.19,0:10:42.81,中文,,0,0,0,,不是大小 而是大小减1
Dialogue: 0,0:10:42.81,0:10:44.17,英文,,0,0,0,,And how did I know that?
Dialogue: 0,0:10:42.81,0:10:44.17,中文,,0,0,0,,我怎么知道的呢
Dialogue: 0,0:10:44.17,0:10:47.21,英文,,0,0,0,,It's not because I started it and I somehow figured it out.
Dialogue: 0,0:10:44.17,0:10:47.21,中文,,0,0,0,,不是因为我开始并且某种方式找到了答案
Dialogue: 0,0:10:47.21,0:10:48.67,英文,,0,0,0,,It's because I drew this example.
Dialogue: 0,0:10:47.21,0:10:48.67,中文,,0,0,0,,而是因为我画了这个例子
Dialogue: 0,0:10:48.67,0:10:52.07,英文,,0,0,0,,And the example told me, aha, I have a list of eight things.
Dialogue: 0,0:10:48.67,0:10:52.07,中文,,0,0,0,,而且例子告诉我 啊哈 我有一个包含八个东西的列表
Dialogue: 0,0:10:52.07,0:10:54.79,英文,,0,0,0,,And the last thing is that size minus 1.
Dialogue: 0,0:10:52.07,0:10:54.79,中文,,0,0,0,,而且最后一件事是大小减1
Dialogue: 0,0:10:54.79,0:10:55.69,英文,,0,0,0,,So what do I return?
Dialogue: 0,0:10:54.79,0:10:58.73,中文,,0,0,0,,那么我应该返回什么呢  我可以返回项 大小减1
Dialogue: 0,0:10:55.69,0:10:58.73,英文,,0,0,0,,I can return items, size minus 1.
Dialogue: 0,0:10:58.73,0:10:59.59,英文,,0,0,0,,Great.
Dialogue: 0,0:10:58.73,0:10:59.59,中文,,0,0,0,,太好了
Dialogue: 0,0:10:59.59,0:11:00.87,英文,,0,0,0,,How do I get the ith thing?
Dialogue: 0,0:10:59.59,0:11:00.87,中文,,0,0,0,,我如何获取第i个东西
Dialogue: 0,0:11:00.87,0:11:02.59,英文,,0,0,0,,Well, this one's not too bad.
Dialogue: 0,0:11:00.87,0:11:02.59,中文,,0,0,0,,这个不太难
Dialogue: 0,0:11:02.59,0:11:05.35,英文,,0,0,0,,I will index into the array, get the ith thing.
Dialogue: 0,0:11:02.59,0:11:05.35,中文,,0,0,0,,我将索引进数组 获取第i个元素
Dialogue: 0,0:11:05.35,0:11:06.13,英文,,0,0,0,,Beautiful.
Dialogue: 0,0:11:05.35,0:11:06.13,中文,,0,0,0,,美妙
Dialogue: 0,0:11:06.13,0:11:07.55,英文,,0,0,0,,How do I get the number of items?
Dialogue: 0,0:11:06.13,0:11:07.55,中文,,0,0,0,,如何获得项目数
Dialogue: 0,0:11:07.55,0:11:09.05,英文,,0,0,0,,Well, that's size.
Dialogue: 0,0:11:07.55,0:11:09.05,中文,,0,0,0,,哦 那就是大小
Dialogue: 0,0:11:09.05,0:11:17.42,英文,,0,0,0,,I guess this also reminds me that, hmm, when I add last, I should make size go up by 1, because there's more things in the list now.
Dialogue: 0,0:11:09.05,0:11:17.42,中文,,0,0,0,,我猜这也提醒我 当我最后添加时 应该让大小增加1 因为列表中现在有更多东西
Dialogue: 0,0:11:17.42,0:11:18.96,英文,,0,0,0,,OK. Great.
Dialogue: 0,0:11:17.42,0:11:18.96,中文,,0,0,0,,好的  太棒了
Dialogue: 0,0:11:18.96,0:11:22.18,英文,,0,0,0,,So we finished some basic A-list operations.
Dialogue: 0,0:11:18.96,0:11:22.18,中文,,0,0,0,,我们完成了一些基本的A-list操作
Dialogue: 0,0:11:22.18,0:11:23.56,英文,,0,0,0,,Are we happy with them?
Dialogue: 0,0:11:22.18,0:11:23.56,中文,,0,0,0,,对它们感到满意吗
Dialogue: 0,0:11:23.56,0:11:26.86,英文,,0,0,0,,Do you have complaints, questions, bugs?
Dialogue: 0,0:11:23.56,0:11:26.86,中文,,0,0,0,,有抱怨、问题、漏洞吗
Dialogue: 0,0:11:26.86,0:11:28.30,英文,,0,0,0,,Anything on Zoom?
Dialogue: 0,0:11:26.86,0:11:28.30,中文,,0,0,0,,Zoom 上有什么吗
Dialogue: 0,0:11:28.30,0:11:31.39,英文,,0,0,0,,OK. OK, let's reflect.
Dialogue: 0,0:11:28.30,0:11:31.39,中文,,0,0,0,,好的  让我们反思一下
Dialogue: 0,0:11:31.39,0:11:34.78,英文,,0,0,0,,So we built our basic A-list operations.
Dialogue: 0,0:11:31.39,0:11:34.78,中文,,0,0,0,,我们构建了我们的基本A-list操作
Dialogue: 0,0:11:34.78,0:11:36.34,英文,,0,0,0,,And what were those things that I wrote?
Dialogue: 0,0:11:34.78,0:11:36.34,中文,,0,0,0,,那些我写的东西是什么
Dialogue: 0,0:11:36.34,0:11:38.70,英文,,0,0,0,,I wrote these little helpful notes to myself.
Dialogue: 0,0:11:36.34,0:11:38.70,中文,,0,0,0,,我写了这些小贴心的笔记给自己
Dialogue: 0,0:11:38.70,0:11:40.88,英文,,0,0,0,,And in fact, those were the invariants.
Dialogue: 0,0:11:38.70,0:11:40.88,中文,,0,0,0,,而且 那些就是不变量
Dialogue: 0,0:11:40.88,0:11:43.00,英文,,0,0,0,,Remember that word from two lectures ago?
Dialogue: 0,0:11:40.88,0:11:43.00,中文,,0,0,0,,还记得两堂课之前那个词吗
Dialogue: 0,0:11:43.00,0:11:46.95,英文,,0,0,0,,An invariant is something that's always true about your code as it runs.
Dialogue: 0,0:11:43.00,0:11:46.95,中文,,0,0,0,,不变量是指代码运行时始终为真的东西
Dialogue: 0,0:11:46.95,0:11:51.01,英文,,0,0,0,,And it turns out that the things I was writing in my code, those were the invariants.
Dialogue: 0,0:11:46.95,0:11:51.01,中文,,0,0,0,,结果证明 我在代码中写的东西 就是那些不变量
Dialogue: 0,0:11:51.01,0:11:56.25,英文,,0,0,0,,So for example, when I said, anytime you have a new thing to insert, it goes at position size.
Dialogue: 0,0:11:51.01,0:11:56.25,中文,,0,0,0,,例如 当我说 每当你有一个新的东西要插入 它都会放在位置大小处
Dialogue: 0,0:11:56.25,0:11:58.91,英文,,0,0,0,,Or if you want to get the last thing, it's at size minus 1.
Dialogue: 0,0:11:56.25,0:11:58.91,中文,,0,0,0,,或者如果你想得到最后一样东西 就是大小减 1
Dialogue: 0,0:11:58.91,0:12:01.10,英文,,0,0,0,,Those were the invariants of my code.
Dialogue: 0,0:11:58.91,0:12:01.10,中文,,0,0,0,,这些就是我的代码不变的地方
Dialogue: 0,0:12:01.10,0:12:04.26,英文,,0,0,0,,And sometimes, it helps to write them out explicitly, like I just did.
Dialogue: 0,0:12:01.10,0:12:04.26,中文,,0,0,0,,有时候 把它们明确写出来会有所帮助 就像我刚刚做的那样
Dialogue: 0,0:12:04.26,0:12:06.54,英文,,0,0,0,,I drew a little example, wrote my invariants.
Dialogue: 0,0:12:04.26,0:12:06.54,中文,,0,0,0,,我画了一个小例子 写下了我的不变式
Dialogue: 0,0:12:06.54,0:12:08.36,英文,,0,0,0,,And that made writing my code super easy.
Dialogue: 0,0:12:06.54,0:12:08.36,中文,,0,0,0,,这让编写我的代码变得超级简单
Dialogue: 0,0:12:08.36,0:12:12.40,英文,,0,0,0,,Because if I have something that says, the last item is in size minus 1,
Dialogue: 0,0:12:08.36,0:12:12.40,中文,,0,0,0,,因为如果我有一个说 最后一项在大小减 1 的东西
Dialogue: 0,0:12:12.40,0:12:13.84,英文,,0,0,0,,And I want to write get last.
Dialogue: 0,0:12:12.40,0:12:13.84,中文,,0,0,0,,而我想写出获取最后一个的代码
Dialogue: 0,0:12:13.84,0:12:16.24,英文,,0,0,0,,Well, then it must be size minus 1.
Dialogue: 0,0:12:13.84,0:12:16.24,中文,,0,0,0,,那么 它必须是尺寸减1
Dialogue: 0,0:12:16.24,0:12:18.60,英文,,0,0,0,,So having invariants can be super nice like that.
Dialogue: 0,0:12:16.24,0:12:18.60,中文,,0,0,0,,有不变量确实非常好 就像这样
Dialogue: 0,0:12:18.60,0:12:21.54,英文,,0,0,0,,Now, if you don't want to write these explicitly, you don't have to.
Dialogue: 0,0:12:18.60,0:12:21.54,中文,,0,0,0,,现在 如果你不想明确地写这些 你就不必这样做
Dialogue: 0,0:12:21.54,0:12:26.63,英文,,0,0,0,,But sometimes it can help to think about the invariants as you're trying to figure this stuff out.
Dialogue: 0,0:12:21.54,0:12:26.63,中文,,0,0,0,,但有时在尝试弄清楚这些东西时 考虑一下不变量可能会有帮助
Dialogue: 0,0:12:26.63,0:12:27.95,英文,,0,0,0,,OK.
Dialogue: 0,0:12:26.63,0:12:27.95,中文,,0,0,0,,好的
Dialogue: 0,0:12:27.95,0:12:31.49,英文,,0,0,0,,A list code, invariants, good.
Dialogue: 0,0:12:27.95,0:12:31.49,中文,,0,0,0,,列表代码 不变量 很好
Dialogue: 0,0:12:31.49,0:12:33.77,英文,,0,0,0,,OK. Here comes the fun stuff.
Dialogue: 0,0:12:31.49,0:12:33.77,中文,,0,0,0,,好的  玩的时候到了
Dialogue: 0,0:12:33.77,0:12:40.03,英文,,0,0,0,,So now we're going to have to start taking things out of the list or supporting the delete operation.
Dialogue: 0,0:12:33.77,0:12:40.03,中文,,0,0,0,,现在我们得开始从列表中删除一些东西或支持删除操作
Dialogue: 0,0:12:40.03,0:12:45.23,英文,,0,0,0,,To try and figure out how this works, I'm going to take a step back a bit and think about the user's mental model.
Dialogue: 0,0:12:40.03,0:12:45.23,中文,,0,0,0,,为了尝试弄清楚这是如何工作的 我要退后一步 思考用户的心智模型
Dialogue: 0,0:12:45.23,0:12:48.15,英文,,0,0,0,,In other words, let's think about somebody using our A-list.
Dialogue: 0,0:12:45.23,0:12:48.15,中文,,0,0,0,,换句话说 让我们想象一下有人在使用我们的 AList
Dialogue: 0,0:12:48.15,0:12:52.51,英文,,0,0,0,,So I write my beautiful A-list code, I give it to the world, and someone's using it.
Dialogue: 0,0:12:48.15,0:12:52.51,中文,,0,0,0,,我写了我漂亮的 AList代码 我把它交给了世界 有人在使用它
Dialogue: 0,0:12:52.51,0:13:01.80,英文,,0,0,0,,So remember, when someone's using my car, they're not thinking about how the engine is running and how the fuel is going from one place to the other.
Dialogue: 0,0:12:52.51,0:13:01.80,中文,,0,0,0,,记住 当有人使用我的车时 他们不会想着引擎是如何运行的 燃料是如何从这里流到那里的
Dialogue: 0,0:13:01.80,0:13:04.16,英文,,0,0,0,,They're just thinking about cargo fast.
Dialogue: 0,0:13:01.80,0:13:04.16,中文,,0,0,0,,他们只是想着货物运得快
Dialogue: 0,0:13:04.16,0:13:05.20,英文,,0,0,0,,Car don't go fast.
Dialogue: 0,0:13:04.16,0:13:05.20,中文,,0,0,0,,汽车不快
Dialogue: 0,0:13:05.20,0:13:06.36,英文,,0,0,0,,That's all they're thinking.
Dialogue: 0,0:13:05.20,0:13:06.36,中文,,0,0,0,,这就是他们所思考的全部
Dialogue: 0,0:13:06.36,0:13:15.27,英文,,0,0,0,,And so in the same way, when someone's using my ArrayList, they're not thinking about the underlying array and like, oh, size minus 1, and the new thing has to go in size.
Dialogue: 0,0:13:06.36,0:13:15.27,中文,,0,0,0,,在同样的情况下 当有人使用我的ArrayList时 他们不会考虑底层数组 比如说 size减1 新的东西必须放在size的位置
Dialogue: 0,0:13:15.27,0:13:17.75,英文,,0,0,0,,All that they're thinking about is, I have a list.
Dialogue: 0,0:13:15.27,0:13:17.75,中文,,0,0,0,,他们所考虑的只是 我有一个列表
Dialogue: 0,0:13:17.75,0:13:20.82,英文,,0,0,0,,It's this pile of items with the front and the back.
Dialogue: 0,0:13:17.75,0:13:20.82,中文,,0,0,0,,它就是一堆物品 有前面和后面
Dialogue: 0,0:13:20.82,0:13:23.80,英文,,0,0,0,,And if they want to delete something, then they hope
Dialogue: 0,0:13:20.82,0:13:23.80,中文,,0,0,0,,如果他们想要删除某样东西 那么他们希望
Dialogue: 0,0:13:23.80,0:13:26.54,英文,,0,0,0,,That the resulting array looks like that.
Dialogue: 0,0:13:23.80,0:13:26.54,中文,,0,0,0,,结果的数组看起来像这样
Dialogue: 0,0:13:26.54,0:13:29.87,英文,,0,0,0,,A pile of things, front and a back, but the negative one is gone.
Dialogue: 0,0:13:26.54,0:13:29.87,中文,,0,0,0,,一堆东西 前面有一个 后面也有一个 但是负数已经消失了
Dialogue: 0,0:13:29.87,0:13:31.33,英文,,0,0,0,,That's all the user cares about.
Dialogue: 0,0:13:29.87,0:13:31.33,中文,,0,0,0,,这就是用户关心的全部
Dialogue: 0,0:13:31.33,0:13:36.85,英文,,0,0,0,,They don't care about the underlying array, whether it's a D list or an S list underneath.
Dialogue: 0,0:13:31.33,0:13:36.85,中文,,0,0,0,,他们不关心底层数组 不管它是 D 列表还是 SLList
Dialogue: 0,0:13:36.85,0:13:40.35,英文,,0,0,0,,All they care about is that they see this picture.
Dialogue: 0,0:13:36.85,0:13:40.35,中文,,0,0,0,,他们只关心能看到这张图片
Dialogue: 0,0:13:40.35,0:13:47.38,英文,,0,0,0,,However, we the implementers, we know that the real truth, the concrete reality, is that we have this backing array.
Dialogue: 0,0:13:40.35,0:13:47.38,中文,,0,0,0,,但是 我们这些实现者 我们知道真正的事实 具体的现实是 我们有这个后备数组
Dialogue: 0,0:13:47.38,0:13:52.64,英文,,0,0,0,,And the backing array actually has 100 items, of which a lot are 0, because they're not being used.
Dialogue: 0,0:13:47.38,0:13:52.64,中文,,0,0,0,,而且这个后备数组实际上有 100 个项目 其中很多是 0 因为它们没有被使用
Dialogue: 0,0:13:52.64,0:13:59.25,英文,,0,0,0,,And when you delete the negative 1, well, maybe I have to change the concrete reality to represent something else.
Dialogue: 0,0:13:52.64,0:13:59.25,中文,,0,0,0,,当你删除负数 1 的时候 也许我必须改变具体的现实来表示其他东西
Dialogue: 0,0:13:59.25,0:14:03.81,英文,,0,0,0,,So we know the real concrete truth, which is that there's actually 100 things in the list.
Dialogue: 0,0:13:59.25,0:14:03.81,中文,,0,0,0,,我们知道真正的具体事实 实际上在列表中有100件事情
Dialogue: 0,0:14:03.81,0:14:06.90,英文,,0,0,0,,This is like, we're the car designers, we know about.
Dialogue: 0,0:14:03.81,0:14:06.90,中文,,0,0,0,,这就像 我们是汽车设计师 我们了解的
Dialogue: 0,0:14:06.90,0:14:09.32,英文,,0,0,0,,The fuel and the fuel injection.
Dialogue: 0,0:14:06.90,0:14:09.32,中文,,0,0,0,,燃料和燃料喷射
Dialogue: 0,0:14:09.32,0:14:09.78,英文,,0,0,0,,Is it obvious?
Dialogue: 0,0:14:09.32,0:14:09.78,中文,,0,0,0,,很明显吗
Dialogue: 0,0:14:09.78,0:14:11.14,英文,,0,0,0,,I know nothing about cars.
Dialogue: 0,0:14:09.78,0:14:11.14,中文,,0,0,0,,我对汽车一无所知
Dialogue: 0,0:14:11.14,0:14:13.30,英文,,0,0,0,,And so that's what we know.
Dialogue: 0,0:14:11.14,0:14:13.30,中文,,0,0,0,,这就是我们知道的
Dialogue: 0,0:14:13.30,0:14:15.63,英文,,0,0,0,,We're the concrete reality implementers.
Dialogue: 0,0:14:13.30,0:14:15.63,中文,,0,0,0,,我们是具体现实的实施者
Dialogue: 0,0:14:15.63,0:14:17.51,英文,,0,0,0,,But the user, they don't care about this stuff.
Dialogue: 0,0:14:15.63,0:14:17.51,中文,,0,0,0,,用户可不在乎这些东西
Dialogue: 0,0:14:17.51,0:14:21.53,英文,,0,0,0,,They just care that there's a pile of items with the front and a back.
Dialogue: 0,0:14:17.51,0:14:21.53,中文,,0,0,0,,他们只关心前面和后面有一堆物品
Dialogue: 0,0:14:21.53,0:14:29.90,英文,,0,0,0,,OK, so it turns out all of this has pretty interesting connections to Plato's allegory of the cave, old philosophical thing.
Dialogue: 0,0:14:21.53,0:14:29.90,中文,,0,0,0,,好吧 事实证明所有这些与柏拉图的洞穴寓言有相当有趣的联系 是个古老的哲学概念
Dialogue: 0,0:14:29.90,0:14:31.42,英文,,0,0,0,,So I'm not going to tell you the whole story.
Dialogue: 0,0:14:29.90,0:14:31.42,中文,,0,0,0,,我不会告诉你整个故事
Dialogue: 0,0:14:31.42,0:14:35.03,英文,,0,0,0,,But basically, the way this works is you have these cavemen who are sitting in the cave.
Dialogue: 0,0:14:31.42,0:14:35.03,中文,,0,0,0,,但基本上 这是这样运作的：你有这些穴居人坐在洞穴里
Dialogue: 0,0:14:35.03,0:14:36.77,英文,,0,0,0,,And they're watching this little puppet show.
Dialogue: 0,0:14:35.03,0:14:36.77,中文,,0,0,0,,他们在观看这个小木偶戏
Dialogue: 0,0:14:36.77,0:14:38.17,英文,,0,0,0,,And they've never been outside of the cave.
Dialogue: 0,0:14:36.77,0:14:38.17,中文,,0,0,0,,他们从未离开过这个洞穴
Dialogue: 0,0:14:38.17,0:14:40.35,英文,,0,0,0,,So to them, this is the reality, right?
Dialogue: 0,0:14:38.17,0:14:40.35,中文,,0,0,0,,对他们来说 这就是现实 对吧
Dialogue: 0,0:14:40.35,0:14:45.65,英文,,0,0,0,,They're watching this little puppet show with the vase and the horse and the bird.
Dialogue: 0,0:14:40.35,0:14:45.65,中文,,0,0,0,,他们在看这个小木偶表演 有花瓶、马和鸟
Dialogue: 0,0:14:45.65,0:14:49.44,英文,,0,0,0,,We are, so they're the users of our list or the users of our object.
Dialogue: 0,0:14:45.65,0:14:49.44,中文,,0,0,0,,所以他们是我们列表的用户或者我们对象的用户
Dialogue: 0,0:14:49.44,0:14:53.94,英文,,0,0,0,,They're watching this show that shows them what they think, what their mental model is.
Dialogue: 0,0:14:49.44,0:14:53.94,中文,,0,0,0,,他们在观看这个节目 展示给他们看他们认为的、他们的心智模型是什么样子
Dialogue: 0,0:14:53.94,0:14:56.00,英文,,0,0,0,,By contrast, we're these monks in the back.
Dialogue: 0,0:14:53.94,0:14:56.00,中文,,0,0,0,,相比之下 我们是后面的这些僧侣
Dialogue: 0,0:14:56.00,0:14:57.10,英文,,0,0,0,,We're the implementers.
Dialogue: 0,0:14:56.00,0:14:57.10,中文,,0,0,0,,我们是实施者
Dialogue: 0,0:14:57.10,0:15:01.45,英文,,0,0,0,,So we're the ones putting on the little puppet show to show the caveman what they want to see.
Dialogue: 0,0:14:57.10,0:15:01.45,中文,,0,0,0,,我们是那些上演小木偶戏给穴居人看他们想看的东西的人
Dialogue: 0,0:15:01.45,0:15:05.53,英文,,0,0,0,,And if the caveman is like, oh, you know, I'm going to like, I'm going to finger shoot the bird.
Dialogue: 0,0:15:01.45,0:15:05.53,中文,,0,0,0,,如果穴居人说 哦 你知道 我要像 我要用手指射击鸟
Dialogue: 0,0:15:05.53,0:15:09.52,英文,,0,0,0,,Well, then it's our job to change the puppets so that the bird is like, you know,
Dialogue: 0,0:15:05.53,0:15:09.52,中文,,0,0,0,,那么 我们的工作就是改变木偶 让鸟像 你知道的
Dialogue: 0,0:15:09.52,0:15:23.00,英文,,0,0,0,,Thank you.
Dialogue: 0,0:15:09.52,0:15:23.00,中文,,0,0,0,,谢谢
Dialogue: 0,0:15:23.00,0:15:26.16,英文,,0,0,0,,I love having a foley guy in the back.
Dialogue: 0,0:15:23.00,0:15:26.16,中文,,0,0,0,,我喜欢后面有个音效师
Dialogue: 0,0:15:26.16,0:15:31.17,英文,,0,0,0,,The little tickle the horse or whatever, then it's our job as the implementers to actually make the little horse noise.
Dialogue: 0,0:15:26.16,0:15:31.17,中文,,0,0,0,,就是轻轻挠挠马或者别的什么 那么作为执行者 我们的工作就是真的发出小马的声音
Dialogue: 0,0:15:31.17,0:15:41.25,英文,,0,0,0,,And even though there's no actual horse, we just have to make sure that our concrete reality represents the user's mental model.
Dialogue: 0,0:15:31.17,0:15:41.25,中文,,0,0,0,,即使没有实际的马 我们也必须确保我们的具体现实代表用户的心智模型
Dialogue: 0,0:15:41.25,0:15:52.74,英文,,0,0,0,,I guess one thing I will say is, in the real allegory of the cave, if you're familiar with the story, the real story is supposed to be, I don't know, the caveman, like, find out the true nature of reality and escape the cave or whatever.
Dialogue: 0,0:15:41.25,0:15:52.74,中文,,0,0,0,,我想我要说的是 在真正的寓言中 如果你熟悉故事的话 真正的故事应该是 我不知道 穴居人 像 发现现实的真正本质并逃离洞穴或其他什么
Dialogue: 0,0:15:52.74,0:15:58.38,英文,,0,0,0,,But it turns out that in our story, we're actually going to have these cavemen stay in the cave, and that's a beautiful thing.
Dialogue: 0,0:15:52.74,0:15:58.38,中文,,0,0,0,,但事实证明 在我们的故事中 这些穴居人实际上会留在洞穴里 这是件美好的事情
Dialogue: 0,0:15:58.38,0:16:03.17,英文,,0,0,0,,Because if they stay in the cave, they don't have to worry about all the implementation details.
Dialogue: 0,0:15:58.38,0:16:03.17,中文,,0,0,0,,因为如果他们呆在洞里 就不必担心所有的实现细节
Dialogue: 0,0:16:03.17,0:16:05.05,英文,,0,0,0,,They can live the life that they want to live.
Dialogue: 0,0:16:03.17,0:16:05.05,中文,,0,0,0,,他们可以过上他们想要的生活
Dialogue: 0,0:16:05.05,0:16:12.02,英文,,0,0,0,,It is simpler to design complicated things if you don't have to worry about how these monks in the back are running the puppet show.
Dialogue: 0,0:16:05.05,0:16:12.02,中文,,0,0,0,,如果不必担心后面的僧侣是如何操纵木偶戏的 设计复杂的东西就更简单了
Dialogue: 0,0:16:12.02,0:16:13.98,英文,,0,0,0,,So that's the allegory of the cave.
Dialogue: 0,0:16:12.02,0:16:13.98,中文,,0,0,0,,这就是洞穴寓言
Dialogue: 0,0:16:13.98,0:16:19.48,英文,,0,0,0,,There's a difference between what the cavemen see, the puppet show, their mental model, which is simpler.
Dialogue: 0,0:16:13.98,0:16:19.48,中文,,0,0,0,,穴居人看到的、木偶戏、他们的心智模型之间有差异 后者更简单
Dialogue: 0,0:16:19.48,0:16:23.26,英文,,0,0,0,,and our concrete implementation, which they don't have to care about.
Dialogue: 0,0:16:19.48,0:16:23.26,中文,,0,0,0,,而我们的具体实现 他们不需要关心
Dialogue: 0,0:16:23.26,0:16:25.40,英文,,0,0,0,,And that's a beautiful idea in computer science.
Dialogue: 0,0:16:23.26,0:16:25.40,中文,,0,0,0,,这是计算机科学中一个美妙的想法
Dialogue: 0,0:16:25.40,0:16:30.45,英文,,0,0,0,,That's how we build really large programs, by abstracting away things that we don't care about.
Dialogue: 0,0:16:25.40,0:16:30.45,中文,,0,0,0,,这就是我们构建非常庞大程序的方式 通过抽象化我们不关心的东西
Dialogue: 0,0:16:30.45,0:16:31.97,英文,,0,0,0,,OK, great.
Dialogue: 0,0:16:30.45,0:16:31.97,中文,,0,0,0,,很好
Dialogue: 0,0:16:31.97,0:16:41.46,英文,,0,0,0,,So with the allegory of the cave in mind, with that horse noise fresh in your brain, I want to ask you about, what do you need to do to remove an item from the list?
Dialogue: 0,0:16:31.97,0:16:41.46,中文,,0,0,0,,想象一下洞穴寓言 脑海中还有那个马的声音 我想问你 你需要做什么来从列表中移除一个项目
Dialogue: 0,0:16:41.46,0:16:46.55,英文,,0,0,0,,So we have this middleman, and it has these instance variables, size and items.
Dialogue: 0,0:16:41.46,0:16:46.55,中文,,0,0,0,,我们有这个中间人 它有这些实例变量 size 和 items
Dialogue: 0,0:16:46.55,0:16:49.27,英文,,0,0,0,,And the items is a reference to this big old array.
Dialogue: 0,0:16:46.55,0:16:49.27,中文,,0,0,0,,而 items 是对这个大老数组的引用
Dialogue: 0,0:16:49.27,0:16:56.18,英文,,0,0,0,,So the question for you to ponder is, which memory boxes need to change when I call removeLast?
Dialogue: 0,0:16:49.27,0:16:56.18,中文,,0,0,0,,你需要思考的问题是 当我调用 removeLast 时 哪些内存框需要改变
Dialogue: 0,0:16:56.18,0:16:57.08,英文,,0,0,0,,And how do I change them?
Dialogue: 0,0:16:56.18,0:16:57.08,中文,,0,0,0,,我怎么改变它们呢
Dialogue: 0,0:16:57.08,0:16:59.30,英文,,0,0,0,,So for example, do I need to change size?
Dialogue: 0,0:16:57.08,0:16:59.30,中文,,0,0,0,,比如说 我需要改变尺寸吗
Dialogue: 0,0:16:59.30,0:17:04.28,英文,,0,0,0,,Do I need to change this items memory box, which is a reference to this array?
Dialogue: 0,0:16:59.30,0:17:04.28,中文,,0,0,0,,我需要改变这个项的内存盒吗 它是对这个数组的引用
Dialogue: 0,0:17:04.28,0:17:07.03,英文,,0,0,0,,Do I need to change some of the elements in the array?
Dialogue: 0,0:17:04.28,0:17:07.03,中文,,0,0,0,,我需要改变数组中的一些元素吗
Dialogue: 0,0:17:07.03,0:17:09.09,英文,,0,0,0,,Do I need to change a lot of them?
Dialogue: 0,0:17:07.03,0:17:09.09,中文,,0,0,0,,我需要改变很多吗
Dialogue: 0,0:17:09.09,0:17:13.63,英文,,0,0,0,,And maybe something to help you as you work through this is, remember, we have these invariants.
Dialogue: 0,0:17:09.09,0:17:13.63,中文,,0,0,0,,也许在你解决这个问题时 有些帮助的是 记住 我们有这些不变量
Dialogue: 0,0:17:13.63,0:17:17.51,英文,,0,0,0,,These are the things that are always true about my code, no matter what.
Dialogue: 0,0:17:13.63,0:17:17.51,中文,,0,0,0,,这些是关于我的代码始终为真的事情 无论如何
Dialogue: 0,0:17:17.51,0:17:21.06,英文,,0,0,0,,And as long as these invariants hold, then I should be OK.
Dialogue: 0,0:17:17.51,0:17:21.06,中文,,0,0,0,,只要这些不变性条件保持不变 那我应该没问题
Dialogue: 0,0:17:21.06,0:17:24.44,英文,,0,0,0,,So take a couple seconds, ponder it.
Dialogue: 0,0:17:21.06,0:17:24.44,中文,,0,0,0,,花几秒钟 好好考虑一下
Dialogue: 0,0:17:24.44,0:17:26.56,英文,,0,0,0,,I'll try to talk through how I think about it.
Dialogue: 0,0:17:24.44,0:17:26.56,中文,,0,0,0,,我会试着谈谈我是怎么想的
Dialogue: 0,0:17:26.56,0:17:29.97,英文,,0,0,0,,So I'm like, hmm, well, size.
Dialogue: 0,0:17:26.56,0:17:29.97,中文,,0,0,0,,我就想 尺寸嘛
Dialogue: 0,0:17:29.97,0:17:31.63,英文,,0,0,0,,Does size have to change?
Dialogue: 0,0:17:29.97,0:17:31.63,中文,,0,0,0,,尺寸必须改变吗
Dialogue: 0,0:17:31.63,0:17:34.83,英文,,0,0,0,,Well, just looking at the answer choices, all of them have size.
Dialogue: 0,0:17:31.63,0:17:34.83,中文,,0,0,0,,只要看看答案选项 所有的都涉及尺寸
Dialogue: 0,0:17:34.83,0:17:36.85,英文,,0,0,0,,So I feel like size probably has to change.
Dialogue: 0,0:17:34.83,0:17:36.85,中文,,0,0,0,,我觉得尺寸可能得改变
Dialogue: 0,0:17:36.85,0:17:42.96,英文,,0,0,0,,And that makes sense because, well, if I'm taking something out of the list, the size had better go down.
Dialogue: 0,0:17:36.85,0:17:42.96,中文,,0,0,0,,这是有道理的 因为 如果我从列表中取出东西 大小最好会减少
Dialogue: 0,0:17:42.96,0:17:45.94,英文,,0,0,0,,So. I feel like size should change.
Dialogue: 0,0:17:42.96,0:17:45.94,中文,,0,0,0,,我觉得大小应该改变
Dialogue: 0,0:17:45.94,0:17:51.87,英文,,0,0,0,,Another way I can confirm that size has to change is, well, it says size is always the number of items in the A-list.
Dialogue: 0,0:17:45.94,0:17:51.87,中文,,0,0,0,,另一种确认大小必须改变的方法是 它说大小始终是A列表中的项目数
Dialogue: 0,0:17:51.87,0:17:56.27,英文,,0,0,0,,So if I take something out, based on this invariant, size has to go down.
Dialogue: 0,0:17:51.87,0:17:56.27,中文,,0,0,0,,如果我取出东西 根据这个不变量 大小必须减少
Dialogue: 0,0:17:56.27,0:17:57.81,英文,,0,0,0,,OK, that's size.
Dialogue: 0,0:17:56.27,0:17:57.81,中文,,0,0,0,,这是大小
Dialogue: 0,0:17:57.81,0:17:58.89,英文,,0,0,0,,What about items?
Dialogue: 0,0:17:57.81,0:17:58.89,中文,,0,0,0,,那么项目呢
Dialogue: 0,0:17:58.89,0:18:00.05,英文,,0,0,0,,This one's kind of weird.
Dialogue: 0,0:17:58.89,0:18:00.05,中文,,0,0,0,,这个有点奇怪
Dialogue: 0,0:18:00.05,0:18:00.93,英文,,0,0,0,,Items, what does it hold?
Dialogue: 0,0:18:00.05,0:18:00.93,中文,,0,0,0,,项目 它持有什么
Dialogue: 0,0:18:00.93,0:18:04.50,英文,,0,0,0,,It holds the address of where to go visit my array.
Dialogue: 0,0:18:00.93,0:18:04.50,中文,,0,0,0,,它持有要访问我的数组的地址
Dialogue: 0,0:18:04.50,0:18:05.60,英文,,0,0,0,,So here's my array in memory.
Dialogue: 0,0:18:04.50,0:18:05.60,中文,,0,0,0,,这是我的内存中的数组
Dialogue: 0,0:18:05.60,0:18:07.24,英文,,0,0,0,,This tells me where to go visit.
Dialogue: 0,0:18:05.60,0:18:07.24,中文,,0,0,0,,这告诉我要去访问哪里
Dialogue: 0,0:18:07.24,0:18:08.80,英文,,0,0,0,,So do I need to change items?
Dialogue: 0,0:18:07.24,0:18:08.80,中文,,0,0,0,,那我需要改变项目吗
Dialogue: 0,0:18:08.80,0:18:12.40,英文,,0,0,0,,Well, if I change items, I'm basically saying this is no longer the array.
Dialogue: 0,0:18:08.80,0:18:12.40,中文,,0,0,0,,如果我改变项目 我基本上是在说这不再是数组了
Dialogue: 0,0:18:12.40,0:18:14.56,英文,,0,0,0,,I want to go somewhere else to find my array.
Dialogue: 0,0:18:12.40,0:18:14.56,中文,,0,0,0,,我想去别的地方找我的数组
Dialogue: 0,0:18:14.56,0:18:16.08,英文,,0,0,0,,And that doesn't really make sense.
Dialogue: 0,0:18:14.56,0:18:16.08,中文,,0,0,0,,而且这真的没有什么意义
Dialogue: 0,0:18:16.08,0:18:20.49,英文,,0,0,0,,If I want to delete an item, I do not have to go somewhere else to find my brand new array.
Dialogue: 0,0:18:16.08,0:18:20.49,中文,,0,0,0,,如果我想删除一个项 我不必去别的地方找我的全新数组
Dialogue: 0,0:18:20.49,0:18:23.15,英文,,0,0,0,,It's still the same underlying backing array.
Dialogue: 0,0:18:20.49,0:18:23.15,中文,,0,0,0,,它仍然是同一个底层支持数组
Dialogue: 0,0:18:23.15,0:18:26.01,英文,,0,0,0,,So I don't think I have to change items either.
Dialogue: 0,0:18:23.15,0:18:26.01,中文,,0,0,0,,我觉得我也不必改变项
Dialogue: 0,0:18:26.01,0:18:26.98,英文,,0,0,0,,Hmm.
Dialogue: 0,0:18:26.01,0:18:26.98,中文,,0,0,0,,嗯
Dialogue: 0,0:18:26.98,0:18:29.24,英文,,0,0,0,,But what about items i?
Dialogue: 0,0:18:26.98,0:18:29.24,中文,,0,0,0,,但是对于项i呢
Dialogue: 0,0:18:29.24,0:18:30.56,英文,,0,0,0,,This is the interesting one.
Dialogue: 0,0:18:29.24,0:18:30.56,中文,,0,0,0,,这是有趣的一个
Dialogue: 0,0:18:30.56,0:18:37.14,英文,,0,0,0,,So the question is, do I need to actually take this negative 1 and somehow change it when I want to delete it?
Dialogue: 0,0:18:30.56,0:18:37.14,中文,,0,0,0,,那么问题是 当我想删除它时 我是否真的需要改变这个负1
Dialogue: 0,0:18:37.14,0:18:39.72,英文,,0,0,0,,And at first, it seems like, well, yeah, I want to delete it.
Dialogue: 0,0:18:37.14,0:18:39.72,中文,,0,0,0,,起初似乎是的 是的 我想删除它
Dialogue: 0,0:18:39.72,0:18:40.50,英文,,0,0,0,,I want to get rid of it.
Dialogue: 0,0:18:39.72,0:18:40.50,中文,,0,0,0,,我想摆脱它
Dialogue: 0,0:18:40.50,0:18:44.87,英文,,0,0,0,,But remember, the user does not care about this underlying picture.
Dialogue: 0,0:18:40.50,0:18:44.87,中文,,0,0,0,,但记住 用户并不关心这个潜在的画面
Dialogue: 0,0:18:44.87,0:18:46.53,英文,,0,0,0,,They don't care about the puppet show.
Dialogue: 0,0:18:44.87,0:18:46.53,中文,,0,0,0,,他们不关心木偶秀
Dialogue: 0,0:18:46.53,0:18:51.45,英文,,0,0,0,,They just care that whatever they see, the shadows on the wall, matches their mental model.
Dialogue: 0,0:18:46.53,0:18:51.45,中文,,0,0,0,,他们只关心他们看到的一切 墙上的影子 是否与他们的心理模型相匹配
Dialogue: 0,0:18:51.45,0:18:57.52,英文,,0,0,0,,So it turns out that even if I leave this negative 1 hanging around, all the invariants are still going to hold.
Dialogue: 0,0:18:51.45,0:18:57.52,中文,,0,0,0,,原来即使我把这个负1留着 所有的不变量还是会保持
Dialogue: 0,0:18:57.52,0:19:02.26,英文,,0,0,0,,If I change size to 5, the position of the next item is going to be 5.
Dialogue: 0,0:18:57.52,0:19:02.26,中文,,0,0,0,,如果我把大小改成5 下一个项目的位置将是5
Dialogue: 0,0:19:02.26,0:19:05.78,英文,,0,0,0,,That's the right place to put the next item, because these five items exist.
Dialogue: 0,0:19:02.26,0:19:05.78,中文,,0,0,0,,这是放下一个项目的正确位置 因为这五个项目已经存在了
Dialogue: 0,0:19:05.78,0:19:07.06,英文,,0,0,0,,The negative 1 is gone.
Dialogue: 0,0:19:05.78,0:19:07.06,中文,,0,0,0,,负1不见了
Dialogue: 0,0:19:07.06,0:19:10.68,英文,,0,0,0,,So if I want to add something later, it should go in the negative 1 box.
Dialogue: 0,0:19:07.06,0:19:10.68,中文,,0,0,0,,如果我想以后添加一些东西 它应该放在负1的位置
Dialogue: 0,0:19:10.68,0:19:11.78,英文,,0,0,0,,Beautiful.
Dialogue: 0,0:19:10.68,0:19:11.78,中文,,0,0,0,,漂亮
Dialogue: 0,0:19:11.78,0:19:13.69,英文,,0,0,0,,Also, size is always the number of items.
Dialogue: 0,0:19:11.78,0:19:13.69,中文,,0,0,0,,另外 大小始终是项目的数量
Dialogue: 0,0:19:13.69,0:19:14.29,英文,,0,0,0,,That's true.
Dialogue: 0,0:19:13.69,0:19:14.29,中文,,0,0,0,,没错
Dialogue: 0,0:19:14.29,0:19:16.75,英文,,0,0,0,,Size is 5 after I delete an item.
Dialogue: 0,0:19:14.29,0:19:16.75,中文,,0,0,0,,我删除一个项目后大小为5
Dialogue: 0,0:19:16.75,0:19:20.03,英文,,0,0,0,,And the last item is in position size minus 1.
Dialogue: 0,0:19:16.75,0:19:20.03,中文,,0,0,0,,而最后一个项目位于位置大小减1
Dialogue: 0,0:19:20.03,0:19:22.81,英文,,0,0,0,,5 minus 1 is 4, and that's the last item.
Dialogue: 0,0:19:20.03,0:19:22.81,中文,,0,0,0,,5减1等于4 那就是最后一个项目
Dialogue: 0,0:19:22.81,0:19:27.56,英文,,0,0,0,,So it turns out, even if I leave this negative 1 hanging around, that's OK.
Dialogue: 0,0:19:22.81,0:19:27.56,中文,,0,0,0,,结果是 即使我留下这个负1 也没关系
Dialogue: 0,0:19:27.56,0:19:29.24,英文,,0,0,0,,All of my invariants still hold.
Dialogue: 0,0:19:27.56,0:19:29.24,中文,,0,0,0,,我的所有不变量仍然成立
Dialogue: 0,0:19:29.24,0:19:35.17,英文,,0,0,0,,So it turns out, even though it seems a little bit tricky, the answer is just size.
Dialogue: 0,0:19:29.24,0:19:35.17,中文,,0,0,0,,结果是 即使看起来有点棘手 答案只是大小
Dialogue: 0,0:19:35.17,0:19:36.45,英文,,0,0,0,,Let's go write that.
Dialogue: 0,0:19:35.17,0:19:36.45,中文,,0,0,0,,让我们去写吧
Dialogue: 0,0:19:36.45,0:19:37.87,英文,,0,0,0,,So the answer was size.
Dialogue: 0,0:19:36.45,0:19:37.87,中文,,0,0,0,,答案是大小
Dialogue: 0,0:19:37.87,0:19:38.67,英文,,0,0,0,,Let's go write it.
Dialogue: 0,0:19:37.87,0:19:38.67,中文,,0,0,0,,让我们去写吧
Dialogue: 0,0:19:38.67,0:19:40.79,英文,,0,0,0,,So remember, what did we have to do?
Dialogue: 0,0:19:38.67,0:19:40.79,中文,,0,0,0,,记住 我们要做什么
Dialogue: 0,0:19:40.79,0:19:44.01,英文,,0,0,0,,Well, it says I have to return the item that was deleted.
Dialogue: 0,0:19:40.79,0:19:44.01,中文,,0,0,0,,好吧 它说我必须返回被删除的项目
Dialogue: 0,0:19:44.01,0:19:45.31,英文,,0,0,0,,That's what the comments say.
Dialogue: 0,0:19:44.01,0:19:45.31,中文,,0,0,0,,评论就是这么说的
Dialogue: 0,0:19:45.31,0:19:47.31,英文,,0,0,0,,So how do I get the item that I want to return?
Dialogue: 0,0:19:45.31,0:19:47.31,中文,,0,0,0,,那么我该如何获取我想要返回的项目
Dialogue: 0,0:19:47.31,0:19:49.26,英文,,0,0,0,,Well, I will call getLast.
Dialogue: 0,0:19:47.31,0:19:49.26,中文,,0,0,0,,我会调用 getLast
Dialogue: 0,0:19:49.26,0:19:50.80,英文,,0,0,0,,That's the item I want to return.
Dialogue: 0,0:19:49.26,0:19:50.80,中文,,0,0,0,,这就是我想要返回的项目
Dialogue: 0,0:19:50.80,0:19:55.84,英文,,0,0,0,,And at this point, as we said from before, all I have to do is just take size,
Dialogue: 0,0:19:50.80,0:19:55.84,中文,,0,0,0,,而且在这一点上 正如我们之前所说的 我所要做的就是取 size
Dialogue: 0,0:19:55.84,0:19:59.54,英文,,0,0,0,,and decrease it by one and then return the item I want to return.
Dialogue: 0,0:19:55.84,0:19:59.54,中文,,0,0,0,,将其减一然后返回我想要返回的项目
Dialogue: 0,0:19:59.54,0:20:02.95,英文,,0,0,0,,And notice I did not have to clear the last item out of the array.
Dialogue: 0,0:19:59.54,0:20:02.95,中文,,0,0,0,,请注意 我不必清除数组中的最后一个项目
Dialogue: 0,0:20:02.95,0:20:09.85,英文,,0,0,0,,It can still hang around there and that's okay because our resulting picture still matches the user's mental model.
Dialogue: 0,0:20:02.95,0:20:09.85,中文,,0,0,0,,它仍然可以留在那里 没关系 因为我们最终的结果仍然符合用户的思维模型
Dialogue: 0,0:20:09.85,0:20:11.60,英文,,0,0,0,,Okay. Reflection.
Dialogue: 0,0:20:09.85,0:20:11.60,中文,,0,0,0,,好的  反思
Dialogue: 0,0:20:11.60,0:20:13.25,英文,,0,0,0,,So here it is.
Dialogue: 0,0:20:11.60,0:20:13.25,中文,,0,0,0,,就是这样
Dialogue: 0,0:20:13.25,0:20:20.19,英文,,0,0,0,,And if you really wanted to, it doesn't really hurt to go into the array and change that item, the negative one that you wanted to delete.
Dialogue: 0,0:20:13.25,0:20:20.19,中文,,0,0,0,,如果你真的想的话 进入数组并更改那个你想要删除的负项其实并不会造成什么影响
Dialogue: 0,0:20:20.19,0:20:22.25,英文,,0,0,0,,It's OK to change it to 0 if you want to.
Dialogue: 0,0:20:20.19,0:20:22.25,中文,,0,0,0,,如果你愿意的话 将其改为0也是可以的
Dialogue: 0,0:20:22.25,0:20:24.29,英文,,0,0,0,,But it turns out it's not necessary.
Dialogue: 0,0:20:22.25,0:20:24.29,中文,,0,0,0,,但事实证明这并不必要
Dialogue: 0,0:20:24.29,0:20:25.93,英文,,0,0,0,,Your invariants still hold.
Dialogue: 0,0:20:24.29,0:20:25.93,中文,,0,0,0,,你的不变性仍然保持
Dialogue: 0,0:20:25.93,0:20:35.67,英文,,0,0,0,,And your concrete reality, the thing that you are building, it's still going to correctly represent the user's mental model of the list, which is kind of cool.
Dialogue: 0,0:20:25.93,0:20:35.67,中文,,0,0,0,,而且你所构建的具体现实 你正在构建的东西 仍然会正确地代表用户对列表的心理模型 这有点酷
Dialogue: 0,0:20:35.67,0:20:48.36,英文,,0,0,0,,I guess if you wanted to relate this back to the puppet show, the best analogy I can come up with is if someone does indeed take their finger and finger shoot the bird, it's OK to just lower the bird from the fire so they can't see it anymore.
Dialogue: 0,0:20:35.67,0:20:48.36,中文,,0,0,0,,我猜如果你想把这个跟木偶戏联系起来 最恰当的比喻可能是如果有人真的用手指去射鸟 把鸟从火中降下来让它看不见就可以了
Dialogue: 0,0:20:48.36,0:20:51.08,英文,,0,0,0,,And you don't actually have to go and destroy the bird puppet.
Dialogue: 0,0:20:48.36,0:20:51.08,中文,,0,0,0,,你其实不需要去摧毁那只鸟偶
Dialogue: 0,0:20:51.08,0:20:55.90,英文,,0,0,0,,So in the same way, when someone wants to remove the item, you don't actually have to destroy the item.
Dialogue: 0,0:20:51.08,0:20:55.90,中文,,0,0,0,,同样的道理 当有人想移除某物时 你其实不需要去摧毁那个物品
Dialogue: 0,0:20:55.90,0:21:00.15,英文,,0,0,0,,You can just leave it hanging around as long as you update size properly.
Dialogue: 0,0:20:55.90,0:21:00.15,中文,,0,0,0,,只要适当更新大小 就可以让它悬挂在那里
Dialogue: 0,0:21:00.15,0:21:01.51,英文,,0,0,0,,OK, questions about this?
Dialogue: 0,0:21:00.15,0:21:01.51,中文,,0,0,0,,好了 关于这个有问题吗
Dialogue: 0,0:21:01.51,0:21:04.87,英文,,0,0,0,,Allegory of the cave, it's a cool idea.
Dialogue: 0,0:21:01.51,0:21:04.87,中文,,0,0,0,,洞穴寓言 这是个很酷的想法
Dialogue: 0,0:21:04.87,0:21:07.05,英文,,0,0,0,,So remember, we're the concrete implementers.
Dialogue: 0,0:21:04.87,0:21:07.05,中文,,0,0,0,,记住 我们是具体的实施者
Dialogue: 0,0:21:07.05,0:21:12.73,英文,,0,0,0,,As long as whatever we do matches the user's mental model, then we're good.
Dialogue: 0,0:21:07.05,0:21:12.73,中文,,0,0,0,,只要我们所做的与用户的思维模式相匹配 那就没问题
Dialogue: 0,0:21:12.73,0:21:14.21,英文,,0,0,0,,OK.
Dialogue: 0,0:21:12.73,0:21:14.21,中文,,0,0,0,,好的
Dialogue: 0,0:21:14.21,0:21:17.71,英文,,0,0,0,,So I guess I won't talk about this in too much detail.
Dialogue: 0,0:21:14.21,0:21:17.71,中文,,0,0,0,,我想我不会详细讨论这个
Dialogue: 0,0:21:17.71,0:21:20.55,英文,,0,0,0,,But if you're curious, you can read it.
Dialogue: 0,0:21:17.71,0:21:20.55,中文,,0,0,0,,但如果你好奇 你可以阅读它
Dialogue: 0,0:21:20.55,0:21:23.84,英文,,0,0,0,,Sometimes people ask what happens if you try to get something out of bounds.
Dialogue: 0,0:21:20.55,0:21:23.84,中文,,0,0,0,,有时候人们会问 如果你尝试获取超出界限的东西会发生什么
Dialogue: 0,0:21:23.84,0:21:25.36,英文,,0,0,0,,Our suggestion is to crash the program.
Dialogue: 0,0:21:23.84,0:21:25.36,中文,,0,0,0,,我们的建议是使程序崩溃
Dialogue: 0,0:21:25.36,0:21:26.64,英文,,0,0,0,,But it's up to you.
Dialogue: 0,0:21:25.36,0:21:26.64,中文,,0,0,0,,但这取决于你
Dialogue: 0,0:21:26.64,0:21:31.51,英文,,0,0,0,,As long as you communicate to users what your A-list does, then it's OK.
Dialogue: 0,0:21:26.64,0:21:31.51,中文,,0,0,0,,只要你向用户说明一下你的A-list是干什么的 那就没问题了
Dialogue: 0,0:21:31.51,0:21:32.87,英文,,0,0,0,,OK, great.
Dialogue: 0,0:21:31.51,0:21:32.87,中文,,0,0,0,,太好了
Dialogue: 0,0:21:32.87,0:21:34.02,英文,,0,0,0,,So there is one problem.
Dialogue: 0,0:21:32.87,0:21:34.02,中文,,0,0,0,,有一个问题
Dialogue: 0,0:21:34.02,0:21:36.26,英文,,0,0,0,,Everyone always calls me out on this every semester.
Dialogue: 0,0:21:34.02,0:21:36.26,中文,,0,0,0,,每个学期大家总是指出这个问题
Dialogue: 0,0:21:36.26,0:21:41.40,英文,,0,0,0,,So I'm going to solve it for you right now, which is, well, so far, we've built a mighty A-list.
Dialogue: 0,0:21:36.26,0:21:41.40,中文,,0,0,0,,我现在就来解决它 到目前为止 我们已经建立了一个强大的A-list
Dialogue: 0,0:21:41.40,0:21:42.90,英文,,0,0,0,,It's beautiful, right?
Dialogue: 0,0:21:41.40,0:21:42.90,中文,,0,0,0,,是不是很棒
Dialogue: 0,0:21:42.90,0:21:44.88,英文,,0,0,0,,I still have the same operations as last time.
Dialogue: 0,0:21:42.90,0:21:44.88,中文,,0,0,0,,我还有上次一样的操作
Dialogue: 0,0:21:44.88,0:21:45.64,英文,,0,0,0,,I can add things.
Dialogue: 0,0:21:44.88,0:21:45.64,中文,,0,0,0,,我可以添加东西
Dialogue: 0,0:21:45.64,0:21:46.62,英文,,0,0,0,,I can remove things.
Dialogue: 0,0:21:45.64,0:21:46.62,中文,,0,0,0,,我可以删除东西
Dialogue: 0,0:21:46.62,0:21:47.78,英文,,0,0,0,,I can get things.
Dialogue: 0,0:21:46.62,0:21:47.78,中文,,0,0,0,,我可以获取东西
Dialogue: 0,0:21:47.78,0:21:51.86,英文,,0,0,0,,And the way that it works is instead of using links, I have this beautiful backing array.
Dialogue: 0,0:21:47.78,0:21:51.86,中文,,0,0,0,,它的工作方式是 我没有使用链接 而是有这个美丽的后备数组
Dialogue: 0,0:21:51.86,0:21:54.90,英文,,0,0,0,,And as I add things and I delete things, the size changes.
Dialogue: 0,0:21:51.86,0:21:54.90,中文,,0,0,0,,当我添加东西和删除东西时 大小会改变
Dialogue: 0,0:21:54.90,0:21:56.44,英文,,0,0,0,,I fill in items in the array.
Dialogue: 0,0:21:54.90,0:21:56.44,中文,,0,0,0,,我填写数组中的项目
Dialogue: 0,0:21:56.44,0:21:57.86,英文,,0,0,0,,It's beautiful.
Dialogue: 0,0:21:56.44,0:21:57.86,中文,,0,0,0,,它很漂亮
Dialogue: 0,0:21:57.86,0:22:01.00,英文,,0,0,0,,But what happens if I have a lot of items?
Dialogue: 0,0:21:57.86,0:22:01.00,中文,,0,0,0,,但是如果我有很多项呢
Dialogue: 0,0:22:01.00,0:22:04.05,英文,,0,0,0,,So what if I keep adding and adding and adding?
Dialogue: 0,0:22:01.00,0:22:04.05,中文,,0,0,0,,那如果我不停地添加 添加 添加呢
Dialogue: 0,0:22:04.05,0:22:08.93,英文,,0,0,0,,And eventually, what if I get to the point where I have 100 items in the list?
Dialogue: 0,0:22:04.05,0:22:08.93,中文,,0,0,0,,最终 如果我列表里有100项会怎么样
Dialogue: 0,0:22:08.93,0:22:10.43,英文,,0,0,0,,And my backing array is of size 100.
Dialogue: 0,0:22:08.93,0:22:10.43,中文,,0,0,0,,而且我的后备数组的大小是100
Dialogue: 0,0:22:10.43,0:22:13.95,英文,,0,0,0,,And the user is like, I want to add more.
Dialogue: 0,0:22:10.43,0:22:13.95,中文,,0,0,0,,如果用户说 我想要再加一些
Dialogue: 0,0:22:13.95,0:22:15.75,英文,,0,0,0,,Well, now we have a problem.
Dialogue: 0,0:22:13.95,0:22:15.75,中文,,0,0,0,,那么 现在我们有一个问题
Dialogue: 0,0:22:15.75,0:22:20.12,英文,,0,0,0,,Now we're at the point where the concrete reality, the thing that we're implementing,
Dialogue: 0,0:22:15.75,0:22:20.12,中文,,0,0,0,,现在我们到了实际情况的关键点 我们正在实现的那个东西
Dialogue: 0,0:22:20.12,0:22:23.80,英文,,0,0,0,,Behind the scenes, it's actually a completely full array.
Dialogue: 0,0:22:20.12,0:22:23.80,中文,,0,0,0,,幕后 其实是一个完全填满的数组
Dialogue: 0,0:22:23.80,0:22:26.76,英文,,0,0,0,,But the user's mental model is not they don't care about the array.
Dialogue: 0,0:22:23.80,0:22:26.76,中文,,0,0,0,,但用户的心智模型并不是他们不关心数组
Dialogue: 0,0:22:26.76,0:22:28.96,英文,,0,0,0,,They want an infinitely extensible list.
Dialogue: 0,0:22:26.76,0:22:28.96,中文,,0,0,0,,他们想要一个无限可扩展的列表
Dialogue: 0,0:22:28.96,0:22:35.32,英文,,0,0,0,,So if the user comes to me and says, I want more in my list, we can't go to the user and say, you can't have more.
Dialogue: 0,0:22:28.96,0:22:35.32,中文,,0,0,0,,如果用户来找我说 我想在我的列表中加更多 我们不能对用户说 你不能再加了
Dialogue: 0,0:22:35.32,0:22:39.34,英文,,0,0,0,,We need to somehow give the user the ability to add more to their list.
Dialogue: 0,0:22:35.32,0:22:39.34,中文,,0,0,0,,我们需要以某种方式让用户能够向他们的列表添加更多内容
Dialogue: 0,0:22:39.34,0:22:40.66,英文,,0,0,0,,Except my array is full.
Dialogue: 0,0:22:39.34,0:22:40.66,中文,,0,0,0,,除了我的数组已经满了
Dialogue: 0,0:22:40.66,0:22:43.86,英文,,0,0,0,,I cannot ask this array to give me more space.
Dialogue: 0,0:22:40.66,0:22:43.86,中文,,0,0,0,,我不能要求这个数组给我更多的空间
Dialogue: 0,0:22:43.86,0:22:46.02,英文,,0,0,0,,Remember, in Java, arrays are fixed.
Dialogue: 0,0:22:43.86,0:22:46.02,中文,,0,0,0,,记住 在Java中 数组是固定的
Dialogue: 0,0:22:46.02,0:22:47.10,英文,,0,0,0,,So what do we do?
Dialogue: 0,0:22:46.02,0:22:47.10,中文,,0,0,0,,那我们该怎么办呢
Dialogue: 0,0:22:47.10,0:22:49.34,英文,,0,0,0,,I can't resize this array.
Dialogue: 0,0:22:47.10,0:22:49.34,中文,,0,0,0,,我无法调整这个数组的大小
Dialogue: 0,0:22:49.34,0:22:50.48,英文,,0,0,0,,So it's kind of weird.
Dialogue: 0,0:22:49.34,0:22:50.48,中文,,0,0,0,,这有点奇怪
Dialogue: 0,0:22:50.48,0:22:55.20,英文,,0,0,0,,The solution I'm about to present is a little bit hacky, but it turns out what people do in real life.
Dialogue: 0,0:22:50.48,0:22:55.20,中文,,0,0,0,,我即将提出的解决方案有点巧妙 但实际上人们在生活中就是这么做的
Dialogue: 0,0:22:55.20,0:22:59.80,英文,,0,0,0,,So because I cannot resize the array, I will resize the array.
Dialogue: 0,0:22:55.20,0:22:59.80,中文,,0,0,0,,因为我不能调整数组的大小 我将调整数组的大小
Dialogue: 0,0:22:59.80,0:23:01.91,英文,,0,0,0,,And that sounds completely nuts.
Dialogue: 0,0:22:59.80,0:23:01.91,中文,,0,0,0,,听起来完全疯狂
Dialogue: 0,0:23:01.91,0:23:10.73,英文,,0,0,0,,And it turns out when I say resize, we're actually going to do something that's a little bit hacky, but it will eventually create an array of the proper size.
Dialogue: 0,0:23:01.91,0:23:10.73,中文,,0,0,0,,当我说调整大小时 事实证明 我们实际上要做的是有点巧妙的事情 但最终会创建一个适当大小的数组
Dialogue: 0,0:23:10.73,0:23:13.67,英文,,0,0,0,,So I look at this array and I say, this array is too small.
Dialogue: 0,0:23:10.73,0:23:13.67,中文,,0,0,0,,我看着这个数组 我说 这个数组太小了
Dialogue: 0,0:23:13.67,0:23:15.75,英文,,0,0,0,,The user wants 101 items.
Dialogue: 0,0:23:13.67,0:23:15.75,中文,,0,0,0,,用户想要101个项目
Dialogue: 0,0:23:15.75,0:23:17.29,英文,,0,0,0,,This one only fits 100.
Dialogue: 0,0:23:15.75,0:23:17.29,中文,,0,0,0,,这个只能容纳100个
Dialogue: 0,0:23:17.29,0:23:19.43,英文,,0,0,0,,You are too small for my purposes.
Dialogue: 0,0:23:17.29,0:23:19.43,中文,,0,0,0,,对于我的目的来说 你太小了
Dialogue: 0,0:23:19.43,0:23:21.31,英文,,0,0,0,,I cannot ask this array for more space.
Dialogue: 0,0:23:19.43,0:23:21.31,中文,,0,0,0,,我不能要求这个数组再分配更多的空间
Dialogue: 0,0:23:21.31,0:23:23.98,英文,,0,0,0,,When you create an array, it's of constant space.
Dialogue: 0,0:23:21.31,0:23:23.98,中文,,0,0,0,,当你创建一个数组时 它是固定大小的
Dialogue: 0,0:23:23.98,0:23:25.72,英文,,0,0,0,,So instead, here's what I'm going to do.
Dialogue: 0,0:23:23.98,0:23:25.72,中文,,0,0,0,,这样吧 这是我的计划
Dialogue: 0,0:23:25.72,0:23:30.20,英文,,0,0,0,,I'm going to say, I want a new array that actually does have enough space.
Dialogue: 0,0:23:25.72,0:23:30.20,中文,,0,0,0,,我要求一个新的数组 确实有足够的空间
Dialogue: 0,0:23:30.20,0:23:34.14,英文,,0,0,0,,So please create for me a brand new array that does have enough space.
Dialogue: 0,0:23:30.20,0:23:34.14,中文,,0,0,0,,请为我创建一个全新的数组 确实有足够的空间
Dialogue: 0,0:23:34.14,0:23:36.24,英文,,0,0,0,,Look, there's 101 boxes now.
Dialogue: 0,0:23:34.14,0:23:36.24,中文,,0,0,0,,看 现在有101个盒子
Dialogue: 0,0:23:36.24,0:23:38.22,英文,,0,0,0,,This one has enough space for me.
Dialogue: 0,0:23:36.24,0:23:38.22,中文,,0,0,0,,这个盒子对我来说有足够的空间
Dialogue: 0,0:23:38.22,0:23:46.37,英文,,0,0,0,,And then what I'm going to do is I'm going to take all the items in the old array, which was too small, and copy them into this brand new array, which does have enough space.
Dialogue: 0,0:23:38.22,0:23:46.37,中文,,0,0,0,,然后我要做的是 我会把旧数组中的所有项目 这个旧数组是太小了 复制到这个全新的确实有足够空间的数组中
Dialogue: 0,0:23:46.37,0:23:48.43,英文,,0,0,0,,And then here comes the trick.
Dialogue: 0,0:23:46.37,0:23:48.43,中文,,0,0,0,,然后 这里就有点儿巧妙了
Dialogue: 0,0:23:48.43,0:23:52.21,英文,,0,0,0,,This is the magic trick, which is, I guess, first, I'll fill in the last item.
Dialogue: 0,0:23:48.43,0:23:52.21,中文,,0,0,0,,这是一个魔术技巧 我想 首先 我会填写最后一项
Dialogue: 0,0:23:52.21,0:23:53.51,英文,,0,0,0,,That wasn't so magical.
Dialogue: 0,0:23:52.21,0:23:53.51,中文,,0,0,0,,那不是那么神奇
Dialogue: 0,0:23:53.51,0:23:55.59,英文,,0,0,0,,And then, now, I'm going to say, you know what?
Dialogue: 0,0:23:53.51,0:23:55.59,中文,,0,0,0,,然后 现在 我要说 你知道吗
Dialogue: 0,0:23:55.59,0:23:58.03,英文,,0,0,0,,This old array, it's too small for my purposes.
Dialogue: 0,0:23:55.59,0:23:58.03,中文,,0,0,0,,这个旧数组 对我的目的来说太小了
Dialogue: 0,0:23:58.03,0:23:58.99,英文,,0,0,0,,I don't need you anymore.
Dialogue: 0,0:23:58.03,0:23:58.99,中文,,0,0,0,,我不再需要你了
Dialogue: 0,0:23:58.99,0:24:02.65,英文,,0,0,0,,So what I'm going to do is I'm going to take items, which, remember, this was an address.
Dialogue: 0,0:23:58.99,0:24:02.65,中文,,0,0,0,,我要做的是 我要取项目 记住 这是一个地址
Dialogue: 0,0:24:02.65,0:24:04.39,英文,,0,0,0,,It was like, go visit your array here.
Dialogue: 0,0:24:02.65,0:24:04.39,中文,,0,0,0,,就像 去访问你的数组在这里
Dialogue: 0,0:24:04.39,0:24:05.29,英文,,0,0,0,,I'm going to say,
Dialogue: 0,0:24:04.39,0:24:05.29,中文,,0,0,0,,我要说的是,
Dialogue: 0,0:24:05.29,0:24:07.37,英文,,0,0,0,,I don't want to point at this old array anymore.
Dialogue: 0,0:24:05.29,0:24:07.37,中文,,0,0,0,,我不想再指着这个老数组了
Dialogue: 0,0:24:07.37,0:24:19.65,英文,,0,0,0,,I'm going to make this item's memory box contain the address of the new array of A. So now it's going to point to this new array A, which is larger and has enough space for the items that the user wants.
Dialogue: 0,0:24:07.37,0:24:19.65,中文,,0,0,0,,我要让这个项目的内存盒子包含新数组A的地址 现在它将指向这个新数组A 它更大 有足够的空间来容纳用户想要的项目
Dialogue: 0,0:24:19.65,0:24:21.49,英文,,0,0,0,,Then I'm going to increment size by 1.
Dialogue: 0,0:24:19.65,0:24:21.49,中文,,0,0,0,,然后我要将大小增加1
Dialogue: 0,0:24:21.49,0:24:26.39,英文,,0,0,0,,And the magic part right here is, if you look at this old array, there are no more references to it.
Dialogue: 0,0:24:21.49,0:24:26.39,中文,,0,0,0,,而这里的神奇之处在于 如果你看这个老数组 它再也没有被引用了
Dialogue: 0,0:24:26.39,0:24:28.41,英文,,0,0,0,,There's no way to get to it anymore.
Dialogue: 0,0:24:26.39,0:24:28.41,中文,,0,0,0,,再也没有办法访问它了
Dialogue: 0,0:24:28.41,0:24:32.12,英文,,0,0,0,,It's like burying the treasure and throwing away the notes of where you put it.
Dialogue: 0,0:24:28.41,0:24:32.12,中文,,0,0,0,,就像埋藏宝藏并丢掉放置它的纸条一样
Dialogue: 0,0:24:32.12,0:24:39.20,英文,,0,0,0,,So since this thing has no more references to the array, the garbage collector will come and consume it, and it's gone.
Dialogue: 0,0:24:32.12,0:24:39.20,中文,,0,0,0,,因为这个东西已经不再引用这个数组 垃圾收集器就会来把它清理掉 然后它就消失了
Dialogue: 0,0:24:39.20,0:24:41.92,英文,,0,0,0,,And now I just have one array of the proper size.
Dialogue: 0,0:24:39.20,0:24:41.92,中文,,0,0,0,,现在我只有一个合适大小的数组了
Dialogue: 0,0:24:41.92,0:24:48.88,英文,,0,0,0,,And even though we had to create a new array and copy the items over, we have technically resized our array.
Dialogue: 0,0:24:41.92,0:24:48.88,中文,,0,0,0,,虽然我们不得不创建一个新的数组并复制项目 但我们在技术上已经调整了我们的数组大小
Dialogue: 0,0:24:48.88,0:24:53.20,英文,,0,0,0,,So we call this process resizing, even though it's kind of cheating a little bit.
Dialogue: 0,0:24:48.88,0:24:53.20,中文,,0,0,0,,我们称这个过程为调整大小 尽管有点作弊
Dialogue: 0,0:24:53.20,0:24:54.86,英文,,0,0,0,,We're not really resizing the array.
Dialogue: 0,0:24:53.20,0:24:54.86,中文,,0,0,0,,我们并没有真正地调整数组大小
Dialogue: 0,0:24:54.86,0:24:56.22,英文,,0,0,0,,We're creating a new one.
Dialogue: 0,0:24:54.86,0:24:56.22,中文,,0,0,0,,我们正在创建一个新的
Dialogue: 0,0:24:56.22,0:25:01.76,英文,,0,0,0,,copying the items over and then throwing away the old one, which is now too small for our purposes.
Dialogue: 0,0:24:56.22,0:25:01.76,中文,,0,0,0,,复制项目然后丢弃旧的 现在对我们的目的来说太小了
Dialogue: 0,0:25:01.76,0:25:05.26,英文,,0,0,0,,Okay, question?
Dialogue: 0,0:25:01.76,0:25:05.26,中文,,0,0,0,,问题
Dialogue: 0,0:25:05.26,0:25:08.15,英文,,0,0,0,,Sorry, say that one more time.
Dialogue: 0,0:25:05.26,0:25:08.15,中文,,0,0,0,,抱歉 再说一遍
Dialogue: 0,0:25:08.15,0:25:09.85,英文,,0,0,0,,Yeah, the question was, is this slow?
Dialogue: 0,0:25:08.15,0:25:09.85,中文,,0,0,0,,是的 问题是 这个慢吗
Dialogue: 0,0:25:09.85,0:25:10.71,英文,,0,0,0,,You're right.
Dialogue: 0,0:25:09.85,0:25:10.71,中文,,0,0,0,,你是对的
Dialogue: 0,0:25:10.71,0:25:13.67,英文,,0,0,0,,I'm going to cover it like in a couple of slides.
Dialogue: 0,0:25:10.71,0:25:13.67,中文,,0,0,0,,我会在几张幻灯片中涵盖这个的
Dialogue: 0,0:25:13.67,0:25:15.31,英文,,0,0,0,,It's a great question, though.
Dialogue: 0,0:25:13.67,0:25:15.31,中文,,0,0,0,,这个问题问得很好 不过
Dialogue: 0,0:25:15.31,0:25:16.31,英文,,0,0,0,,You're spoiling the lecture.
Dialogue: 0,0:25:15.31,0:25:16.31,中文,,0,0,0,,你在破坏讲座
Dialogue: 0,0:25:16.31,0:25:18.70,英文,,0,0,0,,It's OK.
Dialogue: 0,0:25:16.31,0:25:18.70,中文,,0,0,0,,没问题
Dialogue: 0,0:25:18.70,0:25:19.90,英文,,0,0,0,,OK, great.
Dialogue: 0,0:25:18.70,0:25:19.90,中文,,0,0,0,,太棒了
Dialogue: 0,0:25:19.90,0:25:21.86,英文,,0,0,0,,So how do we implement this?
Dialogue: 0,0:25:19.90,0:25:21.86,中文,,0,0,0,,那我们怎么实现这个
Dialogue: 0,0:25:21.86,0:25:23.54,英文,,0,0,0,,Let's hop in IntelliJ.
Dialogue: 0,0:25:21.86,0:25:23.54,中文,,0,0,0,,我们进入 IntelliJ 吧
Dialogue: 0,0:25:23.54,0:25:24.56,英文,,0,0,0,,Let's write some code.
Dialogue: 0,0:25:23.54,0:25:24.56,中文,,0,0,0,,让我们写些代码
Dialogue: 0,0:25:24.56,0:25:31.78,英文,,0,0,0,,So I'm going to go in add last, because that's the thing that's going to cause my array to be too full if someone tries to add stuff.
Dialogue: 0,0:25:24.56,0:25:31.78,中文,,0,0,0,,我要先添加最后一个 因为如果有人尝试添加东西 这会导致我的数组太满
Dialogue: 0,0:25:31.78,0:25:40.05,英文,,0,0,0,,So I'm going to say, Well, if the size is so large that it's equal to items.length, that means that I'm totally out of space.
Dialogue: 0,0:25:31.78,0:25:40.05,中文,,0,0,0,,我会说  如果大小太大以至于等于items.length 那就意味着我的空间完全不够了
Dialogue: 0,0:25:40.05,0:25:48.05,英文,,0,0,0,,The user's mental model is a list that is so large that it does not fit in my concrete implementation backing array.
Dialogue: 0,0:25:40.05,0:25:48.05,中文,,0,0,0,,用户的心理模型是一个列表 它太大了 不适合我的具体实现后备数组
Dialogue: 0,0:25:48.05,0:25:49.17,英文,,0,0,0,,That's what that means.
Dialogue: 0,0:25:48.05,0:25:49.17,中文,,0,0,0,,就是这个意思
Dialogue: 0,0:25:49.17,0:25:50.88,英文,,0,0,0,,Well, then what do I have to do?
Dialogue: 0,0:25:49.17,0:25:50.88,中文,,0,0,0,,那么我该怎么办呢
Dialogue: 0,0:25:50.88,0:25:51.82,英文,,0,0,0,,I have to go back in here.
Dialogue: 0,0:25:50.88,0:25:51.82,中文,,0,0,0,,我得回到这里
Dialogue: 0,0:25:51.82,0:25:54.48,英文,,0,0,0,,I'll even go back to the slides, because remember, we had it here.
Dialogue: 0,0:25:51.82,0:25:54.48,中文,,0,0,0,,我甚至要回到幻灯片上 因为记得 我们在这里有它
Dialogue: 0,0:25:54.48,0:26:00.53,英文,,0,0,0,,I'm going to do that, which is I'm going to say there's a brand new array, which is of
Dialogue: 0,0:25:54.48,0:26:00.53,中文,,0,0,0,,我要这样做 我要说有一个全新的数组 它是的
Dialogue: 0,0:26:00.53,0:26:03.73,英文,,0,0,0,,Items.length, could also do size, I guess, plus 1.
Dialogue: 0,0:26:00.53,0:26:03.73,中文,,0,0,0,,项目长度 也可以用 size 我猜 再加 1
Dialogue: 0,0:26:03.73,0:26:05.53,英文,,0,0,0,,So it's a larger array.
Dialogue: 0,0:26:03.73,0:26:05.53,中文,,0,0,0,,它是一个更大的数组
Dialogue: 0,0:26:05.53,0:26:06.45,英文,,0,0,0,,Something like that.
Dialogue: 0,0:26:05.53,0:26:06.45,中文,,0,0,0,,差不多是这样
Dialogue: 0,0:26:06.45,0:26:08.42,英文,,0,0,0,,Ah, I forgot the word new.
Dialogue: 0,0:26:06.45,0:26:08.42,中文,,0,0,0,,啊 我忘了加上“新”这个词
Dialogue: 0,0:26:08.42,0:26:16.70,英文,,0,0,0,,Then what I'm going to do is I'm going to use that fancy system.arraycopy call to take all the items in the old array and put them in the brand new array.
Dialogue: 0,0:26:08.42,0:26:16.70,中文,,0,0,0,,接下来我要做的就是使用那个花里胡哨的 system.arraycopy 调用 把旧数组中的所有项目放到全新的数组中去
Dialogue: 0,0:26:16.70,0:26:19.28,英文,,0,0,0,,I always forget, remember the last time, I forget the syntax.
Dialogue: 0,0:26:16.70,0:26:19.28,中文,,0,0,0,,我总是忘记 记得上次 我忘了语法
Dialogue: 0,0:26:19.28,0:26:22.09,英文,,0,0,0,,Luckily, IntelliJ is helpful, and it gives me this hint.
Dialogue: 0,0:26:19.28,0:26:22.09,中文,,0,0,0,,幸运的是 IntelliJ 很有帮助 它给了我这个提示
Dialogue: 0,0:26:22.09,0:26:23.47,英文,,0,0,0,,And it says, source.
Dialogue: 0,0:26:22.09,0:26:23.47,中文,,0,0,0,,它说 源头
Dialogue: 0,0:26:23.47,0:26:24.53,英文,,0,0,0,,OK, what's the source?
Dialogue: 0,0:26:23.47,0:26:24.53,中文,,0,0,0,,源头是什么
Dialogue: 0,0:26:24.53,0:26:25.55,英文,,0,0,0,,It's items.
Dialogue: 0,0:26:24.53,0:26:25.55,中文,,0,0,0,,是项
Dialogue: 0,0:26:25.55,0:26:28.13,英文,,0,0,0,,And then source position, I want to start at 0.
Dialogue: 0,0:26:25.55,0:26:28.13,中文,,0,0,0,,然后是源头位置 我想从0开始
Dialogue: 0,0:26:28.13,0:26:33.11,英文,,0,0,0,,I want to go to destination, which is A, this brand new array, starting at 0.
Dialogue: 0,0:26:28.13,0:26:33.11,中文,,0,0,0,,我想要去目的地 就是 A 这个全新的数组 从0开始
Dialogue: 0,0:26:33.11,0:26:35.23,英文,,0,0,0,,I want to copy size items.
Dialogue: 0,0:26:33.11,0:26:35.23,中文,,0,0,0,,我想要复制尺寸项
Dialogue: 0,0:26:35.23,0:26:35.89,英文,,0,0,0,,OK, great.
Dialogue: 0,0:26:35.23,0:26:35.89,中文,,0,0,0,,太棒了
Dialogue: 0,0:26:35.89,0:26:39.12,英文,,0,0,0,,I'll make this size plus 1 just to make it look nicer, but they're the same.
Dialogue: 0,0:26:35.89,0:26:39.12,中文,,0,0,0,,我会把这个尺寸加 1 这样看起来更好看 但它们是一样的
Dialogue: 0,0:26:39.12,0:26:40.84,英文,,0,0,0,,OK, so I made a new array.
Dialogue: 0,0:26:39.12,0:26:40.84,中文,,0,0,0,,我创建了一个新的数组
Dialogue: 0,0:26:40.84,0:26:43.50,英文,,0,0,0,,I copied all the items over.
Dialogue: 0,0:26:40.84,0:26:43.50,中文,,0,0,0,,我把所有的项目都复制过来了
Dialogue: 0,0:26:43.50,0:26:46.66,英文,,0,0,0,,And then here comes the trick, which is I'm going to say, you know what?
Dialogue: 0,0:26:43.50,0:26:46.66,中文,,0,0,0,,然后 这里来了个诀窍 就是我要说 你知道吗
Dialogue: 0,0:26:46.66,0:26:50.26,英文,,0,0,0,,That items array, that reference to the old array, I'm going to throw it away.
Dialogue: 0,0:26:46.66,0:26:50.26,中文,,0,0,0,,那个项目数组 指向旧数组的引用 我要把它丢掉
Dialogue: 0,0:26:50.26,0:26:52.42,英文,,0,0,0,,I'm going to make it point at the new array instead.
Dialogue: 0,0:26:50.26,0:26:52.42,中文,,0,0,0,,我会让它指向新数组
Dialogue: 0,0:26:52.42,0:26:53.90,英文,,0,0,0,,That's what items equals a does.
Dialogue: 0,0:26:52.42,0:26:53.90,中文,,0,0,0,,这就是项等于a的东西
Dialogue: 0,0:26:53.90,0:26:59.35,英文,,0,0,0,,It takes the memory box that points to the old array, makes it point at the brand new array.
Dialogue: 0,0:26:53.90,0:26:59.35,中文,,0,0,0,,它拿着指向旧数组的内存盒子 让它指向全新的数组
Dialogue: 0,0:26:59.35,0:27:03.01,英文,,0,0,0,,Then at the end, I can item size equals x, because now the array is larger.
Dialogue: 0,0:26:59.35,0:27:03.01,中文,,0,0,0,,然后最后 我可以项大小等于x 因为现在数组更大了
Dialogue: 0,0:27:03.01,0:27:05.49,英文,,0,0,0,,And I can do size plus equals 1.
Dialogue: 0,0:27:03.01,0:27:05.49,中文,,0,0,0,,而且我可以做大小加等于1
Dialogue: 0,0:27:05.49,0:27:07.61,英文,,0,0,0,,OK, cool.
Dialogue: 0,0:27:05.49,0:27:07.61,中文,,0,0,0,,很酷
Dialogue: 0,0:27:07.61,0:27:10.62,英文,,0,0,0,,So that was the resizing array implementation.
Dialogue: 0,0:27:07.61,0:27:10.62,中文,,0,0,0,,这就是调整大小的数组实现
Dialogue: 0,0:27:10.62,0:27:11.78,英文,,0,0,0,,Here it is on the left.
Dialogue: 0,0:27:10.62,0:27:11.78,中文,,0,0,0,,在这里 它在左边
Dialogue: 0,0:27:11.78,0:27:15.88,英文,,0,0,0,,But I will note one small thing, which is that this code is kind of getting long.
Dialogue: 0,0:27:11.78,0:27:15.88,中文,,0,0,0,,但是我要注意一点 就是这段代码有点变得很长了
Dialogue: 0,0:27:15.88,0:27:18.62,英文,,0,0,0,,This method is a little long for an add last method.
Dialogue: 0,0:27:15.88,0:27:18.62,中文,,0,0,0,,这个方法对于一个添加最后一个方法来说有点长
Dialogue: 0,0:27:18.62,0:27:22.09,英文,,0,0,0,,So I'm going to go back, and I'm going to do a little trick, which is, you know what?
Dialogue: 0,0:27:18.62,0:27:22.09,中文,,0,0,0,,我要回去 我要做一个小技巧 你知道吗
Dialogue: 0,0:27:22.09,0:27:27.15,英文,,0,0,0,,I think about this resizing process, and I'm like, that's not something that's fundamental to add last.
Dialogue: 0,0:27:22.09,0:27:27.15,中文,,0,0,0,,我想到这个调整大小的过程 我觉得 这不是添加最后一个方法的基础之一
Dialogue: 0,0:27:27.15,0:27:28.39,英文,,0,0,0,,That could be a method of its own.
Dialogue: 0,0:27:27.15,0:27:28.39,中文,,0,0,0,,这可能是一个独立的方法
Dialogue: 0,0:27:28.39,0:27:33.13,英文,,0,0,0,,So maybe I want to make a helper method called resize.
Dialogue: 0,0:27:28.39,0:27:33.13,中文,,0,0,0,,也许我想要做一个名为resize的辅助方法
Dialogue: 0,0:27:33.13,0:27:37.95,英文,,0,0,0,,And instead of having this code living in the addLast method, I'm going to split it off into a different method.
Dialogue: 0,0:27:33.13,0:27:37.95,中文,,0,0,0,,并且不是让这段代码存在于addLast方法中 而是将其拆分成一个不同的方法
Dialogue: 0,0:27:37.95,0:27:39.76,英文,,0,0,0,,And I'm going to say, I'll even add a comment.
Dialogue: 0,0:27:37.95,0:27:39.76,中文,,0,0,0,,我要说 我甚至会添加一条注释
Dialogue: 0,0:27:39.76,0:27:46.88,英文,,0,0,0,,Resizes the underlying array to the target capacity.
Dialogue: 0,0:27:39.76,0:27:46.88,中文,,0,0,0,,将底层数组的大小调整为目标容量
Dialogue: 0,0:27:46.88,0:27:51.66,英文,,0,0,0,,So I can actually take this code, move it to a different method, this time instead of
Dialogue: 0,0:27:46.88,0:27:51.66,中文,,0,0,0,,我实际上可以将这段代码移到另一个方法中 这次不是
Dialogue: 0,0:27:51.66,0:27:54.44,英文,,0,0,0,,resizing to the, or making a new array of size plus one.
Dialogue: 0,0:27:51.66,0:27:54.44,中文,,0,0,0,,调整大小 或者制作一个大小增加一的新数组
Dialogue: 0,0:27:54.44,0:27:57.14,英文,,0,0,0,,I will let the user choose a capacity that they like.
Dialogue: 0,0:27:54.44,0:27:57.14,中文,,0,0,0,,我会让用户选择他们喜欢的容量
Dialogue: 0,0:27:57.14,0:28:02.12,英文,,0,0,0,,And then instead of having this code live here, I'll say resize to size plus one.
Dialogue: 0,0:27:57.14,0:28:02.12,中文,,0,0,0,,然后 不再让这段代码存在这里 我会说调整大小为大小增加一
Dialogue: 0,0:28:02.12,0:28:05.36,英文,,0,0,0,,So why would I do this seemingly pointless exercise?
Dialogue: 0,0:28:02.12,0:28:05.36,中文,,0,0,0,,那么为什么我要进行这个看似无意义的练习呢
Dialogue: 0,0:28:05.36,0:28:08.22,英文,,0,0,0,,Well, this is nice because now I have two separate methods.
Dialogue: 0,0:28:05.36,0:28:08.22,中文,,0,0,0,,这很好 因为现在我有两种单独的方法
Dialogue: 0,0:28:08.22,0:28:09.52,英文,,0,0,0,,I can test them separately.
Dialogue: 0,0:28:08.22,0:28:09.52,中文,,0,0,0,,我可以分别测试它们
Dialogue: 0,0:28:09.52,0:28:14.63,英文,,0,0,0,,So if you're working on Project 1B, where you'll be doing this, well, you could test these two separately.
Dialogue: 0,0:28:09.52,0:28:14.63,中文,,0,0,0,,如果你正在做1B项目 你会在这里做这个 你可以分别测试这两个
Dialogue: 0,0:28:14.63,0:28:19.49,英文,,0,0,0,,You could say, I can check if my resize works, and then I can separately check if my add last works.
Dialogue: 0,0:28:14.63,0:28:19.49,中文,,0,0,0,,你可以说 我可以检查我的调整是否有效 然后我可以分别检查我的添加最后是否有效
Dialogue: 0,0:28:19.49,0:28:26.35,英文,,0,0,0,,Whereas before, where everything was in one big gigantic function, if something broke, it was a lot harder to find where it is.
Dialogue: 0,0:28:19.49,0:28:26.35,中文,,0,0,0,,而之前 当一切都在一个巨大的函数中时 如果出了问题 要找到问题所在就难得多
Dialogue: 0,0:28:26.35,0:28:30.10,英文,,0,0,0,,Whereas now, if something breaks, you can check, is the broken code in resize?
Dialogue: 0,0:28:26.35,0:28:30.10,中文,,0,0,0,,而现在 如果出了问题 你可以检查 是调整的代码有问题吗
Dialogue: 0,0:28:30.10,0:28:31.28,英文,,0,0,0,,Is it at last?
Dialogue: 0,0:28:30.10,0:28:31.28,中文,,0,0,0,,还是在最后
Dialogue: 0,0:28:31.28,0:28:32.60,英文,,0,0,0,,Both of these are smaller.
Dialogue: 0,0:28:31.28,0:28:32.60,中文,,0,0,0,,这两个都更小
Dialogue: 0,0:28:32.60,0:28:33.98,英文,,0,0,0,,So I like this.
Dialogue: 0,0:28:32.60,0:28:33.98,中文,,0,0,0,,我喜欢这个
Dialogue: 0,0:28:33.98,0:28:35.58,英文,,0,0,0,,Although, you don't have to agree.
Dialogue: 0,0:28:33.98,0:28:35.58,中文,,0,0,0,,虽然 你不一定同意
Dialogue: 0,0:28:35.58,0:28:39.04,英文,,0,0,0,,If you like to put them in the same method, that's okay too.
Dialogue: 0,0:28:35.58,0:28:39.04,中文,,0,0,0,,如果你喜欢把它们放在同一个方法里 那也可以
Dialogue: 0,0:28:39.04,0:28:45.43,英文,,0,0,0,,OK, I guess final disclaimer I'll note at this point is that the way that I've been programming this lecture is in some ways a bad example.
Dialogue: 0,0:28:39.04,0:28:45.43,中文,,0,0,0,,我猜最后的免责声明我会在这一点上注意到的是 我编写这个讲座的方式在某些方面是一个不好的例子
Dialogue: 0,0:28:45.43,0:28:47.53,英文,,0,0,0,,So do as I say, not as I do.
Dialogue: 0,0:28:45.43,0:28:47.53,中文,,0,0,0,,要听我说 不要照我做
Dialogue: 0,0:28:47.53,0:28:53.05,英文,,0,0,0,,Because what I've been doing is I've been writing massive blobs of code without ever running or testing the code.
Dialogue: 0,0:28:47.53,0:28:53.05,中文,,0,0,0,,因为我一直在写大量的代码块 从来没有运行或测试代码
Dialogue: 0,0:28:53.05,0:28:56.51,英文,,0,0,0,,And if you do the same thing on project 1B, you're going to have a sad time.
Dialogue: 0,0:28:53.05,0:28:56.51,中文,,0,0,0,,如果你在项目1B上做同样的事情 你会度过一个悲伤的时光
Dialogue: 0,0:28:56.51,0:29:00.16,英文,,0,0,0,,Because you're going to write a ton of code, and then it's not going to work.
Dialogue: 0,0:28:56.51,0:29:00.16,中文,,0,0,0,,因为你将写大量的代码 然后它将无法工作
Dialogue: 0,0:29:00.16,0:29:02.08,英文,,0,0,0,,And you're going to have no idea where it failed.
Dialogue: 0,0:29:00.16,0:29:02.08,中文,,0,0,0,,而你将毫无头绪地不知道它在哪里失败
Dialogue: 0,0:29:02.08,0:29:03.94,英文,,0,0,0,,And that's going to be sad for everybody.
Dialogue: 0,0:29:02.08,0:29:03.94,中文,,0,0,0,,对每个人来说 这都是件令人悲伤的事情
Dialogue: 0,0:29:03.94,0:29:11.21,英文,,0,0,0,,So instead, remember the testing lecture from last time, We like to incrementally build our way up to programs that work.
Dialogue: 0,0:29:03.94,0:29:11.21,中文,,0,0,0,,相反地 记住上次的测试讲座 我们喜欢逐步构建能正常运行的程序
Dialogue: 0,0:29:11.21,0:29:15.79,英文,,0,0,0,,So every time you write something, you write a test first, you check that it works, and then you keep going.
Dialogue: 0,0:29:11.21,0:29:15.79,中文,,0,0,0,,每次你写点什么 都要先写一个测试 检查它是否有效 然后再继续前进
Dialogue: 0,0:29:15.79,0:29:17.79,英文,,0,0,0,,That way you can check your work as you go.
Dialogue: 0,0:29:15.79,0:29:17.79,中文,,0,0,0,,这样你可以一边工作一边检查
Dialogue: 0,0:29:17.79,0:29:22.94,英文,,0,0,0,,And if something goes wrong, you're not staring at, you know, 50 lines of code being like, which of these ones is wrong?
Dialogue: 0,0:29:17.79,0:29:22.94,中文,,0,0,0,,如果出了什么问题 你就不会盯着那五十行代码发愁 不知道哪里错了
Dialogue: 0,0:29:22.94,0:29:28.80,英文,,0,0,0,,So the reason I can just code all of this without checking is because I've practiced this lecture hundreds of times.
Dialogue: 0,0:29:22.94,0:29:28.80,中文,,0,0,0,,我能够在不检查的情况下编写所有这些代码 是因为我已经练习了这个讲座数百次
Dialogue: 0,0:29:28.80,0:29:32.29,英文,,0,0,0,,I've stared at a brick wall and recited the A-list before.
Dialogue: 0,0:29:28.80,0:29:32.29,中文,,0,0,0,,我曾经盯着一堵砖墙背诵过A列表
Dialogue: 0,0:29:32.29,0:29:39.23,英文,,0,0,0,,So unless you have also recited A-lists to brick walls before, then this is probably not the ideal strategy for coding.
Dialogue: 0,0:29:32.29,0:29:39.23,中文,,0,0,0,,除非你以前也曾经把A列表背诵给砖墙听过 否则这可能不是编码的理想策略
Dialogue: 0,0:29:39.23,0:29:44.13,英文,,0,0,0,,But for a lecture, for the story I'm telling, this is OK.
Dialogue: 0,0:29:39.23,0:29:44.13,中文,,0,0,0,,但对于一个讲座 对于我正在讲的故事 这是可以的
Dialogue: 0,0:29:44.13,0:29:48.32,英文,,0,0,0,,And I guess if I messed up, then I'll eat my words and we'll have to do it all over again.
Dialogue: 0,0:29:44.13,0:29:48.32,中文,,0,0,0,,我想如果我搞砸了 那我就自食其言 我们将不得不重新开始
Dialogue: 0,0:29:48.32,0:29:51.11,英文,,0,0,0,,OK. This works.
Dialogue: 0,0:29:48.32,0:29:51.11,中文,,0,0,0,,好的  这个可行
Dialogue: 0,0:29:51.11,0:29:52.21,英文,,0,0,0,,This is better.
Dialogue: 0,0:29:51.11,0:29:52.21,中文,,0,0,0,,这更好
Dialogue: 0,0:29:52.21,0:29:54.45,英文,,0,0,0,,If you're writing this, please test as you go.
Dialogue: 0,0:29:52.21,0:29:54.45,中文,,0,0,0,,如果你在写这个 请一边测试
Dialogue: 0,0:29:54.45,0:29:58.94,英文,,0,0,0,,And don't write blobs of code like me, unless you've practiced it 100 times.
Dialogue: 0,0:29:54.45,0:29:58.94,中文,,0,0,0,,不要像我一样写一大块的代码 除非你已经练习了100次
Dialogue: 0,0:29:58.94,0:29:59.96,英文,,0,0,0,,Questions?
Dialogue: 0,0:29:58.94,0:29:59.96,中文,,0,0,0,,有问题吗
Dialogue: 0,0:29:59.96,0:30:01.94,英文,,0,0,0,,OK. Great.
Dialogue: 0,0:29:59.96,0:30:01.94,中文,,0,0,0,,好的  太棒了
Dialogue: 0,0:30:01.94,0:30:06.52,英文,,0,0,0,,So as someone mentioned before, this method can be kind of slow.
Dialogue: 0,0:30:01.94,0:30:06.52,中文,,0,0,0,,就像之前有人提到的那样 这种方法可能有点慢
Dialogue: 0,0:30:06.52,0:30:08.21,英文,,0,0,0,,So how slow is it?
Dialogue: 0,0:30:06.52,0:30:08.21,中文,,0,0,0,,那么它有多慢呢
Dialogue: 0,0:30:08.21,0:30:13.27,英文,,0,0,0,,So to bring it to you a little bit and to make you think about it, let's say we have a full array of size 100.
Dialogue: 0,0:30:08.21,0:30:13.27,中文,,0,0,0,,为了让你更好地理解 让你思考一下 我们假设有一个大小为100的完整数组
Dialogue: 0,0:30:13.27,0:30:20.09,英文,,0,0,0,,In other words, the user has a list of size 100, and my underlying array of size 100 is totally full.
Dialogue: 0,0:30:13.27,0:30:20.09,中文,,0,0,0,,换句话说 用户有一个大小为100的列表 而我的基础数组大小为100 已经完全满了
Dialogue: 0,0:30:20.09,0:30:22.66,英文,,0,0,0,,And the user wants to call addLast two times.
Dialogue: 0,0:30:20.09,0:30:22.66,中文,,0,0,0,,而用户想要调用addLast两次
Dialogue: 0,0:30:22.66,0:30:25.78,英文,,0,0,0,,So they want to add another item, then add another item.
Dialogue: 0,0:30:22.66,0:30:25.78,中文,,0,0,0,,他们想要添加另一个项目 然后再添加一个项目
Dialogue: 0,0:30:25.78,0:30:34.14,英文,,0,0,0,,And so the question for you is, how many total array memory boxes do we need to create and fill to add these two items?
Dialogue: 0,0:30:25.78,0:30:34.14,中文,,0,0,0,,问题就是 我们需要创建和填充多少个总的数组内存盒子来添加这两个项目呢
Dialogue: 0,0:30:34.14,0:30:34.60,英文,,0,0,0,,Hmm.
Dialogue: 0,0:30:34.14,0:30:34.60,中文,,0,0,0,,嗯
Dialogue: 0,0:30:34.60,0:30:36.48,英文,,0,0,0,,And remember, what do we mean by creating and filling?
Dialogue: 0,0:30:34.60,0:30:36.48,中文,,0,0,0,,还记得 创建和填充是什么意思吗
Dialogue: 0,0:30:36.48,0:30:44.41,英文,,0,0,0,,Do you remember when we resized, we would, like, create a brand new array and then fill it with items by copying from the old array to the new array?
Dialogue: 0,0:30:36.48,0:30:44.41,中文,,0,0,0,,还记得当我们调整大小时 我们会创建一个全新的数组 然后通过从旧数组复制到新数组来填充它吗
Dialogue: 0,0:30:44.41,0:30:47.33,英文,,0,0,0,,That's creating and filling those array memory boxes.
Dialogue: 0,0:30:44.41,0:30:47.33,中文,,0,0,0,,那就是创建和填充那些数组内存盒子
Dialogue: 0,0:30:47.33,0:30:48.53,英文,,0,0,0,,So, hmm.
Dialogue: 0,0:30:47.33,0:30:48.53,中文,,0,0,0,,嗯
Dialogue: 0,0:30:48.53,0:30:51.13,英文,,0,0,0,,And if you're curious, you can go home and try the bonus question.
Dialogue: 0,0:30:48.53,0:30:51.13,中文,,0,0,0,,如果你感兴趣的话 可以回家试试奖励问题
Dialogue: 0,0:30:51.13,0:30:54.91,英文,,0,0,0,,Though for time, I probably won't talk about it live.
Dialogue: 0,0:30:51.13,0:30:54.91,中文,,0,0,0,,虽然时间有点紧 我可能不会实时讲解
Dialogue: 0,0:30:54.91,0:30:57.71,英文,,0,0,0,,Hmm, so I can think about it, ponder.
Dialogue: 0,0:30:54.91,0:30:57.71,中文,,0,0,0,,这样我可以考虑一下 思考一下
Dialogue: 0,0:30:57.71,0:30:59.73,英文,,0,0,0,,So I have an array of size 100.
Dialogue: 0,0:30:57.71,0:30:59.73,中文,,0,0,0,,我有一个大小为100的数组
Dialogue: 0,0:30:59.73,0:31:02.87,英文,,0,0,0,,Well, what happens when I call addLast for the first time?
Dialogue: 0,0:30:59.73,0:31:02.87,中文,,0,0,0,,当我第一次调用addLast时会发生什么
Dialogue: 0,0:31:02.87,0:31:08.89,英文,,0,0,0,,Well, then I have to take a brand new array of size 101 and then fill all the memory boxes.
Dialogue: 0,0:31:02.87,0:31:08.89,中文,,0,0,0,,那么我必须取一个全新大小为101的数组 然后填满所有的内存格子
Dialogue: 0,0:31:08.89,0:31:10.83,英文,,0,0,0,,OK, and then what about the second time?
Dialogue: 0,0:31:08.89,0:31:10.83,中文,,0,0,0,,那第二次呢
Dialogue: 0,0:31:10.83,0:31:16.91,英文,,0,0,0,,Well, now the 101 array is not big enough, so I have to create another array of size 102 and fill it in.
Dialogue: 0,0:31:10.83,0:31:16.91,中文,,0,0,0,,现在101的数组不够大了 所以我必须创建另一个大小为102的数组并填充它
Dialogue: 0,0:31:16.91,0:31:21.46,英文,,0,0,0,,So what are we thinking?
Dialogue: 0,0:31:16.91,0:31:21.46,中文,,0,0,0,,我们在想什么呢
Dialogue: 0,0:31:21.46,0:31:21.92,英文,,0,0,0,,C?
Dialogue: 0,0:31:21.46,0:31:21.92,中文,,0,0,0,,C语言
Dialogue: 0,0:31:21.92,0:31:23.04,英文,,0,0,0,,I heard some Cs.
Dialogue: 0,0:31:21.92,0:31:23.04,中文,,0,0,0,,我听说有些C语言
Dialogue: 0,0:31:23.04,0:31:23.82,英文,,0,0,0,,Maybe C?
Dialogue: 0,0:31:23.04,0:31:23.82,中文,,0,0,0,,或许是C语言
Dialogue: 0,0:31:23.82,0:31:24.50,英文,,0,0,0,,OK, we'll see.
Dialogue: 0,0:31:23.82,0:31:24.50,中文,,0,0,0,,我们会看看的
Dialogue: 0,0:31:24.50,0:31:27.42,英文,,0,0,0,,So C, pun not intended.
Dialogue: 0,0:31:24.50,0:31:27.42,中文,,0,0,0,,C语言 无意冒犯
Dialogue: 0,0:31:27.42,0:31:30.96,英文,,0,0,0,,OK, so resizing twice, turns out the answer is C203.
Dialogue: 0,0:31:27.42,0:31:30.96,中文,,0,0,0,,调整大小两次 结果是C203
Dialogue: 0,0:31:30.96,0:31:32.92,英文,,0,0,0,,And why is that?
Dialogue: 0,0:31:30.96,0:31:32.92,中文,,0,0,0,,那是为什么呢
Dialogue: 0,0:31:32.92,0:31:35.65,英文,,0,0,0,,Because what happens is I have my array of size 100.
Dialogue: 0,0:31:32.92,0:31:35.65,中文,,0,0,0,,因为情况是我有一个大小为100的数组
Dialogue: 0,0:31:35.65,0:31:38.85,英文,,0,0,0,,Then when I wanted to add something, this array was not large enough.
Dialogue: 0,0:31:35.65,0:31:38.85,中文,,0,0,0,,然后当我想要添加东西时 这个数组不够大
Dialogue: 0,0:31:38.85,0:31:46.13,英文,,0,0,0,,So I had to create a new array of size 101, copy all the items over, and then fill in my new item that I wanted to add.
Dialogue: 0,0:31:38.85,0:31:46.13,中文,,0,0,0,,我不得不创建一个新的大小为101的数组 把所有的项目都复制过去 然后填入我想要添加的新项目
Dialogue: 0,0:31:46.13,0:31:47.35,英文,,0,0,0,,And that was 101 create and fills.
Dialogue: 0,0:31:46.13,0:31:47.35,中文,,0,0,0,,这就是101次创建和填充
Dialogue: 0,0:31:47.35,0:31:51.48,英文,,0,0,0,,I created 101 memory boxes and filled them up.
Dialogue: 0,0:31:47.35,0:31:51.48,中文,,0,0,0,,我创建了101个内存盒并填满了它们
Dialogue: 0,0:31:51.48,0:31:56.46,英文,,0,0,0,,Then if I want to add last again, then I have to take this array and say, you're not large enough.
Dialogue: 0,0:31:51.48,0:31:56.46,中文,,0,0,0,,然后如果我再次想要添加最后一个 那么我必须拿起这个数组并说 你不够大
Dialogue: 0,0:31:56.46,0:31:57.74,英文,,0,0,0,,I want to throw you away.
Dialogue: 0,0:31:56.46,0:31:57.74,中文,,0,0,0,,我想把你丢掉
Dialogue: 0,0:31:57.74,0:32:02.36,英文,,0,0,0,,I want to make a new array that says 102, copy all the items, add the new one.
Dialogue: 0,0:31:57.74,0:32:02.36,中文,,0,0,0,,我想创建一个新数组 里面写着102 复制所有的项目 再加上新的
Dialogue: 0,0:32:02.36,0:32:07.66,英文,,0,0,0,,So in total, I had to create 101 plus 102, or a grand total of 203.
Dialogue: 0,0:32:02.36,0:32:07.66,中文,,0,0,0,,总共 我得创建101加102 或者说总共203个
Dialogue: 0,0:32:07.66,0:32:11.26,英文,,0,0,0,,And every time I do this, remember, I'm throwing the old arrays away.
Dialogue: 0,0:32:07.66,0:32:11.26,中文,,0,0,0,,每次我这样做的时候 记住 我都会把旧的数组丢掉
Dialogue: 0,0:32:11.26,0:32:17.32,英文,,0,0,0,,OK. OK, so that wasn't so bad.
Dialogue: 0,0:32:11.26,0:32:17.32,中文,,0,0,0,,好的  这还不算太糟糕
Dialogue: 0,0:32:17.32,0:32:20.95,英文,,0,0,0,,Now let's do the harder one, which is, I don't know why these slides are here.
Dialogue: 0,0:32:17.32,0:32:20.95,中文,,0,0,0,,现在让我们做更难的那个 也就是 我不知道为什么这些幻灯片在这里
Dialogue: 0,0:32:20.95,0:32:25.21,英文,,0,0,0,,OK, well, I could have sworn I was going to do this earlier.
Dialogue: 0,0:32:20.95,0:32:25.21,中文,,0,0,0,,我本来发誓我要更早地做这件事
Dialogue: 0,0:32:25.21,0:32:26.05,英文,,0,0,0,,I guess I'll do it later.
Dialogue: 0,0:32:25.21,0:32:26.05,中文,,0,0,0,,我想我以后再做吧
Dialogue: 0,0:32:26.05,0:32:27.47,英文,,0,0,0,,OK, that's OK.
Dialogue: 0,0:32:26.05,0:32:27.47,中文,,0,0,0,,没问题
Dialogue: 0,0:32:27.47,0:32:36.99,英文,,0,0,0,,So to make you think about this even more generally, what if I have an array of size 100, and I call addLast until size is equal to 1,000?
Dialogue: 0,0:32:27.47,0:32:36.99,中文,,0,0,0,,那么 为了让你更加一般地考虑这个问题 如果我有一个大小为100的数组 然后我不断调用 addLast 直到大小等于1,000呢
Dialogue: 0,0:32:36.99,0:32:41.98,英文,,0,0,0,,So I'm going to call addLast over and over and over again until size is equal to 1,000.
Dialogue: 0,0:32:36.99,0:32:41.98,中文,,0,0,0,,我要一遍又一遍地调用 addLast 直到大小等于1,000为止
Dialogue: 0,0:32:41.98,0:32:48.56,英文,,0,0,0,,Now, this time, how many total array memory boxes do we have to create and fill?
Dialogue: 0,0:32:41.98,0:32:48.56,中文,,0,0,0,,现在 这一次 我们到底需要创建和填充多少个数组内存盒子呢
Dialogue: 0,0:32:48.56,0:32:54.46,英文,,0,0,0,,A little harder than last time, because now we have to addLast a lot of times.
Dialogue: 0,0:32:48.56,0:32:54.46,中文,,0,0,0,,比上次难一点 因为现在我们需要多次调用 addLast
Dialogue: 0,0:32:54.46,0:33:04.30,英文,,0,0,0,,Turns out, if I think about it, turns out the pattern is kind of similar to last time.
Dialogue: 0,0:32:54.46,0:33:04.30,中文,,0,0,0,,原来 如果我仔细想想 原来这个模式有点类似上次的
Dialogue: 0,0:33:04.30,0:33:05.53,英文,,0,0,0,,How should we even approach this?
Dialogue: 0,0:33:04.30,0:33:05.53,中文,,0,0,0,,我们应该怎么着手呢
Dialogue: 0,0:33:05.53,0:33:07.63,英文,,0,0,0,,Well, I think about what happened last time.
Dialogue: 0,0:33:05.53,0:33:07.63,中文,,0,0,0,,我思考一下上次发生了什么
Dialogue: 0,0:33:07.63,0:33:12.39,英文,,0,0,0,,When I added an item, I had to create 101 memory boxes, copy the array.
Dialogue: 0,0:33:07.63,0:33:12.39,中文,,0,0,0,,当我添加一个项目时 我必须创建 101 个内存盒 然后复制数组
Dialogue: 0,0:33:12.39,0:33:17.97,英文,,0,0,0,,Then when I added another item, I had to create an array of size 102, and then fill those.
Dialogue: 0,0:33:12.39,0:33:17.97,中文,,0,0,0,,然后当我再添加另一个项目时 我必须创建一个大小为 102 的数组 然后填充这些
Dialogue: 0,0:33:17.97,0:33:24.26,英文,,0,0,0,,Then if I wanted to add again, I'd have to create an array of size 103, and copy all the items to this array.
Dialogue: 0,0:33:17.97,0:33:24.26,中文,,0,0,0,,然后如果我想再添加 我就得创建一个大小为 103 的数组 然后把所有项目都复制到这个数组中
Dialogue: 0,0:33:24.26,0:33:28.36,英文,,0,0,0,,Then I'd have to create an array of size 104, and then copy that.
Dialogue: 0,0:33:24.26,0:33:28.36,中文,,0,0,0,,然后我得创建一个大小为 104 的数组 然后再复制那个
Dialogue: 0,0:33:28.36,0:33:31.62,英文,,0,0,0,,Does anyone spot the pattern where this is going?
Dialogue: 0,0:33:28.36,0:33:31.62,中文,,0,0,0,,有没有人发现这个模式往哪走
Dialogue: 0,0:33:31.62,0:33:36.14,英文,,0,0,0,,So it seems like when I add an item, I have to resize to 101.
Dialogue: 0,0:33:31.62,0:33:36.14,中文,,0,0,0,,好像当我添加一个项目时 我必须调整到101
Dialogue: 0,0:33:36.14,0:33:38.90,英文,,0,0,0,,That creates 101 memory boxes.
Dialogue: 0,0:33:36.14,0:33:38.90,中文,,0,0,0,,那就创建101个内存盒
Dialogue: 0,0:33:38.90,0:33:42.19,英文,,0,0,0,,Then I have to create 102 memory boxes for the next add.
Dialogue: 0,0:33:38.90,0:33:42.19,中文,,0,0,0,,然后我必须为下一个添加创建102个内存盒
Dialogue: 0,0:33:42.19,0:33:46.67,英文,,0,0,0,,Then I have to create 1,000 memory boxes for 999 to 1,000.
Dialogue: 0,0:33:42.19,0:33:46.67,中文,,0,0,0,,然后我必须为999到1,000创建1,000个内存盒
Dialogue: 0,0:33:46.67,0:33:57.71,英文,,0,0,0,,So in total, the total number of array memory boxes that I create is 101 plus 102 plus 103 plus dot, dot, dot, all the way up to 1,000.
Dialogue: 0,0:33:46.67,0:33:57.71,中文,,0,0,0,,总的来说 我创建的数组内存盒的总数是101加102加103一直到1,000 因为前100项比我们谈论的900项要小得多
Dialogue: 0,0:33:57.71,0:34:07.05,英文,,0,0,0,,So it turns out this is pretty close to 1 plus 2 plus 3 all the way to 1,000, because those first 100 terms are a lot smaller than the 900 that we're talking about.
Dialogue: 0,0:33:57.71,0:34:07.05,中文,,0,0,0,,事实证明 这相当接近1加2加3一直到1,000 因为前100项比我们谈论的900项要小得多
Dialogue: 0,0:34:07.05,0:34:08.47,英文,,0,0,0,,And I just want a rough estimate.
Dialogue: 0,0:34:07.05,0:34:08.47,中文,,0,0,0,,我只是想要一个大概的估算
Dialogue: 0,0:34:08.47,0:34:14.89,英文,,0,0,0,,So I can just use this handy-dandy formula, where the sum of the first n numbers is n times n plus 1 over 2.
Dialogue: 0,0:34:08.47,0:34:14.89,中文,,0,0,0,,我可以使用这个方便的公式 其中前n个数的和是n乘以n加1除以2
Dialogue: 0,0:34:14.89,0:34:20.09,英文,,0,0,0,,And if I compute 1,000 times 1,001 divided by 2, I will get approximately 500,000.
Dialogue: 0,0:34:14.89,0:34:20.09,中文,,0,0,0,,如果我计算1000乘以1001除以2 我会得到大约500,000
Dialogue: 0,0:34:20.09,0:34:20.61,英文,,0,0,0,,So that's my answer.
Dialogue: 0,0:34:20.09,0:34:20.61,中文,,0,0,0,,这就是我的答案
Dialogue: 0,0:34:20.61,0:34:24.89,英文,,0,0,0,,Oh.
Dialogue: 0,0:34:20.61,0:34:24.89,中文,,0,0,0,,哦
Dialogue: 0,0:34:24.89,0:34:29.21,英文,,0,0,0,,You don't believe me that this is the sum of the first n positive integers.
Dialogue: 0,0:34:24.89,0:34:29.21,中文,,0,0,0,,你不相信这是前n个正整数的和
Dialogue: 0,0:34:29.21,0:34:31.25,英文,,0,0,0,,OK. In that case, I'm going to have to prove it to you.
Dialogue: 0,0:34:29.21,0:34:31.25,中文,,0,0,0,,好的  那样的话 我得向你证明一下
Dialogue: 0,0:34:31.25,0:34:38.16,英文,,0,0,0,,So this is my picture to prove it to you, which is, well, I have the sum from 1 to n. I can take the 1 and the n, pair them up.
Dialogue: 0,0:34:31.25,0:34:38.16,中文,,0,0,0,,这是我用来向你证明的图片 我有从1到n的总和 我可以把1和n配对起来
Dialogue: 0,0:34:38.16,0:34:39.34,英文,,0,0,0,,I get n plus 1.
Dialogue: 0,0:34:38.16,0:34:39.34,中文,,0,0,0,,我得到n加1
Dialogue: 0,0:34:39.34,0:34:41.52,英文,,0,0,0,,I take the 2 and the n minus 1.
Dialogue: 0,0:34:39.34,0:34:41.52,中文,,0,0,0,,我拿2和n减1
Dialogue: 0,0:34:41.52,0:34:42.46,英文,,0,0,0,,I pair them up.
Dialogue: 0,0:34:41.52,0:34:42.46,中文,,0,0,0,,我把它们配对
Dialogue: 0,0:34:42.46,0:34:44.68,英文,,0,0,0,,What is n minus 1 plus 2?
Dialogue: 0,0:34:42.46,0:34:44.68,中文,,0,0,0,,n减1加2是多少
Dialogue: 0,0:34:44.68,0:34:45.66,英文,,0,0,0,,n plus 1.
Dialogue: 0,0:34:44.68,0:34:45.66,中文,,0,0,0,,n加1
Dialogue: 0,0:34:45.66,0:34:47.87,英文,,0,0,0,,I take 3 plus n minus 2.
Dialogue: 0,0:34:45.66,0:34:47.87,中文,,0,0,0,,我取 3 加 n 减 2
Dialogue: 0,0:34:47.87,0:34:48.77,英文,,0,0,0,,I sum them up.
Dialogue: 0,0:34:47.87,0:34:48.77,中文,,0,0,0,,我把它们加起来
Dialogue: 0,0:34:48.77,0:34:50.45,英文,,0,0,0,,I get n plus 1.
Dialogue: 0,0:34:48.77,0:34:50.45,中文,,0,0,0,,我得到 n 加 1
Dialogue: 0,0:34:50.45,0:34:52.97,英文,,0,0,0,,So all items in this.
Dialogue: 0,0:34:50.45,0:34:52.97,中文,,0,0,0,,这一切项
Dialogue: 0,0:34:52.97,0:34:56.15,英文,,0,0,0,,List, or in this summation, I can make pairs.
Dialogue: 0,0:34:52.97,0:34:56.15,中文,,0,0,0,,在这个列表中 或者在这个求和中 我可以做成对
Dialogue: 0,0:34:56.15,0:34:57.88,英文,,0,0,0,,And every pair sums to n plus 1.
Dialogue: 0,0:34:56.15,0:34:57.88,中文,,0,0,0,,每一对都加起来等于 n 加 1
Dialogue: 0,0:34:57.88,0:34:59.20,英文,,0,0,0,,How many pairs are there?
Dialogue: 0,0:34:57.88,0:34:59.20,中文,,0,0,0,,有多少对呢
Dialogue: 0,0:34:59.20,0:35:01.02,英文,,0,0,0,,There are n items.
Dialogue: 0,0:34:59.20,0:35:01.02,中文,,0,0,0,,有 n 个项目
Dialogue: 0,0:35:01.02,0:35:01.98,英文,,0,0,0,,I put them in pairs.
Dialogue: 0,0:35:01.02,0:35:01.98,中文,,0,0,0,,我把它们成对放置
Dialogue: 0,0:35:01.98,0:35:03.82,英文,,0,0,0,,There are around n over 2 pairs.
Dialogue: 0,0:35:01.98,0:35:03.82,中文,,0,0,0,,大约有 n 除以 2 的成对
Dialogue: 0,0:35:03.82,0:35:05.97,英文,,0,0,0,,So I get n over 2 pairs.
Dialogue: 0,0:35:03.82,0:35:05.97,中文,,0,0,0,,我得到 n 除以 2 的成对
Dialogue: 0,0:35:05.97,0:35:09.39,英文,,0,0,0,,Each one sums to n plus 1. n times n plus 1 over 2.
Dialogue: 0,0:35:05.97,0:35:09.39,中文,,0,0,0,,每一个相加等于 n 加 1 n 乘以 n 加 1 除以 2
Dialogue: 0,0:35:09.39,0:35:10.73,英文,,0,0,0,,Now you believe me?
Dialogue: 0,0:35:09.39,0:35:10.73,中文,,0,0,0,,现在你相信我了吗
Dialogue: 0,0:35:10.73,0:35:14.52,英文,,0,0,0,,OK. If you don't believe me, we can talk about it afterwards.
Dialogue: 0,0:35:10.73,0:35:14.52,中文,,0,0,0,,好的  如果你不相信我 我们可以之后再讨论
Dialogue: 0,0:35:14.52,0:35:27.37,英文,,0,0,0,,OK, so the picture that we're about to see, and I guess I can demo it afterwards as well, is basically that inserting 100,000 items or inserting items in the list is a lot slower for the A list than the S list.
Dialogue: 0,0:35:14.52,0:35:27.37,中文,,0,0,0,,我们马上要看的图片 我猜我之后也可以演示 基本上是插入100,000个项目或在列表中插入项目对A列表来说比S列表慢很多
Dialogue: 0,0:35:27.37,0:35:29.36,英文,,0,0,0,,So in an A list,
Dialogue: 0,0:35:27.37,0:35:29.36,中文,,0,0,0,,在A列表中
Dialogue: 0,0:35:29.36,0:35:33.80,英文,,0,0,0,,Every time I add items, each progressive add gets slower.
Dialogue: 0,0:35:29.36,0:35:33.80,中文,,0,0,0,,我每次添加项目 后续的添加都会变慢
Dialogue: 0,0:35:33.80,0:35:34.50,英文,,0,0,0,,The first add took 101.
Dialogue: 0,0:35:33.80,0:35:34.50,中文,,0,0,0,,第一次添加用了101
Dialogue: 0,0:35:34.50,0:35:36.32,英文,,0,0,0,,Then the next add took 102.
Dialogue: 0,0:35:34.50,0:35:36.32,中文,,0,0,0,,然后下一次添加用了102
Dialogue: 0,0:35:36.32,0:35:38.12,英文,,0,0,0,,Then the next add took 103.
Dialogue: 0,0:35:36.32,0:35:38.12,中文,,0,0,0,,然后下一次添加用了103
Dialogue: 0,0:35:38.12,0:35:43.22,英文,,0,0,0,,And if I sum them up, I get this horrible, ugly-looking parabola.
Dialogue: 0,0:35:38.12,0:35:43.22,中文,,0,0,0,,如果我把它们加起来 就会得到这个可怕的、丑陋的抛物线
Dialogue: 0,0:35:43.22,0:35:45.56,英文,,0,0,0,,The more I add, the slower it takes.
Dialogue: 0,0:35:43.22,0:35:45.56,中文,,0,0,0,,我加得越多 花的时间就越多
Dialogue: 0,0:35:45.56,0:35:50.45,英文,,0,0,0,,By contrast, the S-list had this nice line, where every ad you do is constant time.
Dialogue: 0,0:35:45.56,0:35:50.45,中文,,0,0,0,,相比之下 S-列表有这样一条好线 你每次添加的广告都是恒定时间
Dialogue: 0,0:35:50.45,0:35:56.97,英文,,0,0,0,,So no matter how big the list is, if you want to add something, you skip to the end, you change a couple of pointers, and then you get your new item.
Dialogue: 0,0:35:50.45,0:35:56.97,中文,,0,0,0,,无论列表有多大 如果你想添加东西 你就跳到末尾 改变一些指针 然后你就得到你的新项目
Dialogue: 0,0:35:56.97,0:36:00.81,英文,,0,0,0,,So it turns out that an S-list, every ad takes the same amount of time.
Dialogue: 0,0:35:56.97,0:36:00.81,中文,,0,0,0,,结果是 在 S-列表中 每个广告所花费的时间都是相同的
Dialogue: 0,0:36:00.81,0:36:05.14,英文,,0,0,0,,So the more I add, the total amount of time spent adding is the line.
Dialogue: 0,0:36:00.81,0:36:05.14,中文,,0,0,0,,我添加的越多 总共花费的时间就是一条线
Dialogue: 0,0:36:05.14,0:36:14.05,英文,,0,0,0,,Whereas in an A-list, the total amount of time spent adding creates this gross parabola, because every successive ad takes more and more time, and I get
Dialogue: 0,0:36:05.14,0:36:14.05,中文,,0,0,0,,而在 A-列表中 总共花费的时间则形成了这个丑陋的抛物线 因为每次连续的广告都需要更多的时间
Dialogue: 0,0:36:14.05,0:36:15.99,英文,,0,0,0,,101, plus 102, plus 103.
Dialogue: 0,0:36:14.05,0:36:15.99,中文,,0,0,0,,101加102再加103
Dialogue: 0,0:36:15.99,0:36:18.61,英文,,0,0,0,,And in fact, this is not even to scale.
Dialogue: 0,0:36:15.99,0:36:18.61,中文,,0,0,0,,实际上 这甚至不是按比例缩放的
Dialogue: 0,0:36:18.61,0:36:22.38,英文,,0,0,0,,You see how the scale on this left picture is like 0.000 something?
Dialogue: 0,0:36:18.61,0:36:22.38,中文,,0,0,0,,你看左边这张图片的比例尺是0.000多
Dialogue: 0,0:36:22.38,0:36:25.52,英文,,0,0,0,,So if I put these pictures side by side, it really looks like that.
Dialogue: 0,0:36:22.38,0:36:25.52,中文,,0,0,0,,如果我把这些图片并排放置 看起来就像这样
Dialogue: 0,0:36:25.52,0:36:27.14,英文,,0,0,0,,That's the S list right there.
Dialogue: 0,0:36:25.52,0:36:27.14,中文,,0,0,0,,这就是S列表
Dialogue: 0,0:36:27.14,0:36:29.07,英文,,0,0,0,,And this is your gross, horrible A list.
Dialogue: 0,0:36:27.14,0:36:29.07,中文,,0,0,0,,而这就是你的总体糟糕的A列表
Dialogue: 0,0:36:29.07,0:36:30.74,英文,,0,0,0,,It's slow.
Dialogue: 0,0:36:29.07,0:36:30.74,中文,,0,0,0,,它很慢
Dialogue: 0,0:36:30.74,0:36:33.62,英文,,0,0,0,,So resizing, turns out, it's very slow.
Dialogue: 0,0:36:30.74,0:36:33.62,中文,,0,0,0,,调整大小 结果 速度非常慢
Dialogue: 0,0:36:33.62,0:36:34.84,英文,,0,0,0,,So how do we fix this?
Dialogue: 0,0:36:33.62,0:36:34.84,中文,,0,0,0,,那我们怎么解决这个问题呢
Dialogue: 0,0:36:34.84,0:36:41.81,英文,,0,0,0,,Well, I guess just to demo it, because I was going to do it earlier, but maybe the slides switched places and didn't tell me.
Dialogue: 0,0:36:34.84,0:36:41.81,中文,,0,0,0,,我猜只是为了演示一下 因为我本来要在之前做的 但也许幻灯片换了位置没告诉我
Dialogue: 0,0:36:41.81,0:36:46.13,英文,,0,0,0,,I have this little speed test code where I just test adding to an S list and adding to an A list.
Dialogue: 0,0:36:41.81,0:36:46.13,中文,,0,0,0,,我有这个小的速度测试代码 我只是测试向 SLList添加和向 AList添加
Dialogue: 0,0:36:46.13,0:36:50.40,英文,,0,0,0,,So I just say, while i is equal to gigantic number, add a bunch of items.
Dialogue: 0,0:36:46.13,0:36:50.40,中文,,0,0,0,,我就说 当 i 等于巨大的数时 添加一堆项目
Dialogue: 0,0:36:50.40,0:36:51.86,英文,,0,0,0,,So I can run the S list test.
Dialogue: 0,0:36:50.40,0:36:51.86,中文,,0,0,0,,我可以运行 SLList测试
Dialogue: 0,0:36:51.86,0:36:55.54,英文,,0,0,0,,And it turns out, after building and compiling, it's pretty fast.
Dialogue: 0,0:36:51.86,0:36:55.54,中文,,0,0,0,,结果发现 在构建和编译后 速度相当快
Dialogue: 0,0:36:55.54,0:36:57.96,英文,,0,0,0,,I'll run it again just to prove it.
Dialogue: 0,0:36:55.54,0:36:57.96,中文,,0,0,0,,我会再运行一次 就是为了证明一下
Dialogue: 0,0:36:57.96,0:36:58.96,英文,,0,0,0,,Pretty fast.
Dialogue: 0,0:36:57.96,0:36:58.96,中文,,0,0,0,,相当快
Dialogue: 0,0:36:58.96,0:37:02.54,英文,,0,0,0,,By contrast, the A-list, I'd have to wait a little bit.
Dialogue: 0,0:36:58.96,0:37:02.54,中文,,0,0,0,,相比之下 AList 我得等一会儿
Dialogue: 0,0:37:02.54,0:37:06.16,英文,,0,0,0,,I wait, I wait, I wait, and then it's done.
Dialogue: 0,0:37:02.54,0:37:06.16,中文,,0,0,0,,我等 我等 我等 然后就完成了
Dialogue: 0,0:37:06.16,0:37:11.26,英文,,0,0,0,,So we can even see on a list of size a million that the A-list is pretty slow.
Dialogue: 0,0:37:06.16,0:37:11.26,中文,,0,0,0,,即使在百万级别的列表上 AList的速度也相当慢
Dialogue: 0,0:37:11.26,0:37:13.84,英文,,0,0,0,,I can even crank it up just for fun.
Dialogue: 0,0:37:11.26,0:37:13.84,中文,,0,0,0,,我甚至可以为了好玩而把它提升一下
Dialogue: 0,0:37:13.84,0:37:17.18,英文,,0,0,0,,So I could say, what if there are 10 million items?
Dialogue: 0,0:37:13.84,0:37:17.18,中文,,0,0,0,,我可以说 如果有一千万个条目呢
Dialogue: 0,0:37:17.18,0:37:20.84,英文,,0,0,0,,OK, well, then the S-list is pretty fast.
Dialogue: 0,0:37:17.18,0:37:20.84,中文,,0,0,0,,那么 SLList的速度相当快
Dialogue: 0,0:37:20.84,0:37:23.56,英文,,0,0,0,,Well, not the fastest, but it still finishes.
Dialogue: 0,0:37:20.84,0:37:23.56,中文,,0,0,0,,并不是最快的 但仍然可以完成
Dialogue: 0,0:37:23.56,0:37:26.67,英文,,0,0,0,,Whereas if I do the same thing on the A-list,
Dialogue: 0,0:37:23.56,0:37:26.67,中文,,0,0,0,,但是如果我在 AList上做同样的事情
Dialogue: 0,0:37:26.67,0:37:28.33,英文,,0,0,0,,Well, let's find out.
Dialogue: 0,0:37:26.67,0:37:28.33,中文,,0,0,0,,让我们找出来
Dialogue: 0,0:37:28.33,0:37:29.47,英文,,0,0,0,,I run it.
Dialogue: 0,0:37:28.33,0:37:29.47,中文,,0,0,0,,我运行它
Dialogue: 0,0:37:29.47,0:37:31.35,英文,,0,0,0,,And remember the parabola from earlier, right?
Dialogue: 0,0:37:29.47,0:37:31.35,中文,,0,0,0,,还记得之前的抛物线吗
Dialogue: 0,0:37:31.35,0:37:34.63,英文,,0,0,0,,Every successive add takes longer and longer because I'm creating larger arrays.
Dialogue: 0,0:37:31.35,0:37:34.63,中文,,0,0,0,,每次添加操作都会变得越来越慢 因为我在创建更大的数组
Dialogue: 0,0:37:34.63,0:37:38.08,英文,,0,0,0,,And it runs.
Dialogue: 0,0:37:34.63,0:37:38.08,中文,,0,0,0,,而且它在运行
Dialogue: 0,0:37:38.08,0:37:39.34,英文,,0,0,0,,Hm.
Dialogue: 0,0:37:38.08,0:37:39.34,中文,,0,0,0,,嗯
Dialogue: 0,0:37:39.34,0:37:44.69,英文,,0,0,0,,In the interest of doing literally anything else today, I'm going to let that run in the background, and we'll come back here.
Dialogue: 0,0:37:39.34,0:37:44.69,中文,,0,0,0,,为了今天做任何其他事情的兴趣 我打算让它在后台运行 然后我们回到这里
Dialogue: 0,0:37:44.69,0:37:46.97,英文,,0,0,0,,OK. So how do we fix this?
Dialogue: 0,0:37:44.69,0:37:46.97,中文,,0,0,0,,好的  那么我们怎么解决这个问题呢
Dialogue: 0,0:37:46.97,0:37:51.21,英文,,0,0,0,,Well, it turns out this bug is kind of annoying, and the fix is not going to be obvious.
Dialogue: 0,0:37:46.97,0:37:51.21,中文,,0,0,0,,事实证明这个 bug 有点烦人 修复方法可能不明显
Dialogue: 0,0:37:51.21,0:37:54.40,英文,,0,0,0,,Even after I reveal it, it might not be obvious to you.
Dialogue: 0,0:37:51.21,0:37:54.40,中文,,0,0,0,,即使我揭示了它 对你来说可能仍然不明显
Dialogue: 0,0:37:54.40,0:38:07.01,英文,,0,0,0,,So maybe the first solution you think of is, well, what if instead of adding just a single item every time someone asks for more and I run out of space,
Dialogue: 0,0:37:54.40,0:38:07.01,中文,,0,0,0,,或许你首先想到的解决方案是 如果不是每次有人要求更多而我空间用完时只添加一个项目
Dialogue: 0,0:38:07.01,0:38:15.83,英文,,0,0,0,,What if instead of adding just one item in the new array so that it has extra capacity of one, what if I resize to size plus 10?
Dialogue: 0,0:38:07.01,0:38:15.83,中文,,0,0,0,,如果每次我空间用完时不是只添加一个新数组中的项目以便它多出一个容量 而是将大小调整为大小加上10呢
Dialogue: 0,0:38:15.83,0:38:20.48,英文,,0,0,0,,So every time I run out of space, I create a new array that's 10 items larger.
Dialogue: 0,0:38:15.83,0:38:20.48,中文,,0,0,0,,每当我用完空间时 我会创建一个比原来大10个项目的新数组
Dialogue: 0,0:38:20.48,0:38:24.26,英文,,0,0,0,,And then when that runs out, then I create another array that's 10 items larger.
Dialogue: 0,0:38:20.48,0:38:24.26,中文,,0,0,0,,然后当那个用完时 我再创建一个比原来大10个项目的新数组
Dialogue: 0,0:38:24.26,0:38:25.30,英文,,0,0,0,,Will this work?
Dialogue: 0,0:38:24.26,0:38:25.30,中文,,0,0,0,,这样行得通吗
Dialogue: 0,0:38:25.30,0:38:33.70,英文,,0,0,0,,Well, at first it seems like it works because I can run a little speed test like before, I can time how long it takes, and it takes like 0.3 seconds.
Dialogue: 0,0:38:25.30,0:38:33.70,中文,,0,0,0,,起初似乎可以 因为我可以像以前一样运行一次小速度测试 我可以计时它花费多长时间 它只需大约0.3秒
Dialogue: 0,0:38:33.70,0:38:36.72,英文,,0,0,0,,So maybe that fixed my issue.
Dialogue: 0,0:38:33.70,0:38:36.72,中文,,0,0,0,,也许这解决了我的问题
Dialogue: 0,0:38:36.72,0:38:44.20,英文,,0,0,0,,But if I crank up that 100,000 to a million, and I still use this size plus 10 strategy, the problem reemerges.
Dialogue: 0,0:38:36.72,0:38:44.20,中文,,0,0,0,,但如果我把这个 100,000 调整到一百万 并且我仍然使用这个大小加 10 的策略 问题就重新出现了
Dialogue: 0,0:38:44.20,0:38:48.14,英文,,0,0,0,,I end up taking 16 seconds to add a million items to my list.
Dialogue: 0,0:38:44.20,0:38:48.14,中文,,0,0,0,,我最终花了 16 秒将一百万个项目添加到我的列表中
Dialogue: 0,0:38:48.14,0:38:49.55,英文,,0,0,0,,That's a lot.
Dialogue: 0,0:38:48.14,0:38:49.55,中文,,0,0,0,,这可是很多啊
Dialogue: 0,0:38:49.55,0:38:52.73,英文,,0,0,0,,So even this size plus 10 strategy doesn't quite work.
Dialogue: 0,0:38:49.55,0:38:52.73,中文,,0,0,0,,即使使用这个大小加 10 的策略也不太管用
Dialogue: 0,0:38:52.73,0:38:56.31,英文,,0,0,0,,As you crank up the number of items, the issue reappears.
Dialogue: 0,0:38:52.73,0:38:56.31,中文,,0,0,0,,随着项目数量的增加 问题再次出现了
Dialogue: 0,0:38:56.31,0:39:01.96,英文,,0,0,0,,And we still have, fundamentally, the problem of that gross-looking parabola
Dialogue: 0,0:38:56.31,0:39:01.96,中文,,0,0,0,,而且 从根本上来说 我们仍然面临着一个问题 就是那个看起来很丑陋的抛物线
Dialogue: 0,0:39:01.96,0:39:05.96,英文,,0,0,0,,where every successive add takes more time because the array grows larger.
Dialogue: 0,0:39:01.96,0:39:05.96,中文,,0,0,0,,因为数组变得越来越大 每次添加都需要更多的时间
Dialogue: 0,0:39:05.96,0:39:13.35,英文,,0,0,0,,The fix, which is not at all obvious, and we're not going to have the tools to prove that this is the right answer until after the midterm,
Dialogue: 0,0:39:05.96,0:39:13.35,中文,,0,0,0,,这个修复方案 其实并不明显 我们在期中考试之后才会有工具来证明这是否是正确的答案
Dialogue: 0,0:39:13.35,0:39:22.35,英文,,0,0,0,,is actually, instead of making the size bigger by an additive factor, adding 10 items every time you run out of space, we're actually going to multiply by 2.
Dialogue: 0,0:39:13.35,0:39:22.35,中文,,0,0,0,,实际上 与其每次用一个加法因子增加大小 我们每次空间不足时添加 10 个项目 我们实际上将会乘以 2
Dialogue: 0,0:39:22.35,0:39:29.94,英文,,0,0,0,,which means every time the array gets full and the user's mental model is the same length as my underlying backing array,
Dialogue: 0,0:39:22.35,0:39:29.94,中文,,0,0,0,,这意味着每当数组填满 用户的心智模型与我底层数组的长度相同时
Dialogue: 0,0:39:29.94,0:39:36.94,英文,,0,0,0,,I'm going to resize the underlying array by creating a new array that is twice as large as the original array.
Dialogue: 0,0:39:29.94,0:39:36.94,中文,,0,0,0,,我会通过创建一个比原始数组大两倍的新数组来调整底层数组的大小
Dialogue: 0,0:39:36.94,0:39:38.88,英文,,0,0,0,,Then I'll throw in my original array.
Dialogue: 0,0:39:36.94,0:39:38.88,中文,,0,0,0,,然后我会把我的原始数组扔进去
Dialogue: 0,0:39:38.88,0:39:39.96,英文,,0,0,0,,This is amazing.
Dialogue: 0,0:39:38.88,0:39:39.96,中文,,0,0,0,,这太棒了
Dialogue: 0,0:39:39.96,0:39:43.79,英文,,0,0,0,,Now, if I had 100,000 items, it's quick, 0.06 seconds.
Dialogue: 0,0:39:39.96,0:39:43.79,中文,,0,0,0,,现在 如果我有10万个项目 速度很快 只需0.06秒
Dialogue: 0,0:39:43.79,0:39:46.25,英文,,0,0,0,,Even if I crank it up to a million, it's still quick.
Dialogue: 0,0:39:43.79,0:39:46.25,中文,,0,0,0,,即使我把它提升到百万级别 它仍然很快
Dialogue: 0,0:39:46.25,0:39:48.39,英文,,0,0,0,,It's 0.1 seconds.
Dialogue: 0,0:39:46.25,0:39:48.39,中文,,0,0,0,,只需0.1秒
Dialogue: 0,0:39:48.39,0:39:49.31,英文,,0,0,0,,So we did it.
Dialogue: 0,0:39:48.39,0:39:49.31,中文,,0,0,0,,我们做到了
Dialogue: 0,0:39:49.31,0:39:51.78,英文,,0,0,0,,Again, this fix should not be at all obvious.
Dialogue: 0,0:39:49.31,0:39:51.78,中文,,0,0,0,,再次强调 这个修复一点都不明显
Dialogue: 0,0:39:51.78,0:39:54.80,英文,,0,0,0,,We will not have the tools to talk about it until afterwards.
Dialogue: 0,0:39:51.78,0:39:54.80,中文,,0,0,0,,在之后我们将没有工具来讨论它
Dialogue: 0,0:39:54.80,0:39:56.77,英文,,0,0,0,,But that turns out to be the fix.
Dialogue: 0,0:39:54.80,0:39:56.77,中文,,0,0,0,,但结果证明这就是解决方法
Dialogue: 0,0:39:56.77,0:39:57.79,英文,,0,0,0,,Is this still not done?
Dialogue: 0,0:39:56.77,0:39:57.79,中文,,0,0,0,,这个还没完成吗
Dialogue: 0,0:39:57.79,0:40:00.62,英文,,0,0,0,,OK. We're not going to let you finish.
Dialogue: 0,0:39:57.79,0:40:00.62,中文,,0,0,0,,好的  我们不会让你完成
Dialogue: 0,0:40:00.62,0:40:05.44,英文,,0,0,0,,Instead, we're going to go and we're going to change this to be size times 2.
Dialogue: 0,0:40:00.62,0:40:05.44,中文,,0,0,0,,相反 我们会去 然后我们会将其更改为大小乘以2
Dialogue: 0,0:40:05.44,0:40:11.47,英文,,0,0,0,,So instead of resizing like that, we're going to say, every time you need a new array, create double the size.
Dialogue: 0,0:40:05.44,0:40:11.47,中文,,0,0,0,,不是像那样调整大小 我们会说 每次你需要一个新数组 都创建两倍的大小
Dialogue: 0,0:40:11.47,0:40:12.25,英文,,0,0,0,,Where's my?
Dialogue: 0,0:40:11.47,0:40:12.25,中文,,0,0,0,,我的东西在哪里
Dialogue: 0,0:40:12.25,0:40:14.01,英文,,0,0,0,,It's not size plus 100 anymore.
Dialogue: 0,0:40:12.25,0:40:14.01,中文,,0,0,0,,不再是大小加100了
Dialogue: 0,0:40:14.01,0:40:16.45,英文,,0,0,0,,It is size times 2.
Dialogue: 0,0:40:14.01,0:40:16.45,中文,,0,0,0,,它是大小乘以2
Dialogue: 0,0:40:16.45,0:40:19.87,英文,,0,0,0,,And remember before when I ran this and it simply never finished?
Dialogue: 0,0:40:16.45,0:40:19.87,中文,,0,0,0,,还记得之前当我运行这个而它根本没完成吗
Dialogue: 0,0:40:19.87,0:40:22.87,英文,,0,0,0,,Well, this time, if all goes well, it should actually finish.
Dialogue: 0,0:40:19.87,0:40:22.87,中文,,0,0,0,,好吧 这次如果一切顺利 它实际上应该完成
Dialogue: 0,0:40:22.87,0:40:24.80,英文,,0,0,0,,It'll tell me process egg finished.
Dialogue: 0,0:40:22.87,0:40:24.80,中文,,0,0,0,,它会告诉我进程 egg 完成
Dialogue: 0,0:40:24.80,0:40:25.74,英文,,0,0,0,,So it finished.
Dialogue: 0,0:40:24.80,0:40:25.74,中文,,0,0,0,,它完成了
Dialogue: 0,0:40:25.74,0:40:27.64,英文,,0,0,0,,It added 10 million items.
Dialogue: 0,0:40:25.74,0:40:27.64,中文,,0,0,0,,它增加了1000万个项目
Dialogue: 0,0:40:27.64,0:40:28.84,英文,,0,0,0,,Amazing.
Dialogue: 0,0:40:27.64,0:40:28.84,中文,,0,0,0,,太棒了
Dialogue: 0,0:40:28.84,0:40:29.98,英文,,0,0,0,,So that's the fix.
Dialogue: 0,0:40:28.84,0:40:29.98,中文,,0,0,0,,这就是修复的方法
Dialogue: 0,0:40:29.98,0:40:31.76,英文,,0,0,0,,Again, it is not at all obvious.
Dialogue: 0,0:40:29.98,0:40:31.76,中文,,0,0,0,,再次强调 这一点一点都不明显
Dialogue: 0,0:40:31.76,0:40:36.83,英文,,0,0,0,,If you're curious and you really want to see and look ahead to see why that's true, here's a video.
Dialogue: 0,0:40:31.76,0:40:36.83,中文,,0,0,0,,如果你好奇 而且你真的想看看并且提前看看为什么这是真的 这里有一个视频
Dialogue: 0,0:40:36.83,0:40:37.87,英文,,0,0,0,,You can check it out.
Dialogue: 0,0:40:36.83,0:40:37.87,中文,,0,0,0,,你可以查看一下
Dialogue: 0,0:40:37.87,0:40:44.98,英文,,0,0,0,,The rough intuition I can give, if I had to give you a one-line answer, is that as the array grows larger, we resize less often.
Dialogue: 0,0:40:37.87,0:40:44.98,中文,,0,0,0,,我能给你的初步直观感觉 如果必须简单概括的话 就是随着数组变得更大 我们的调整次数就越少
Dialogue: 0,0:40:44.98,0:40:53.20,英文,,0,0,0,,I don't know if that helps at all, but the idea is that every time you double, the resizing becomes less and less frequent, and the resizing is the expensive operation.
Dialogue: 0,0:40:44.98,0:40:53.20,中文,,0,0,0,,我不知道这是否有助于理解 但核心思想是每次扩展两倍 调整的频率就会变得越来越低 而调整是个耗时的操作
Dialogue: 0,0:40:53.20,0:40:56.52,英文,,0,0,0,,So roughly speaking, that's why this is much faster.
Dialogue: 0,0:40:53.20,0:40:56.52,中文,,0,0,0,,粗略地说 这就是为什么这样会更快的原因
Dialogue: 0,0:40:56.52,0:41:01.02,英文,,0,0,0,,If that made no sense whatsoever, it's OK to treat this as magic math for now.
Dialogue: 0,0:40:56.52,0:41:01.02,中文,,0,0,0,,如果这完全没让你理解 现在把它当作神奇的数学也没关系
Dialogue: 0,0:41:01.02,0:41:11.89,英文,,0,0,0,,And then after the midterm, we will discuss why adding a factor is terrible, but multiplying and expanding the array by a multiplicative factor is excellent.
Dialogue: 0,0:41:01.02,0:41:11.89,中文,,0,0,0,,然后在期中考之后 我们会讨论为什么添加一个因子是糟糕的 但通过乘法因子扩展数组是卓越的
Dialogue: 0,0:41:11.89,0:41:15.83,英文,,0,0,0,,OK, questions, thoughts, concerns?
Dialogue: 0,0:41:11.89,0:41:15.83,中文,,0,0,0,,有问题、想法或者疑虑吗
Dialogue: 0,0:41:15.83,0:41:17.95,英文,,0,0,0,,OK, cool.
Dialogue: 0,0:41:15.83,0:41:17.95,中文,,0,0,0,,很酷
Dialogue: 0,0:41:17.95,0:41:24.79,英文,,0,0,0,,So there's one more little problem that I want to fix, which is, what if I have an empty list and I add a billion items?
Dialogue: 0,0:41:17.95,0:41:24.79,中文,,0,0,0,,有一个小问题我想要解决 就是 如果我有一个空列表 然后我添加了十亿个项目呢
Dialogue: 0,0:41:24.79,0:41:25.39,英文,,0,0,0,,What's going to happen?
Dialogue: 0,0:41:24.79,0:41:25.39,中文,,0,0,0,,会发生什么
Dialogue: 0,0:41:25.39,0:41:28.11,英文,,0,0,0,,I'm going to double the size of the array over and over again.
Dialogue: 0,0:41:25.39,0:41:28.11,中文,,0,0,0,,我会一遍又一遍地将数组大小加倍
Dialogue: 0,0:41:28.11,0:41:29.94,英文,,0,0,0,,And my array is going to get huge.
Dialogue: 0,0:41:28.11,0:41:29.94,中文,,0,0,0,,我的数组会变得非常庞大
Dialogue: 0,0:41:29.94,0:41:32.42,英文,,0,0,0,,And then what if later I decide, you know what?
Dialogue: 0,0:41:29.94,0:41:32.42,中文,,0,0,0,,然后如果后来我决定 你知道吗
Dialogue: 0,0:41:32.42,0:41:33.14,英文,,0,0,0,,I changed my mind.
Dialogue: 0,0:41:32.42,0:41:33.14,中文,,0,0,0,,我改变主意了
Dialogue: 0,0:41:33.14,0:41:34.72,英文,,0,0,0,,I don't want any of this stuff anymore.
Dialogue: 0,0:41:33.14,0:41:34.72,中文,,0,0,0,,我不再想要这些东西了
Dialogue: 0,0:41:34.72,0:41:40.72,英文,,0,0,0,,And I'm going to delete 990 million of those items.
Dialogue: 0,0:41:34.72,0:41:40.72,中文,,0,0,0,,而我要删除其中的9.9亿个
Dialogue: 0,0:41:40.72,0:41:42.38,英文,,0,0,0,,Our speed test is going to be OK.
Dialogue: 0,0:41:40.72,0:41:42.38,中文,,0,0,0,,我们的速度测试会没问题的
Dialogue: 0,0:41:42.38,0:41:44.70,英文,,0,0,0,,It's going to run in decent speed.
Dialogue: 0,0:41:42.38,0:41:44.70,中文,,0,0,0,,它会以相当快的速度运行
Dialogue: 0,0:41:44.70,0:41:53.23,英文,,0,0,0,,But there's still a problem, which is my underlying backing array, I resized it to get larger and larger until it had space for billions of items.
Dialogue: 0,0:41:44.70,0:41:53.23,中文,,0,0,0,,但仍然存在一个问题 那就是我的底层支持数组 我调整了它的大小 使其变得越来越大 直到有了数十亿个项目的空间
Dialogue: 0,0:41:53.23,0:41:54.67,英文,,0,0,0,,Then I removed most of them.
Dialogue: 0,0:41:53.23,0:41:54.67,中文,,0,0,0,,然后我移除了大部分
Dialogue: 0,0:41:54.67,0:41:56.91,英文,,0,0,0,,So what does my underlying array look like now?
Dialogue: 0,0:41:54.67,0:41:56.91,中文,,0,0,0,,那么我的底层数组现在是什么样子呢
Dialogue: 0,0:41:56.91,0:41:58.62,英文,,0,0,0,,It's still got some items inside.
Dialogue: 0,0:41:56.91,0:41:58.62,中文,,0,0,0,,它里面还有一些项目
Dialogue: 0,0:41:58.62,0:42:03.74,英文,,0,0,0,,But it's this gigantic array with tons and tons and tons of unused memory boxes.
Dialogue: 0,0:41:58.62,0:42:03.74,中文,,0,0,0,,但它是一个巨大的数组 有大量未使用的内存盒子
Dialogue: 0,0:42:03.74,0:42:04.98,英文,,0,0,0,,And I don't like that.
Dialogue: 0,0:42:03.74,0:42:04.98,中文,,0,0,0,,而我不喜欢这一点
Dialogue: 0,0:42:04.98,0:42:13.44,英文,,0,0,0,,So I'm going to add an extra little improvement, which is that if it turns out that my underlying backing array is gigantic, it's 100 items,
Dialogue: 0,0:42:04.98,0:42:13.44,中文,,0,0,0,,我要做一个额外的小改进 就是如果事实证明我的底层支持数组很大 有100个项目
Dialogue: 0,0:42:13.44,0:42:25.44,英文,,0,0,0,, but I only have 4 items in the total array that are actually being used by the user, so the user's mental model is that there are 4 things, but my concrete reality is that there's a 100-item array,
Dialogue: 0,0:42:13.44,0:42:25.44,中文,,0,0,0,,但在用户实际使用的总数组中只有4个项目 那么用户的心理模型是有4个东西 但我的具体现实是有一个100项的数组
Dialogue: 0,0:42:25.44,0:42:28.21,英文,,0,0,0,,I'm going to say this array is too big for my purposes.
Dialogue: 0,0:42:25.44,0:42:28.21,中文,,0,0,0,,我会说这个数组对我的目的来说太大了
Dialogue: 0,0:42:28.21,0:42:32.09,英文,,0,0,0,,I'm wasting all this space because the user wants to represent a tiny list.
Dialogue: 0,0:42:28.21,0:42:32.09,中文,,0,0,0,,我浪费了所有这些空间 因为用户想要表示一个很小的列表
Dialogue: 0,0:42:32.09,0:42:34.41,英文,,0,0,0,,I'm using a gigantic array to represent it.
Dialogue: 0,0:42:32.09,0:42:34.41,中文,,0,0,0,,我使用一个巨大的数组来表示它
Dialogue: 0,0:42:34.41,0:42:38.45,英文,,0,0,0,,So what I'm going to do is I'm going to actually resize this array down.
Dialogue: 0,0:42:34.41,0:42:38.45,中文,,0,0,0,,我要做的是实际上调整这个数组的大小
Dialogue: 0,0:42:38.45,0:42:39.74,英文,,0,0,0,,And it works basically the same.
Dialogue: 0,0:42:38.45,0:42:39.74,中文,,0,0,0,,基本上它的运行方式一样
Dialogue: 0,0:42:39.74,0:42:44.04,英文,,0,0,0,,I create a smaller array, copy the items over, throw away the larger array.
Dialogue: 0,0:42:39.74,0:42:44.04,中文,,0,0,0,,我创建一个较小的数组 将项目复制过去 然后丢弃掉较大的数组
Dialogue: 0,0:42:44.04,0:42:46.52,英文,,0,0,0,,And that's nice because that's going to save me space.
Dialogue: 0,0:42:44.04,0:42:46.52,中文,,0,0,0,,这很好 因为这将为我节省空间
Dialogue: 0,0:42:46.52,0:42:51.03,英文,,0,0,0,,I'm not going to have billions and billions of zeros lying around for no reason.
Dialogue: 0,0:42:46.52,0:42:51.03,中文,,0,0,0,,我不想让数十亿个零无缘无故地存在
Dialogue: 0,0:42:51.03,0:42:55.91,英文,,0,0,0,,We'll talk about this again more after the midterm, about space efficiency and time efficiency.
Dialogue: 0,0:42:51.03,0:42:55.91,中文,,0,0,0,,期中考试后我们会更详细地讨论这个问题 关于空间效率和时间效率的问题
Dialogue: 0,0:42:55.91,0:43:05.50,英文,,0,0,0,,But for now, hopefully it feels kind of reasonable that we don't want a gigantic array of billions of items if I only have four things that the user wants to keep track of.
Dialogue: 0,0:42:55.91,0:43:05.50,中文,,0,0,0,,但目前 希望现在感觉上去还算合理 如果我只有四个用户想要跟踪的东西 我就不想要一个有数十亿个项目的巨大数组
Dialogue: 0,0:43:05.50,0:43:07.40,英文,,0,0,0,,So I can resize up if I'm out of space.
Dialogue: 0,0:43:05.50,0:43:07.40,中文,,0,0,0,,如果空间不够了 我可以调整大小
Dialogue: 0,0:43:07.40,0:43:12.36,英文,,0,0,0,,I can resize down if my array is so large and the user is not using most of it.
Dialogue: 0,0:43:07.40,0:43:12.36,中文,,0,0,0,,如果我的数组太大了而且用户并没有使用大部分的话 我可以缩小它
Dialogue: 0,0:43:12.36,0:43:22.54,英文,,0,0,0,,OK. I have one more thing to show you, which is, remember how last time we talked about how SLLists are great, but they only work for integers, and we made it generic?
Dialogue: 0,0:43:12.36,0:43:22.54,中文,,0,0,0,,好的  我还有一件事要向你展示 就是 你还记得上次我们谈论的关于SLLists很棒的那个问题吗 但它们只适用于整数 我们让它变成了通用的吗
Dialogue: 0,0:43:22.54,0:43:26.18,英文,,0,0,0,,We had those little brackets, and we put pineapple in a little demo.
Dialogue: 0,0:43:22.54,0:43:26.18,中文,,0,0,0,,我们有那些小括号 然后我们在一个小演示中放了菠萝
Dialogue: 0,0:43:26.18,0:43:28.86,英文,,0,0,0,,So it turns out you can do the same thing with ALists.
Dialogue: 0,0:43:26.18,0:43:28.86,中文,,0,0,0,,事实证明你也可以用ALists做同样的事情
Dialogue: 0,0:43:28.86,0:43:31.86,英文,,0,0,0,,I'm not going to do it for time, but it's basically the same.
Dialogue: 0,0:43:28.86,0:43:31.86,中文,,0,0,0,,我现在没有时间做 但基本上是一样的
Dialogue: 0,0:43:31.86,0:43:34.07,英文,,0,0,0,,So we add little brackets on top.
Dialogue: 0,0:43:31.86,0:43:34.07,中文,,0,0,0,,我们在上面加上小括号
Dialogue: 0,0:43:34.07,0:43:35.05,英文,,0,0,0,,You chose pineapple.
Dialogue: 0,0:43:34.07,0:43:35.05,中文,,0,0,0,,你选择了菠萝
Dialogue: 0,0:43:35.05,0:43:36.85,英文,,0,0,0,,The slides chose glorp.
Dialogue: 0,0:43:35.05,0:43:36.85,中文,,0,0,0,,幻灯片选择了glorp
Dialogue: 0,0:43:36.85,0:43:42.29,英文,,0,0,0,,And so that's a placeholder term for the type that you're going to choose when you create the AList.
Dialogue: 0,0:43:36.85,0:43:42.29,中文,,0,0,0,,这是一个占位符术语 用于在创建AList时选择的类型
Dialogue: 0,0:43:42.29,0:43:44.53,英文,,0,0,0,,So you're going to say, I want an alist of strings.
Dialogue: 0,0:43:42.29,0:43:44.53,中文,,0,0,0,,你要说 我想要一个字符串的alist
Dialogue: 0,0:43:44.53,0:43:45.91,英文,,0,0,0,,Then we'll take the word glorp.
Dialogue: 0,0:43:44.53,0:43:45.91,中文,,0,0,0,,然后我们会拿单词glorp
Dialogue: 0,0:43:45.91,0:43:48.68,英文,,0,0,0,,We'll replace it with string everywhere in the code.
Dialogue: 0,0:43:45.91,0:43:48.68,中文,,0,0,0,,我们会在代码中的任何地方替换它为字符串
Dialogue: 0,0:43:48.68,0:43:52.28,英文,,0,0,0,,And then this is now an alist blueprint that works for strings.
Dialogue: 0,0:43:48.68,0:43:52.28,中文,,0,0,0,,然后这现在是一个适用于字符串的alist蓝图
Dialogue: 0,0:43:52.28,0:43:53.26,英文,,0,0,0,,Or you can say, you know what?
Dialogue: 0,0:43:52.28,0:43:53.26,中文,,0,0,0,,或者你可以说 你知道吗
Dialogue: 0,0:43:53.26,0:43:55.83,英文,,0,0,0,,I want an alist of planets.
Dialogue: 0,0:43:53.26,0:43:55.83,中文,,0,0,0,,我想要一个行星的列表
Dialogue: 0,0:43:55.83,0:43:56.31,英文,,0,0,0,,OK, great.
Dialogue: 0,0:43:55.83,0:43:56.31,中文,,0,0,0,,太棒了
Dialogue: 0,0:43:56.31,0:43:57.61,英文,,0,0,0,,Then I'll take the word glorp.
Dialogue: 0,0:43:56.31,0:43:57.61,中文,,0,0,0,,然后我会取词 glorp
Dialogue: 0,0:43:57.61,0:43:59.11,英文,,0,0,0,,I'll replace it with planet.
Dialogue: 0,0:43:57.61,0:43:59.11,中文,,0,0,0,,我会用 planet 替换它
Dialogue: 0,0:43:59.11,0:44:02.13,英文,,0,0,0,,And then you will get an alist that works on planet objects.
Dialogue: 0,0:43:59.11,0:44:02.13,中文,,0,0,0,,然后你会得到一个适用于行星对象的列表
Dialogue: 0,0:44:02.13,0:44:07.32,英文,,0,0,0,,So if that were all that generic A-lists were, I wouldn't even have to tell you this.
Dialogue: 0,0:44:02.13,0:44:07.32,中文,,0,0,0,,如果泛型 AList只是这些的话 我甚至不需要告诉你
Dialogue: 0,0:44:07.32,0:44:16.94,英文,,0,0,0,,And the reason why we're here is because there is a very weird syntactic quirk of Java that does not allow you to instantiate arrays of generic types.
Dialogue: 0,0:44:07.32,0:44:16.94,中文,,0,0,0,,我们在这里的原因是因为 Java 有一个非常奇怪的语法怪癖 不允许你实例化泛型类型的数组
Dialogue: 0,0:44:16.94,0:44:18.12,英文,,0,0,0,,It's very strange.
Dialogue: 0,0:44:16.94,0:44:18.12,中文,,0,0,0,,非常奇怪
Dialogue: 0,0:44:18.12,0:44:19.64,英文,,0,0,0,,I won't talk about it too much.
Dialogue: 0,0:44:18.12,0:44:19.64,中文,,0,0,0,,我不会说太多关于它
Dialogue: 0,0:44:19.64,0:44:22.64,英文,,0,0,0,,And there will be some magic words that you can use to make it work.
Dialogue: 0,0:44:19.64,0:44:22.64,中文,,0,0,0,,而且会有一些魔术词 你可以用来让它工作
Dialogue: 0,0:44:22.64,0:44:25.04,英文,,0,0,0,,So basically, here.
Dialogue: 0,0:44:22.64,0:44:25.04,中文,,0,0,0,,基本上 在这里
Dialogue: 0,0:44:25.04,0:44:30.11,英文,,0,0,0,,If we were just doing this the same way we did for SLLists, we would say, this is no longer an array of integers.
Dialogue: 0,0:44:25.04,0:44:30.11,中文,,0,0,0,,如果我们只是像为 SLLists 做的那样 我们会说 这不再是一个整数数组
Dialogue: 0,0:44:30.11,0:44:33.81,英文,,0,0,0,,This is now an array of pineapple, or whatever word you chose last time.
Dialogue: 0,0:44:30.11,0:44:33.81,中文,,0,0,0,,现在这是一个菠萝数组 或者是你上次选择的任何单词
Dialogue: 0,0:44:33.81,0:44:38.31,英文,,0,0,0,,So you might be tempted to do this, but Java will complain and say, you cannot do this.
Dialogue: 0,0:44:33.81,0:44:38.31,中文,,0,0,0,,你可能会想这样做 但是 Java 会抱怨并说 你不能这样做
Dialogue: 0,0:44:38.31,0:44:41.90,英文,,0,0,0,,You cannot have a placeholder word if you're creating a new array.
Dialogue: 0,0:44:38.31,0:44:41.90,中文,,0,0,0,,如果你正在创建一个新数组 就不能有一个占位符
Dialogue: 0,0:44:41.90,0:44:44.36,英文,,0,0,0,,And the details of this are not too interesting.
Dialogue: 0,0:44:41.90,0:44:44.36,中文,,0,0,0,,而这个的细节并不是太有趣
Dialogue: 0,0:44:44.36,0:44:46.64,英文,,0,0,0,,Maybe we'll talk about it later if we have time.
Dialogue: 0,0:44:44.36,0:44:46.64,中文,,0,0,0,,也许我们以后有时间再谈论它
Dialogue: 0,0:44:46.64,0:44:49.78,英文,,0,0,0,,But for now, just trust me and say the magic words.
Dialogue: 0,0:44:46.64,0:44:49.78,中文,,0,0,0,,但现在 只是相信我 说出魔法词语
Dialogue: 0,0:44:49.78,0:44:53.08,英文,,0,0,0,,The magic words you're going to say are, instead of saying new glorp,
Dialogue: 0,0:44:49.78,0:44:53.08,中文,,0,0,0,,你要说的魔法词语是 而不是说 new glorp
Dialogue: 0,0:44:53.08,0:44:54.45,英文,,0,0,0,,Because the word glorp can't be here.
Dialogue: 0,0:44:53.08,0:44:54.45,中文,,0,0,0,,因为 glorp 这个词不能在这里
Dialogue: 0,0:44:54.45,0:44:59.69,英文,,0,0,0,,You can't put a placeholder in the declaration of an array or the instantiation of an array.
Dialogue: 0,0:44:54.45,0:44:59.69,中文,,0,0,0,,在声明数组或实例化数组时 不能放置占位符
Dialogue: 0,0:44:59.69,0:45:02.09,英文,,0,0,0,,You're going to say new object.
Dialogue: 0,0:44:59.69,0:45:02.09,中文,,0,0,0,,你要说新对象
Dialogue: 0,0:45:02.09,0:45:04.25,英文,,0,0,0,,OK. And trust me for now.
Dialogue: 0,0:45:02.09,0:45:04.25,中文,,0,0,0,,好的  现在就相信我吧
Dialogue: 0,0:45:04.25,0:45:07.21,英文,,0,0,0,,And if you put new object, well, that's great.
Dialogue: 0,0:45:04.25,0:45:07.21,中文,,0,0,0,,如果你放置了新对象 那很好
Dialogue: 0,0:45:07.21,0:45:08.41,英文,,0,0,0,,But Java's going to complain again.
Dialogue: 0,0:45:07.21,0:45:08.41,中文,,0,0,0,,但是Java又会抱怨
Dialogue: 0,0:45:08.41,0:45:10.79,英文,,0,0,0,,It's going to say, what's it going to say?
Dialogue: 0,0:45:08.41,0:45:10.79,中文,,0,0,0,,它会说 它会说什么
Dialogue: 0,0:45:10.79,0:45:12.87,英文,,0,0,0,,Required pineapple to be found object.
Dialogue: 0,0:45:10.79,0:45:12.87,中文,,0,0,0,,需要找到菠萝对象
Dialogue: 0,0:45:12.87,0:45:13.79,英文,,0,0,0,,No problem.
Dialogue: 0,0:45:12.87,0:45:13.79,中文,,0,0,0,,没问题
Dialogue: 0,0:45:13.79,0:45:19.73,英文,,0,0,0,,I'll just use this other mysterious syntax, and I'll put pineapple in parentheses.
Dialogue: 0,0:45:13.79,0:45:19.73,中文,,0,0,0,,我只需使用另一种神秘的语法 然后将菠萝放在括号中
Dialogue: 0,0:45:19.73,0:45:21.54,英文,,0,0,0,,OK, and I'll get this weird warning.
Dialogue: 0,0:45:19.73,0:45:21.54,中文,,0,0,0,,我会收到这个奇怪的警告
Dialogue: 0,0:45:21.54,0:45:23.24,英文,,0,0,0,,There's nothing you can do about this, unfortunately.
Dialogue: 0,0:45:21.54,0:45:23.24,中文,,0,0,0,,不幸的是 对此无能为力
Dialogue: 0,0:45:23.24,0:45:24.72,英文,,0,0,0,,The warning will have to stay.
Dialogue: 0,0:45:23.24,0:45:24.72,中文,,0,0,0,,警告将不得不保留
Dialogue: 0,0:45:24.72,0:45:27.14,英文,,0,0,0,,So that's the weird syntax you're going to have to use.
Dialogue: 0,0:45:24.72,0:45:27.14,中文,,0,0,0,,这就是你必须使用的奇怪语法
Dialogue: 0,0:45:27.14,0:45:29.24,英文,,0,0,0,,This is a cast, if you're familiar at all.
Dialogue: 0,0:45:27.14,0:45:29.24,中文,,0,0,0,,这是一个演示 如果你有一些了解的话
Dialogue: 0,0:45:29.24,0:45:31.83,英文,,0,0,0,,If you're not, I promise you we'll talk about it later.
Dialogue: 0,0:45:29.24,0:45:31.83,中文,,0,0,0,,如果你不了解 我向你保证我们待会儿会谈论这个
Dialogue: 0,0:45:31.83,0:45:41.03,英文,,0,0,0,,But for now, just trust us that you're going to create a new object, whatever that is, and then put these little parentheses around to say, actually, it's a glorp.
Dialogue: 0,0:45:31.83,0:45:41.03,中文,,0,0,0,,但现在 只要相信我们 你将创建一个新的对象 不管那是什么 并在周围加上这些小括号 表示实际上它是一个 glorp
Dialogue: 0,0:45:41.03,0:45:43.52,英文,,0,0,0,,OK. Hold on, I have one more thing to do.
Dialogue: 0,0:45:41.03,0:45:43.52,中文,,0,0,0,,好的  等一下 我还有一件事要做
Dialogue: 0,0:45:43.52,0:45:47.46,英文,,0,0,0,,So if you just do new Glorp, it's going to complain at you.
Dialogue: 0,0:45:43.52,0:45:47.46,中文,,0,0,0,,如果你只是执行 new Glorp 它会向你抱怨的
Dialogue: 0,0:45:47.46,0:45:48.24,英文,,0,0,0,,Don't do that.
Dialogue: 0,0:45:47.46,0:45:48.24,中文,,0,0,0,,不要这样做
Dialogue: 0,0:45:48.24,0:45:49.91,英文,,0,0,0,,Just follow the magic words for now.
Dialogue: 0,0:45:48.24,0:45:49.91,中文,,0,0,0,,现在就跟着这些魔法词吧
Dialogue: 0,0:45:49.91,0:45:53.79,英文,,0,0,0,,Say, parentheses, Glorp, new object, and everything will be OK.
Dialogue: 0,0:45:49.91,0:45:53.79,中文,,0,0,0,,说 括号 Glorp 新对象 一切都会没问题的
Dialogue: 0,0:45:53.79,0:45:58.59,英文,,0,0,0,,So the final thing I want to say about generic ALists, as opposed to
Dialogue: 0,0:45:53.79,0:45:58.59,中文,,0,0,0,,那么关于通用的 ALists 最后我想说的是
Dialogue: 0,0:45:58.59,0:46:28.79,英文,,0,0,0,,I'm going to show you how to do that in a minute.
Dialogue: 0,0:45:58.59,0:46:28.79,中文,,0,0,0,,我马上就要演示给你看如何做
Dialogue: 0,0:46:28.79,0:46:29.51,英文,,0,0,0,,What is loitering?
Dialogue: 0,0:46:28.79,0:46:29.51,中文,,0,0,0,,什么是徘徊
Dialogue: 0,0:46:29.51,0:46:33.83,英文,,0,0,0,,Well, let's consider I have an array, not of integers, but of pictures.
Dialogue: 0,0:46:29.51,0:46:33.83,中文,,0,0,0,,让我们考虑我有一个数组 不是整数 而是图片
Dialogue: 0,0:46:33.83,0:46:41.64,英文,,0,0,0,,So I have a reference to the items array, and every memory box in the items array does not hold the picture, but holds a reference to the picture.
Dialogue: 0,0:46:33.83,0:46:41.64,中文,,0,0,0,,我有一个指向 items 数组的引用 而 items 数组中的每个内存盒都不存储图片 而是存储图片的引用
Dialogue: 0,0:46:41.64,0:46:46.12,英文,,0,0,0,,So I have a reference to this picture, reference to this picture, reference to this picture.
Dialogue: 0,0:46:41.64,0:46:46.12,中文,,0,0,0,,我有这张图片的引用 这张图片的引用 这张图片的引用
Dialogue: 0,0:46:46.12,0:46:50.24,英文,,0,0,0,,And if we did the trick that we did earlier today, where I say, you know what?
Dialogue: 0,0:46:46.12,0:46:50.24,中文,,0,0,0,,如果我们使用今天早些时候使用的技巧 我说 你知道吗
Dialogue: 0,0:46:50.24,0:46:51.94,英文,,0,0,0,,The user doesn't want this red set anymore.
Dialogue: 0,0:46:50.24,0:46:51.94,中文,,0,0,0,,用户不再想要这个红色的集合了
Dialogue: 0,0:46:51.94,0:46:54.28,英文,,0,0,0,,They want to delete this item from the list.
Dialogue: 0,0:46:51.94,0:46:54.28,中文,,0,0,0,,他们想从列表中删除这个项目
Dialogue: 0,0:46:54.28,0:47:01.19,英文,,0,0,0,,Well, if I leave this memory link hanging here, then Java is going to think, well, you still have a reference to this image.
Dialogue: 0,0:46:54.28,0:47:01.19,中文,,0,0,0,,如果我把这个内存链接留在这里 那么Java会认为 你仍然有对这张图片的引用
Dialogue: 0,0:47:01.19,0:47:02.87,英文,,0,0,0,,Someone still might want this image later.
Dialogue: 0,0:47:01.19,0:47:02.87,中文,,0,0,0,,有人后来可能还想要这张图片
Dialogue: 0,0:47:02.87,0:47:05.89,英文,,0,0,0,,Java doesn't know that the user has deleted it from the list.
Dialogue: 0,0:47:02.87,0:47:05.89,中文,,0,0,0,,Java不知道用户已经从列表中删除它
Dialogue: 0,0:47:05.89,0:47:06.99,英文,,0,0,0,,Java doesn't know.
Dialogue: 0,0:47:05.89,0:47:06.99,中文,,0,0,0,,Java 不知道
Dialogue: 0,0:47:06.99,0:47:09.15,英文,,0,0,0,,So Java is going to think, there's still a reference.
Dialogue: 0,0:47:06.99,0:47:09.15,中文,,0,0,0,,所以 Java 会认为 还有一个引用
Dialogue: 0,0:47:09.15,0:47:14.10,英文,,0,0,0,,There's still a memory box holding the address of this wonderful red loitering sign.
Dialogue: 0,0:47:09.15,0:47:14.10,中文,,0,0,0,,还有一个内存盒子 里面保存着这个美丽的红色徘徊标志的地址
Dialogue: 0,0:47:14.10,0:47:16.14,英文,,0,0,0,,It's like you still have the note to the treasure.
Dialogue: 0,0:47:14.10,0:47:16.14,中文,,0,0,0,,就像你仍然有通往宝藏的纸条一样
Dialogue: 0,0:47:16.14,0:47:23.38,英文,,0,0,0,,So Java is going to say the memory, the garbage collector cannot come and destroy this item yet because you still have a link to it.
Dialogue: 0,0:47:16.14,0:47:23.38,中文,,0,0,0,,所以 Java 会说 垃圾收集器不能来销毁这个项目 因为你仍然有一个链接指向它
Dialogue: 0,0:47:23.38,0:47:33.95,英文,,0,0,0,,So in a generic A-list, if someone does delete this loitering picture at index number 2, I actually do want to add this extra line where I set that item's memory box to null.
Dialogue: 0,0:47:23.38,0:47:33.95,中文,,0,0,0,,在一个通用的 AList中 如果有人确实删除了索引号为2的这个徘徊图片 我实际上确实想添加这一行额外的代码 其中我将该项目的内存盒子设置为 null
Dialogue: 0,0:47:33.95,0:47:39.17,英文,,0,0,0,,Because what that will do is that will delete this arrow and say, there are no more references to this red sign.
Dialogue: 0,0:47:33.95,0:47:39.17,中文,,0,0,0,,因为这样做的效果是删除这个箭头 并说 不再有对这个红色标志的引用了
Dialogue: 0,0:47:39.17,0:47:40.59,英文,,0,0,0,,Nobody needs this anymore.
Dialogue: 0,0:47:39.17,0:47:40.59,中文,,0,0,0,,再也没有人需要这个了
Dialogue: 0,0:47:40.59,0:47:43.48,英文,,0,0,0,,The garbage collector can come and destroy the sign.
Dialogue: 0,0:47:40.59,0:47:43.48,中文,,0,0,0,,垃圾收集器可以过来销毁这个标记
Dialogue: 0,0:47:43.48,0:47:52.66,英文,,0,0,0,,And that's good, because if the user wants to delete this item from their list and they don't need it anymore, there is no reason to keep this list around in memory, or this image around, sorry,
Dialogue: 0,0:47:43.48,0:47:52.66,中文,,0,0,0,,而且这很好 因为如果用户想从他们的列表中删除此项目 并且他们不再需要它 那么没有理由保留此列表在内存中 或者保留此图像在这里 抱歉
Dialogue: 0,0:47:52.66,0:47:55.45,英文,,0,0,0,,This image could be huge, and I don't want to keep it around in memory.
Dialogue: 0,0:47:52.66,0:47:55.45,中文,,0,0,0,,这个图像可能非常庞大 我不想在内存中保留它
Dialogue: 0,0:47:55.45,0:47:56.63,英文,,0,0,0,,It's wasteful.
Dialogue: 0,0:47:55.45,0:47:56.63,中文,,0,0,0,,这是浪费的
Dialogue: 0,0:47:56.63,0:48:04.39,英文,,0,0,0,,So for a generic A-list, I do actually want to come change this link to null so that this loitering sign disappears.
Dialogue: 0,0:47:56.63,0:48:04.39,中文,,0,0,0,,对于通用的 AList 我确实想把这个链接更改为 null 这样这个徘徊的标记就消失了
Dialogue: 0,0:48:04.39,0:48:05.59,英文,,0,0,0,,Look, it's gone.
Dialogue: 0,0:48:04.39,0:48:05.59,中文,,0,0,0,,看 它消失了
Dialogue: 0,0:48:05.59,0:48:13.66,英文,,0,0,0,,And that way, that memory can be freed up for other images or whatever else you want, especially if these items are large.
Dialogue: 0,0:48:05.59,0:48:13.66,中文,,0,0,0,,这样一来 这个内存就可以被释放出来 用于其他图像或任何你想要的东西 尤其是如果这些项很大的话
Dialogue: 0,0:48:13.66,0:48:14.48,英文,,0,0,0,,Don't loiter.
Dialogue: 0,0:48:13.66,0:48:14.48,中文,,0,0,0,,不要徘徊
Dialogue: 0,0:48:14.48,0:48:24.74,英文,,0,0,0,,If that didn't make sense, or it feels kind of mysterious, try and think about why, for the integer case, we did not have this problem, and why we do have this problem when we're using generic reference types.
Dialogue: 0,0:48:14.48,0:48:24.74,中文,,0,0,0,,如果这听起来没有道理 或者感觉有点神秘 试着想一想为什么 在整数情况下 我们没有这个问题 而在使用通用引用类型时 为什么我们会遇到这个问题
Dialogue: 0,0:48:24.74,0:48:26.42,英文,,0,0,0,,It's a little puzzle for you to think about.
Dialogue: 0,0:48:24.74,0:48:26.42,中文,,0,0,0,,这是一个小谜题 让你思考一下
Dialogue: 0,0:48:26.42,0:48:33.29,英文,,0,0,0,,You can think back to the mystery of the walrus and primitive types and reference types if that is something that interests you.
Dialogue: 0,0:48:26.42,0:48:33.29,中文,,0,0,0,,如果对海象和原始类型以及引用类型的谜团感兴趣 你可以回想一下
Dialogue: 0,0:48:33.29,0:48:36.69,英文,,0,0,0,,But remember, for Project 2 or Project 1B, don't loiter.
Dialogue: 0,0:48:33.29,0:48:36.69,中文,,0,0,0,,但请记住 在项目2或项目1B中 不要徘徊
Dialogue: 0,0:48:36.69,0:48:38.19,英文,,0,0,0,,Build your ArrayList.
Dialogue: 0,0:48:36.69,0:48:38.19,中文,,0,0,0,,构建你的ArrayList
Dialogue: 0,0:48:38.19,0:48:40.77,英文,,0,0,0,,Final questions?
Dialogue: 0,0:48:38.19,0:48:40.77,中文,,0,0,0,,最后有没有问题
Dialogue: 0,0:48:40.77,0:48:42.89,英文,,0,0,0,,Before everyone's chairs start squeaking.
Dialogue: 0,0:48:40.77,0:48:42.89,中文,,0,0,0,,在每个人的椅子开始发出吱吱声之前
Dialogue: 0,0:48:42.89,0:48:44.39,英文,,0,0,0,,Okay. I will see you next time then.
Dialogue: 0,0:48:42.89,0:48:44.39,中文,,0,0,0,,好的  那下次见了
Dialogue: 0,0:48:44.39,0:48:48.46,英文,,0,0,0,,Bye.
Dialogue: 0,0:48:44.39,0:48:48.46,中文,,0,0,0,,再见
Dialogue: 0,0:48:48.46,0:48:49.22,英文,,0,0,0,,Wow.
Dialogue: 0,0:48:48.46,0:48:49.22,中文,,0,0,0,,哇
Dialogue: 0,0:48:49.22,0:48:49.89,英文,,0,0,0,,Applause.
Dialogue: 0,0:48:49.22,0:48:49.89,中文,,0,0,0,,鼓掌
Dialogue: 0,0:48:49.89,0:48:50.45,英文,,0,0,0,,I'm so honored.
Dialogue: 0,0:48:49.89,0:48:50.45,中文,,0,0,0,,我感到非常荣幸
Dialogue: 0,0:48:50.45,0:48:51.63,英文,,0,0,0,,Okay.
Dialogue: 0,0:48:50.45,0:48:51.63,中文,,0,0,0,,好的
